<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>🚗 Demo - Vanilla JS 🍦</title>
  </head>
  <body>
    <script type="module">
      import {
        appendWebPlayer,
        DEFAULT_EVENT_PREFIX,
        EVENT_COMPOSITION_LOADED,
      } from "@car-cutter/vanilla-webplayer";

      function init() {
        const targetElement = document.getElementById("webplayer-wrapper");

        // Custom media
        const imgElmt = document.createElement("img");
        imgElmt.src =
          "https://cdn.car-cutter.com/libs/web-player/v3/assets/mocks/custom_image_1.jpg";

        // Custom Icon (SVG)
        const svgElmt = document.createElement("svg");
        svgElmt.setAttribute("xmlns", "http://www.w3.org/2000/svg");
        svgElmt.setAttribute("width", "24");
        svgElmt.setAttribute("height", "24");
        svgElmt.setAttribute("viewBox", "0 0 24 24");

        const pathElmt = document.createElement("path");
        pathElmt.setAttribute("fill", "currentColor");
        pathElmt.setAttribute(
          "d",
          "M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z"
        );

        svgElmt.appendChild(pathElmt);

        appendWebPlayer(
          targetElement,
          {
            compositionUrl:
              "https://cdn.car-cutter.com/libs/web-player/v3/demos/composition.json",
            infiniteCarrousel: true,
            permanentGallery: true,
          },
          {
            customMedias: [
              {
                index: 4,
                element: imgElmt,
                thumbnailSrc:
                  "https://cdn.car-cutter.com/libs/web-player/v3/assets/mocks/custom_thumbnail_audi.png",
              },
            ],
            icons: [
              {
                name: "UI_IMAGE",
                element: svgElmt,
              },
            ],
          }
        );

        document.addEventListener(
          `${DEFAULT_EVENT_PREFIX}${EVENT_COMPOSITION_LOADED}`,
          () => console.log("Composition loaded")
        );
      }

      init();
    </script>

    <div id="app">
      <h1>Vanilla App</h1>

      <div
        id="webplayer-wrapper"
        style="max-width: 800px; margin-inline: auto"
      ></div>
    </div>
  </body>
</html>
