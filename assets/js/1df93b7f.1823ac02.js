"use strict";(self.webpackChunk_car_cutter_webplayer_docs=self.webpackChunk_car_cutter_webplayer_docs||[]).push([[583],{508:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});n(4041);var o=n(213),r=n(1085);function a({children:e,fallback:t}){return(0,o.A)()?(0,r.jsx)(r.Fragment,{children:e?.()}):t??null}var i=n(2436),s=n(396),l=n(4506),c=n(4441),d=n(6047),u=n(4357),p="spinner_eURC";const h={primary:"colorPrimary_PHza",neutral:"colorNeutral_R8x2"},m={sm:"sizeSm_k7MZ",md:"sizeMd_N5CG",lg:"sizeLg_LtJM"};var f=({color:e="neutral",size:t="md"})=>{const n=h[e],o=m[t];return(0,r.jsx)("div",{className:`${p} ${o} ${n}`})},g={header:"header_gB2a",main:"main_iUjq",ctas:"ctas_QQF5",container:"container_bfhl",spinnerWrapper:"spinnerWrapper_ZjtA",playerWrapper:"playerWrapper_pkmO"};const v="https://cdn.car-cutter.com/libs/web-player/v3/demos/composition.json";function x(){const{siteConfig:e}=(0,s.A)();return(0,r.jsxs)(d.A,{title:e.title,description:"Display CarCutter images and videos directly on your website",children:[(0,r.jsx)("header",{className:g.header,children:(0,r.jsx)("div",{className:"container",children:(0,r.jsx)(c.A,{as:"h1",className:"hero__title",children:e.title})})}),(0,r.jsxs)("main",{className:(0,u.A)("container",g.main),children:[(0,r.jsxs)("div",{className:g.ctas,children:[(0,r.jsx)(i.A,{className:"button button--primary button--lg",to:"/docs/category/installation",children:"Get Started"}),(0,r.jsx)(i.A,{className:"button button--outline button--primary button--lg",to:"/docs/properties",children:"Customize"})]}),(0,r.jsx)(a,{fallback:(0,r.jsx)("div",{className:`${g.container} ${g.spinnerWrapper}`,children:(0,r.jsx)(f,{color:"primary",size:"lg"})}),children:()=>{const e=n(1191).WebPlayer;return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:`${g.container} ${g.playerWrapper}`,children:(0,r.jsx)(e,{compositionUrl:v})}),(0,r.jsx)(l.A,{className:"container",language:"tsx",children:`<WebPlayer compositionUrl="${v}" />`})]})}})]})]})}},1191:function(e,t,n){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const o=n(9798);n(1085);const r=n(4041),a=n(5873);var i=Object.defineProperty,s=(e,t,n)=>((e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);function l(e){return e.replace(/([a-z0-9])([A-Z])/g,(e,t,n)=>`${t}-${n.toLowerCase()}`)}function c(e){return e.replace(/[-:]([a-z])/g,(e,t)=>`${t.toUpperCase()}`)}const d={string:{stringify:e=>e,parse:e=>e},number:{stringify:e=>`${e}`,parse:e=>parseFloat(e)},boolean:{stringify:e=>e?"true":"false",parse:e=>/^[ty1-9]/i.test(e)},function:{stringify:e=>e.name,parse:(e,t,o)=>{const r=typeof window<"u"&&e in window?window[e]:typeof n.g<"u"&&e in n.g?n.g[e]:void 0;return"function"==typeof r?r.bind(o):void 0}},method:{stringify:e=>e.name,parse:(e,t,n)=>{const o=(()=>{const e=c(t);if(typeof n<"u"&&e in n.container)return n.container[e]})();return"function"==typeof o?o.bind(n):void 0}},json:{stringify:e=>JSON.stringify(e),parse:e=>JSON.parse(e)}},u=Symbol.for("r2wc.render"),p=Symbol.for("r2wc.connected"),h=Symbol.for("r2wc.context"),m=Symbol.for("r2wc.props");function f(e,t,n){const o=a.createRoot(e),i=r.createElement(t,n);return o.render(i),{root:o,ReactComponent:t}}function g({root:e,ReactComponent:t},n){const o=r.createElement(t,n);e.render(o)}function v({root:e}){setTimeout(()=>{e.unmount()},0)}function x(e,t={}){return function(e,t,n){var o,r,a;t.props||(t.props=e.propTypes?Object.keys(e.propTypes):[]),t.events||(t.events=[]);const i=Array.isArray(t.props)?t.props.slice():Object.keys(t.props),f=Array.isArray(t.events)?t.events.slice():Object.keys(t.events),g={},v={},x={},w={};for(const s of i){g[s]=Array.isArray(t.props)?"string":t.props[s];const e=l(s);x[s]=e,w[e]=s}for(const s of f)v[s]=Array.isArray(t.events)?{}:t.events[s];class b extends HTMLElement{constructor(){super(),s(this,a,!0),s(this,r),s(this,o,{}),s(this,"container"),t.shadow?this.container=this.attachShadow({mode:t.shadow}):this.container=this,this[m].container=this.container;for(const e of i){const t=x[e],n=this.getAttribute(t),o=g[e],r=o?d[o]:null;if("method"===o){const o=c(t);Object.defineProperty(this[m].container,o,{enumerable:!0,configurable:!0,get(){return this[m][o]},set(e){this[m][o]=e,this[u]()}}),this[m][e]=r.parse(n,t,this)}null!=r&&r.parse&&n&&(this[m][e]=r.parse(n,t,this))}for(const e of f)this[m][e]=t=>{const n=e.replace(/^on/,"").toLowerCase();this.dispatchEvent(new CustomEvent(n,{detail:t,...v[e]}))}}static get observedAttributes(){return Object.keys(w)}connectedCallback(){this[p]=!0,this[u]()}disconnectedCallback(){this[p]=!1,this[h]&&n.unmount(this[h]),delete this[h]}attributeChangedCallback(e,t,n){const o=w[e],r=g[o],a=r?d[r]:null;o in g&&null!=a&&a.parse&&n&&(this[m][o]=a.parse(n,e,this),this[u]())}[(a=p,r=h,o=m,u)](){this[p]&&(this[h]?n.update(this[h],this[m]):this[h]=n.mount(this.container,e,this[m]))}}for(const s of i){const e=x[s],t=g[s];Object.defineProperty(b.prototype,s,{enumerable:!0,configurable:!0,get(){return this[m][s]},set(n){this[m][s]=n;const o=t?d[t]:null;if(null!=o&&o.stringify){const t=o.stringify(n,e,this);this.getAttribute(e)!==t&&this.setAttribute(e,t)}else this[u]()}})}return b}(e,t,{mount:f,update:g,unmount:v})}const w=x(o.WebPlayerWithInjectedStyles,{shadow:"closed",props:{compositionUrl:"string",hideCategoriesNav:"boolean",infiniteCarrousel:"boolean",permanentGallery:"boolean",integration:"boolean",maxItemsShown:"number",minMediaWidth:"number",maxMediaWidth:"number",mediaLoadStrategy:"string",preloadRange:"number",autoLoad360:"boolean",autoLoadInterior360:"boolean",categoriesFilter:"string",extendBehavior:"string",eventPrefix:"string",demoSpin:"boolean",reverse360:"boolean",analyticsEventPrefix:"string",analyticsUrl:"string",analyticsBearer:"string",analyticsSimpleRequestsOnly:"boolean",analyticsDryRun:"boolean",analyticsDebug:"boolean"}}),b=x(o.WebPlayerCustomMedia,{shadow:"closed",props:{index:"number",thumbnailSrc:"string"}}),y=x(o.WebPlayerIcon,{shadow:"closed",props:{name:"string"}});o.checkCustomElementsDefinition()||(customElements.define(o.WEB_PLAYER_WC_TAG,w),customElements.define(o.WEB_PLAYER_CUSTOM_MEDIA_WC_TAG,b),customElements.define(o.WEB_PLAYER_ICON_WC_TAG,y)),t.ANALYTICS_EVENT_IDENTIFY=o.ANALYTICS_EVENT_IDENTIFY,t.ANALYTICS_EVENT_PAGE=o.ANALYTICS_EVENT_PAGE,t.ANALYTICS_EVENT_TRACK=o.ANALYTICS_EVENT_TRACK,t.DEFAULT_EVENT_PREFIX=o.DEFAULT_EVENT_PREFIX,t.EVENT_COMPOSITION_LOADED=o.EVENT_COMPOSITION_LOADED,t.EVENT_COMPOSITION_LOADING=o.EVENT_COMPOSITION_LOADING,t.EVENT_COMPOSITION_LOAD_ERROR=o.EVENT_COMPOSITION_LOAD_ERROR,t.EVENT_EXTEND_MODE_OFF=o.EVENT_EXTEND_MODE_OFF,t.EVENT_EXTEND_MODE_ON=o.EVENT_EXTEND_MODE_ON,t.EVENT_GALLERY_CLOSE=o.EVENT_GALLERY_CLOSE,t.EVENT_GALLERY_OPEN=o.EVENT_GALLERY_OPEN,t.EVENT_HOTSPOTS_OFF=o.EVENT_HOTSPOTS_OFF,t.EVENT_HOTSPOTS_ON=o.EVENT_HOTSPOTS_ON,t.EVENT_ITEM_CHANGE=o.EVENT_ITEM_CHANGE,t.WEB_PLAYER_ICON_WC_TAG=o.WEB_PLAYER_ICON_WC_TAG,t.WEB_PLAYER_WC_TAG=o.WEB_PLAYER_WC_TAG,t.WebPlayer=o.WebPlayer,t.WebPlayerCustomMedia=o.WebPlayerCustomMedia$1,t.WebPlayerIcon=o.WebPlayerIcon$1,t.generateCompositionUrl=o.generateCompositionUrl},9798:function(e,t,n){const o=n(1085),r=n(4041),a="cc-webplayer",i="cc-webplayer-custom-media",s="cc-webplayer-icon",l="composition-loading",c="composition-loaded",d="composition-load-error",u="item-change",p="extend-mode-on",h="extend-mode-off",m="hotspots-on",f="hotspots-off",g="gallery-open",v="gallery-close",x="analytics-identify",w="analytics-page",b="analytics-track",y=1/0,E="cc-webplayer:",C="cc-analytics:";function k(){if(typeof crypto<"u"&&"function"==typeof crypto.randomUUID)return crypto.randomUUID();if(typeof crypto<"u"&&"function"==typeof crypto.getRandomValues){const e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=15&e[6]|64,e[8]=63&e[8]|128;const t=Array.from(e,e=>e.toString(16).padStart(2,"0")).join("");return`${t.slice(0,8)}-${t.slice(8,12)}-${t.slice(12,16)}-${t.slice(16,20)}-${t.slice(20)}`}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}const _=new Map,M=e=>{const[t,n]=r.useState({status:"pending",isSuccess:!1});return r.useEffect(()=>{const t=e=>n({status:"success",data:e,isSuccess:!0}),o=_.get(e);!o||o instanceof Promise?(n({status:"fetching",isSuccess:!1}),async function(){try{let n;if(o)n=await o;else{const t=async function(e){const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch composition: ${t.statusText}`);return await t.json()}(e);_.set(e,t),n=await t,_.set(e,n)}t(n)}catch(r){n({status:"error",isSuccess:!1,error:r})}}()):t(o)},[e]),t},L=r.createContext(null),N=()=>{const e=r.useContext(L);if(!e)throw new Error("useGlobalContext must be used within a GlobalContextProvider");return e},j=({children:e,...t})=>o.jsx(L.Provider,{value:t,children:e}),I=r.createContext(null),T=()=>{const e=r.useContext(I);if(!e)throw new Error("useCompositionContext must be used within a CompositionContextProvider");return e},P=({composition:e,children:t})=>{const{aspectRatio:n,categories:a,imageHdWidth:i,imageSubWidths:s}=e,{minMediaWidth:l,maxMediaWidth:c,categoriesFilter:d}=N(),u=r.useMemo(()=>{if("*"===d)return a;return a.filter(({id:e})=>function(e){return d.split("|").some(t=>new RegExp(`^${t.replace(/\*/g,".*")}$`).test(e))}(e))},[a,d]),p=r.useMemo(()=>u.flatMap(({items:e})=>e),[u]),h={aspectRatio:n.replace(":"," / ")},m=r.useMemo(()=>{const e=s.concat(i),t=e.sort((e,t)=>e-t),n=t.filter(e=>e>=l&&e<=c);if(0===n.length){const n=(l+c)/2,o=e.reduce((e,t)=>Math.abs(t-n)<Math.abs(e-n)?t:e,i);return console.warn(`None of available media widths (${t.join("|")}) match the given constraints (${l>0?`${l} \u2264 `:""}width${c<1/0?` \u2264 ${c}`:""}).`,`Using the closest width instead (${o}).`),[o]}return n},[s,i,l,c]);return o.jsx(I.Provider,{value:{...e,categories:u,items:p,aspectRatioStyle:h,usedMediaWidths:m},children:t})},R=.75,S=2.5,z=()=>{const{isFullScreen:e,maxItemsShown:t,integration:n}=N();return{effectiveMaxItemsShown:n&&e?1:t}};function A(e,t,n){return Math.min(Math.max(e,t),n)}const O=(e,t,n)=>e+(t-e)*n,H=(e,t,n,o,r,a=!1)=>{const i=A(e,t,n);if(i===(a?n:t))return o;if(i===(a?t:n))return 1;const s=(i-t)/(n-t),l=1+(a?s:1-s)*(o-1);return A(1+Math.round((l-1)/r)*r,1,o)},D=r.createContext(null),F=()=>r.useContext(D),V=()=>{const e=F();if(!e)throw new Error("useCustomizationContext must be used within a CustomizationContextProvider");return e},U="*:size-full",B="*:object-cover *:size-full",W=({children:e})=>{const{compositionUrl:t}=N(),n=r.useCallback(()=>document.querySelector(`${a}[composition-url="${t}"]`),[t]),l=r.useCallback(e=>{const t=e.querySelectorAll(s),n=new Map;for(const r of t){const e=r.getAttribute("name");if(!e){console.warn("Icon element is missing a name attribute");continue}const t=r.innerHTML,a=t?o.jsx("div",{className:U,dangerouslySetInnerHTML:{__html:t}}):void 0;a?n.set(e,{Icon:a}):console.warn(`Icon "${e}" customization is empty.`)}return n},[]),[c,d]=r.useState(()=>{const e=n();return e?l(e):new Map});r.useEffect(()=>{const e=n();if(!e)return;const t=new MutationObserver(()=>{d(l(e))});return t.observe(e,{childList:!0,subtree:!0}),()=>t.disconnect()},[l,n]);const u=r.useCallback(e=>c.get(e),[c]),p=r.useCallback((e,t)=>{d(n=>{const{Icon:r,...a}=t;return new Map(n.set(e,{...a,Icon:o.jsx("div",{className:U,children:r})}))})},[]),h=r.useCallback(e=>{d(t=>(t.delete(e),new Map(t)))},[]),m=r.useCallback(e=>{const t=e.querySelectorAll(i),n=new Array;for(const r of t){const e=r.innerHTML;if(!e){console.warn("Custom media element is empty");continue}const t=Number(r.getAttribute("index"));if(Number.isNaN(t)){console.warn("Custom media element is missing the 'index' attribute");continue}const a=r.getAttribute("thumbnail-src")??void 0,i=JSON.stringify({index:t,thumbnailSrc:a});n.push({id:i,Media:o.jsx("div",{className:B,dangerouslySetInnerHTML:{__html:e}}),index:t,thumbnailSrc:a})}return n},[]),[f,g]=r.useState(()=>{const e=n();return e?m(e):[]});r.useEffect(()=>{const e=n();if(!e)return;const t=new MutationObserver(()=>{g(m(e))});return t.observe(e,{childList:!0,subtree:!0}),()=>t.disconnect()},[m,n]);const v=r.useCallback(e=>{const{Media:t,...n}=e,r=o.jsx("div",{className:B,children:t}),a=JSON.stringify(n);return g(e=>[...e,{id:a,Media:r,...n}]),a},[]),x=r.useCallback(e=>{g(t=>t.filter(t=>t.id!==e))},[]);return o.jsx(D.Provider,{value:{getIconConfig:u,registerIconConfig:p,unregisterIconConfig:h,customMediaList:f,registerCustomMedia:v,unregisterCustomMedia:x},children:e})},Y=r.createContext(null),G=()=>{const e=r.useContext(Y);if(!e)throw new Error("useControlsContext must be used within a ControlsContextProvider");return e},Z=({children:e})=>{const{infiniteCarrousel:t,extendBehavior:n,integration:a,emitEvent:i,emitAnalyticsEvent:s,isFullScreen:l,requestFullscreen:c,exitFullscreen:d}=N(),{customMediaList:x}=V(),{categories:w,items:b}=T(),y=r.useMemo(()=>{const e=new Array(...b),t=x.slice().sort((e,t)=>e.index<0&&t.index<0?t.index-e.index:e.index<0?1:t.index<0?-1:e.index-t.index);for(const n of t){let t=n.index;t<0&&(t=e.length+t+1),e.splice(t,0,{type:"custom",...n})}return e},[b,x]),[E,C]=r.useState(y.map(()=>null));r.useEffect(()=>{C(y.map(()=>null))},[y]);const k=r.useCallback((e,t)=>{C(n=>n.map((n,o)=>o===e?t:n))},[]),[_,M]=r.useState(0),[L,j]=r.useState(null),I=L??_,P=y[I],O=E[I],[H,D]=r.useState(null),F=!!H,U=r.useCallback(()=>D(null),[]),{effectiveMaxItemsShown:B}=z(),W=r.useCallback(e=>{const t=Math.min(_,e),n=Math.max(_,e);E.slice(t,n+1).filter(e=>null===e).length>2&&D("instant"),j(e)},[_,E]),G=r.useMemo(()=>{let e;if("custom"===P.type){const t=y.slice(0,I).reverse().find(e=>"custom"!==e.type)??y.slice(I+1).find(e=>"custom"!==e.type);if(!t)throw new Error("No non-custom item found");e=t}else e=P;for(const t of w)if(t.items.includes(e))return t.id;throw new Error("Current item not found in any category")},[w,P,y,I]),Z=r.useMemo(()=>w.find(({id:e})=>e===G)?.title??"Unnamed Category",[w,G]),X=r.useMemo(()=>y.length,[y]),q=r.useCallback(e=>{const t=w.find(({id:t})=>t===e)?.items[0];if(void 0===t)throw new Error("Failed to find target category");const n=y.findIndex(e=>e===t);W(n)},[w,y,W]),$=r.useCallback(()=>{if(F||null!==L)return;const e=_-1;if(e>=0)j(e);else if(t){D("first_to_last");const e=Math.ceil(B),n=y.length+(a&&!t&&B%1!=0?1:0),o=B>1?Math.max(0,n-e):y.length-1;j(o)}s({type:"track",category_id:G,category_name:Z,item_type:P.type,item_position:_,action_properties:{action_name:"Item Navigation",action_field:"item_navigation",action_value:"prev"}})},[F,L,_,t,s,G,Z,P.type,B,y.length,a]),K=r.useCallback(()=>{if(F||null!==L)return;const e=_+1,n=Math.ceil(B),o=y.length+(a&&!t&&B%1!=0?1:0);e<=(B>1?Math.max(0,o-n):y.length-1)?j(e):t&&(D("last_to_first"),j(0)),s({type:"track",category_id:G,category_name:Z,item_type:P.type,item_position:_,action_properties:{action_name:"Item Navigation",action_field:"item_navigation",action_value:"next"}})},[F,L,_,B,y.length,a,t,s,G,Z,P.type]);r.useEffect(()=>{i(u,{index:I,item:P})},[P,i,I]),r.useEffect(()=>{if(F||null!==L)return;const e={type:"page",category_id:G,category_name:Z,items_count:X,page_properties:{item_type:P.type,item_position:_}},t=setTimeout(()=>s(e),0);return()=>clearTimeout(t)},[G,Z,X,P.type,_,s,F,L]);const J=r.useMemo(()=>{if(a&&!l)return y.some(e=>{switch(e.type){case"image":return!!e.hotspots?.length;case"360":return e.images.some(e=>!!e.hotspots?.length);default:return!1}});switch(P.type){case"image":return!!P.hotspots?.length;case"360":return"running"===O&&P.images.some(e=>!!e.hotspots?.length);default:return!1}},[P,O,a,y,l]),[Q,ee]=r.useState(!0),[te,ne]=r.useState({}),oe=r.useMemo(()=>a&&l?te[I]??!0:Q,[a,l,te,I,Q]),re=r.useCallback(()=>{if(a&&l){const e=!(te[I]??1);ne(t=>({...t,[I]:e})),i(e?m:f),s({type:"track",category_id:G,category_name:Z,item_type:P.type,item_position:_,action_properties:{action_name:"Hotspots Toggled",action_field:"hotspots_toggle_state",action_value:e}})}else{const e=!Q;ee(e),i(e?m:f),s({type:"track",category_id:G,category_name:Z,item_type:P.type,item_position:_,action_properties:{action_name:"Hotspots Toggled",action_field:"hotspots_toggle_state",action_value:e}})}},[a,l,te,I,i,s,G,Z,P.type,_,Q]),ae=r.useMemo(()=>"video"!==P.type||"running"!==O,[P,O]),[ie,se]=r.useState(!1),le=r.useCallback(()=>{const e=!ie;se(e),i(e?g:v),s({type:"track",category_id:G,category_name:Z,item_type:P.type,item_position:_,action_properties:{action_name:"Gallery Toggled",action_field:"gallery_toggle_state",action_value:e}})},[ie,i,s,G,Z,P.type,_]),[ce,de]=r.useState(null),ue=r.useCallback(()=>de(null),[]),pe=!!ce,he=r.useMemo(()=>{switch(P.type){case"image":return!0;case"interior-360":case"360":return"running"===O;default:return!1}},[P.type,O]),[me,fe]=r.useState(1),ge=r.useCallback(e=>{const t="function"==typeof e?e(me):e;me!==t&&(fe(t),s({type:"track",category_id:G,category_name:Z,item_type:P.type,item_position:_,action_properties:{action_name:"Zoom Changed",action_field:"zoom_level",action_value:t}}))},[me,s,G,Z,P.type,_]),ve=1!==me,xe=me<S,we=me>1,be=r.useCallback(e=>{ge(t=>A(t+e,1,S))},[ge]),ye=r.useCallback(()=>ge(1),[ge]),Ee=r.useCallback(()=>be(R),[be]),Ce=r.useCallback(()=>be(-R),[be]),ke=r.useCallback(()=>{ye(),ue()},[ye,ue]),[_e,Me]=r.useState(!1),[Le,Ne]=r.useState(),[je,Ie]=r.useState(!1),Te=r.useCallback(async e=>{ke(),Me(e),i(e?p:h),s({type:"track",category_id:G,category_name:Z,item_type:P.type,item_position:_,action_properties:{action_name:"Fake Fullscreen Toggled",action_field:"fake_fullscreen_toggle_state",action_value:e}})},[ke,i,s,G,Z,P.type,_]),Pe=r.useCallback(()=>{clearTimeout(Le);const e=setTimeout(()=>{Ne(void 0)},500);Ne(e)},[Le]),Re=r.useCallback(async()=>{const e=await c();return e&&s({type:"track",category_id:G,category_name:Z,item_type:P.type,item_position:_,action_properties:{action_name:"Fullscreen Toggled",action_field:"fullscreen_toggle_state",action_value:!0}}),e},[c,s,G,Z,P.type,_]),Se=r.useCallback(async()=>{const e=await d();return e&&s({type:"track",category_id:G,category_name:Z,item_type:P.type,item_position:_,action_properties:{action_name:"Fullscreen Toggled",action_field:"fullscreen_toggle_state",action_value:!1}}),e},[d,s,G,Z,P.type,_]),ze=r.useCallback(async()=>{if(Pe(),"full_screen"===n){const e=await Re();if(Ie(!e),e)return}Te(!0)},[n,Te,Re,Pe]),Ae=r.useCallback(async()=>{Pe(),("full_screen"!==n||(Ie(!1),!await Se()))&&Te(!1)},[n,Te,Se,Pe]),Oe=r.useCallback(()=>{_e?Ae():ze()},[Ae,ze,_e]);return r.useEffect(()=>{"full_screen"===n&&(je&&_e||l!==_e&&(Pe(),Te(l)))},[n,Te,_e,je,l,Pe]),o.jsx(Y.Provider,{value:{items:y,setItemInteraction:k,slidable:y.length>1,carrouselItemIndex:_,setCarrouselItemIndex:M,itemIndexCommand:L,setItemIndexCommand:j,masterItemIndex:I,specialCommand:H,isRunningSpecialCommand:F,finishSpecialCommand:U,prevItem:$,nextItem:K,scrollToItemIndex:W,displayedCategoryId:G,displayedCategoryName:Z,changeCategory:q,enableHotspotsControl:J,showHotspots:Q,currentItemHotspotsVisible:oe,toggleHotspots:re,showGalleryControls:ae,showGallery:ie,toggleGallery:le,shownDetails:ce,isShowingDetails:pe,setShownDetails:de,resetShownDetails:ue,showZoomControls:he,zoom:me,isZooming:ve,setZoom:ge,resetZoom:ye,canZoomIn:xe,zoomIn:Ee,canZoomOut:we,zoomOut:Ce,resetView:ke,extendMode:_e,enableExtendMode:ze,disableExtendMode:Ae,toggleExtendMode:Oe,extendTransition:!!Le,fakeFullScreen:je},children:e})},X=["left","center","right","fullW"],q=["top","middle","bottom","fullH"],$=[...X,...q,"top-left","top-center","top-right","top-fullW","middle-left","middle-center","middle-right","middle-fullW","bottom-left","bottom-center","bottom-right","bottom-fullW","fullH-left","fullH-center","fullH-right","fullW-fullW"];function K(e){if(!function(e){return $.includes(e)}(e))throw new Error(`Invalid position: ${e}`);return function(e){return q.includes(e)}(e)?[e,void 0]:function(e){return X.includes(e)}(e)?[void 0,e]:e.split("-")}function J(...e){return e.filter(e=>!!e).map(e=>e.trim()).join(" ")}function Q(e){switch(e){case"top":return"top-1 small:top-2";case"bottom":return"bottom-1 small:bottom-2";case"middle":return"top-1/2 -translate-y-1/2";case"fullH":return"inset-y-1 small:inset-y-2"}}function ee(e){const[t,n]=K(e);return function({positionX:e,positionY:t}){const n=new Array;return e&&n.push(function(e){switch(e){case"left":return"left-1 small:left-2";case"right":return"right-1 small:right-2";case"center":return"left-1/2 -translate-x-1/2";case"fullW":return"inset-x-1 small:inset-x-2"}}(e)),t&&n.push(Q(t)),n.join(" ")}({positionX:n,positionY:t})}const te=({customizationKey:e,className:t,children:n})=>{const{getIconConfig:r}=V(),a=r(e)?.Icon;return a?t?o.jsx("div",{className:t,children:a}):a:n},ne=({className:e})=>o.jsx(te,{className:e,customizationKey:"UI_CLOSE",children:o.jsx("svg",{className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z",fill:"currentColor"})})}),oe={fill:{primary:"bg-primary text-primary-foreground hover:opacity-80",neutral:"bg-background text-neutral-foreground hover:opacity-80"},ghost:{primary:"bg-transparent text-foreground hover:bg-primary/25",neutral:"bg-transparent text-background hover:bg-foreground/25"}},re={button:"h-8 px-2",icon:"size-8 p-2"},ae=({variant:e="fill",shape:t="button",color:n="primary",className:r,children:a,...i})=>{const s=oe[e][n],l=re[t];return o.jsx("button",{className:J("flex items-center justify-center rounded-ui text-sm transition-all disabled:opacity-60",s,l,r),...i,children:a})},ie=e=>o.jsx(ae,{color:"neutral",shape:"icon",...e,children:o.jsx(ne,{className:"size-full"})}),se=({text:e,className:t})=>o.jsxs("div",{className:J("flex size-full flex-col items-center justify-center gap-y-4",t),children:[o.jsx("img",{className:"h-20 small:h-28",src:"https://cdn.car-cutter.com/libs/web-player/v3/assets/car_placeholder.png"}),o.jsx("div",{className:"text-2xl font-bold",children:e})]}),le={primary:"border-primary",foreground:"border-foreground",background:"border-background"},ce={sm:"size-4 border",md:"size-8 border-2",lg:"size-12 border-4"},de=({color:e="foreground",size:t="md"})=>{const n=le[e],r=ce[t];return o.jsx("div",{className:J("inline-block animate-rotation rounded-full border-b-transparent",r,n)})},ue=r.forwardRef(({src:e,className:t,onLoad:n,imgInPlayerWidthRatio:a=1,onlyThumbnail:i,fadeIn:s,...l},c)=>{const{mediaLoadStrategy:d,playerInViewportWidthRatio:u}=N(),{imageHdWidth:p,usedMediaWidths:h}=T(),[m,f]=r.useMemo(()=>{const t=h.map(t=>`${t!==p?function(e,t){const n=e.split("/"),o=n.pop();return[n.join("/"),t,o].join("/")}(e,t):e} ${t}w`);let n;if(i)n=[`${h[0]}px`];else{const e=1/(a*u);switch(d){case"quality":{const t=[...h],o=t.pop();n=t.map(t=>`(max-width: ${e*t}px) ${t}px`),n.push(`${o}px`);break}case"balanced":n=[];for(let t=0;t<h.length-1;t++){const o=h[t],r=h[t+1],a=Math.round((o+r)/2);n.push(`(max-width: ${e*a}px) ${o}px`)}n.push(`${h[h.length-1]}px`);break;case"speed":{const t=[...h],o=t.shift();n=t.reverse().map(t=>`(min-width: ${e*t}px) ${t}px`),n.push(`${o}px`);break}}}return[t.join(", "),n.join(", ")]},[p,a,d,i,u,e,h]),[g,v]=r.useState();return r.useEffect(()=>{if(!0===g)return;const e=setTimeout(()=>{v(e=>e??!1)},30);return()=>clearTimeout(e)},[g]),o.jsx("img",{ref:c,src:e,srcSet:m,sizes:f,className:J(t,s&&J(void 0!==g&&"transition-opacity duration-200",!1===g&&"opacity-0",!0===g&&"opacity-100")),onLoad:e=>{v(!0),n?.(e)},...l})});ue.displayName="CdnImage";const pe=({className:e})=>o.jsx(te,{className:e,customizationKey:"UI_IMAGE",children:o.jsx("svg",{className:e,viewBox:"0 0 12 12",fill:"none",children:o.jsx("path",{d:"M9.5 2.5V9.5H2.5V2.5H9.5ZM9.5 1.5H2.5C1.95 1.5 1.5 1.95 1.5 2.5V9.5C1.5 10.05 1.95 10.5 2.5 10.5H9.5C10.05 10.5 10.5 10.05 10.5 9.5V2.5C10.5 1.95 10.05 1.5 9.5 1.5ZM7.07 5.93L5.57 7.865L4.5 6.57L3 8.5H9L7.07 5.93Z",fill:"currentColor"})})}),he=({className:e})=>o.jsx(te,{className:e,customizationKey:"INTERIOR_UI_360",children:o.jsxs("svg",{className:e,viewBox:"0 0 98 98",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M30.9343 48C26.8559 48 24.3496 46.2454 23.3411 44.1517C23.1038 43.6651 23 43.1933 23 42.7509C23 41.6008 23.7415 40.8784 24.9725 40.8784C25.8623 40.8784 26.4259 41.2322 26.8708 42.0432C27.6271 43.5324 28.7839 44.4171 31.0085 44.4171C33.2034 44.4171 34.7161 43.149 34.7161 41.3797C34.731 39.3154 33.2034 38.1653 30.6081 38.1653H29.6737C28.5911 38.1653 27.9682 37.5313 27.9682 36.5729C27.9682 35.644 28.5911 34.9952 29.6737 34.9952H30.5488C32.7882 34.9952 34.2416 33.7862 34.2416 32.0463C34.2416 30.336 33.0848 29.2006 30.9195 29.2006C29.1102 29.2006 28.0127 29.9526 27.3157 31.4565C26.8263 32.4592 26.3072 32.8278 25.2987 32.8278C24.053 32.8278 23.4153 32.1053 23.4153 31.0289C23.4153 30.5276 23.5191 30.1 23.7415 29.5987C24.6907 27.5197 27.1229 25.7799 30.9047 25.7799C35.428 25.7799 38.4831 28.0063 38.4831 31.4123C38.4831 34.1106 36.5403 35.8799 34.0191 36.396V36.4845C37.2077 36.7793 39.2691 38.6372 39.2691 41.5713C39.2691 45.4344 35.9026 48 30.9343 48Z",fill:"white"}),o.jsx("path",{d:"M50.5032 48C47.107 48 44.4079 46.4223 42.8358 43.2965C42.0201 41.6451 41.5752 39.5366 41.5752 37.0595C41.5752 30.0116 44.9566 25.7651 50.5181 25.7651C54.0626 25.7651 56.6134 27.2543 57.6219 29.2448C57.8295 29.6577 57.9333 30.0411 57.9333 30.4392C57.9333 31.4271 57.2363 32.1938 56.0647 32.1938C55.1749 32.1938 54.641 31.8104 53.9884 31.0584C53.0096 29.8346 51.9715 29.2891 50.5032 29.2891C47.4481 29.2891 45.8909 32.179 45.8613 36.7204V36.9415H45.9502C46.7808 34.9658 48.8867 33.5208 51.7787 33.5208C55.9164 33.5208 58.749 36.455 58.749 40.4508C58.749 44.8594 55.2787 48 50.5032 48ZM50.4439 44.4613C52.6388 44.4613 54.374 42.7804 54.3888 40.6424C54.3888 38.4013 52.7426 36.8088 50.4884 36.8088C48.2193 36.8088 46.5286 38.3865 46.5286 40.554C46.5286 42.7509 48.249 44.4613 50.4439 44.4613Z",fill:"white"}),o.jsx("path",{d:"M68.9374 48C63.5094 48 60.2022 43.7388 60.2022 36.8531C60.2022 29.9821 63.5391 25.7651 68.9374 25.7651C74.3357 25.7651 77.6577 29.9673 77.6577 36.8383C77.6577 43.7093 74.3654 48 68.9374 48ZM68.9374 44.4318C71.5772 44.4318 73.1048 41.7335 73.1048 36.8531C73.1048 32.0021 71.5624 29.3333 68.9374 29.3333C66.3272 29.3333 64.7552 32.0168 64.7552 36.8531C64.7552 41.7335 66.2975 44.4318 68.9374 44.4318Z",fill:"white"}),o.jsx("path",{d:"M81.6758 28.4244C78.6504 28.4244 76.3665 26.1685 76.3665 23.2048C76.3665 20.2559 78.6504 18 81.6758 18C84.6864 18 87 20.2559 87 23.2048C87 26.1685 84.6864 28.4244 81.6758 28.4244ZM81.6758 25.4755C82.9364 25.4755 83.9152 24.4581 83.9152 23.2048C83.9152 21.9368 82.9216 20.9489 81.6758 20.9489C80.4597 20.9489 79.4364 21.9368 79.4364 23.2048C79.4364 24.4581 80.4449 25.4755 81.6758 25.4755Z",fill:"white"}),o.jsx("path",{d:"M37.3915 79.7285C36.5538 79.7285 36.0601 79.2171 36.0601 78.3442V68.0541C36.0601 67.1724 36.5538 66.661 37.3915 66.661C38.2292 66.661 38.7229 67.1724 38.7229 68.0541V78.3442C38.7229 79.2171 38.2292 79.7285 37.3915 79.7285Z",fill:"white"}),o.jsx("path",{d:"M43.7429 79.7285C42.9405 79.7285 42.4644 79.2436 42.4644 78.3971V67.9924C42.4644 67.1459 42.9582 66.661 43.8047 66.661C44.3513 66.661 44.7217 66.8814 45.1273 67.4369L50.6294 75.1258H50.6999V68.0012C50.6999 67.1459 51.1761 66.661 51.9785 66.661C52.7809 66.661 53.2482 67.1459 53.2482 68.0012V78.4324C53.2482 79.2612 52.7809 79.7285 51.9432 79.7285C51.3701 79.7285 51.0174 79.5257 50.6118 78.9614L45.092 71.2284H45.0126V78.3971C45.0126 79.2436 44.5365 79.7285 43.7429 79.7285Z",fill:"white"}),o.jsx("path",{d:"M61.3719 79.7285C60.5343 79.7285 60.0405 79.2171 60.0405 78.3442V69.0417H57.4129C56.6898 69.0417 56.2049 68.6273 56.2049 67.9395C56.2049 67.2518 56.681 66.8373 57.4129 66.8373H65.3398C66.0629 66.8373 66.539 67.2518 66.539 67.9395C66.539 68.6273 66.054 69.0417 65.3398 69.0417H62.7034V78.3442C62.7034 79.2171 62.2096 79.7285 61.3719 79.7285Z",fill:"white"}),o.jsx("path",{d:"M11.5291 40.7269C5.85358 44.3944 2.5 48.9252 2.5 53.8286C2.5 62.4095 12.77 69.8493 27.7816 73.5179M86.4709 40.7269C92.1464 44.3944 95.5 48.9252 95.5 53.8286C95.5 61.8751 86.4695 68.9181 72.967 72.7891M27.7816 73.5179L23.267 65.1144M27.7816 73.5179L19.6553 77.7552",stroke:"currentColor",strokeWidth:"4.51456",strokeLinecap:"round"})]})}),me=({className:e})=>o.jsx(te,{className:e,customizationKey:"UI_PLAY",children:o.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("polygon",{points:"6 3 20 12 6 21 6 3"})})}),fe=({className:e})=>o.jsx(te,{className:e,customizationKey:"UI_360",children:o.jsxs("svg",{className:e,viewBox:"0 0 98 98",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M30.9343 48C26.8559 48 24.3496 46.2454 23.3411 44.1517C23.1038 43.6651 23 43.1933 23 42.7509C23 41.6008 23.7415 40.8784 24.9725 40.8784C25.8623 40.8784 26.4259 41.2322 26.8708 42.0432C27.6271 43.5324 28.7839 44.4171 31.0085 44.4171C33.2034 44.4171 34.7161 43.149 34.7161 41.3797C34.731 39.3154 33.2034 38.1653 30.6081 38.1653H29.6737C28.5911 38.1653 27.9682 37.5313 27.9682 36.5729C27.9682 35.644 28.5911 34.9952 29.6737 34.9952H30.5488C32.7882 34.9952 34.2416 33.7862 34.2416 32.0463C34.2416 30.336 33.0848 29.2006 30.9195 29.2006C29.1102 29.2006 28.0127 29.9526 27.3157 31.4565C26.8263 32.4592 26.3072 32.8278 25.2987 32.8278C24.053 32.8278 23.4153 32.1053 23.4153 31.0289C23.4153 30.5276 23.5191 30.1 23.7415 29.5987C24.6907 27.5197 27.1229 25.7799 30.9047 25.7799C35.428 25.7799 38.4831 28.0063 38.4831 31.4123C38.4831 34.1106 36.5403 35.8799 34.0191 36.396V36.4845C37.2077 36.7793 39.2691 38.6372 39.2691 41.5713C39.2691 45.4344 35.9026 48 30.9343 48Z",fill:"white"}),o.jsx("path",{d:"M50.5032 48C47.107 48 44.4079 46.4223 42.8358 43.2965C42.0201 41.6451 41.5752 39.5366 41.5752 37.0595C41.5752 30.0116 44.9566 25.7651 50.5181 25.7651C54.0626 25.7651 56.6134 27.2543 57.6219 29.2448C57.8295 29.6577 57.9333 30.0411 57.9333 30.4392C57.9333 31.4271 57.2363 32.1938 56.0647 32.1938C55.1749 32.1938 54.641 31.8104 53.9884 31.0584C53.0096 29.8346 51.9715 29.2891 50.5032 29.2891C47.4481 29.2891 45.8909 32.179 45.8613 36.7204V36.9415H45.9502C46.7808 34.9658 48.8867 33.5208 51.7787 33.5208C55.9164 33.5208 58.749 36.455 58.749 40.4508C58.749 44.8594 55.2787 48 50.5032 48ZM50.4439 44.4613C52.6388 44.4613 54.374 42.7804 54.3888 40.6424C54.3888 38.4013 52.7426 36.8088 50.4884 36.8088C48.2193 36.8088 46.5286 38.3865 46.5286 40.554C46.5286 42.7509 48.249 44.4613 50.4439 44.4613Z",fill:"white"}),o.jsx("path",{d:"M68.9374 48C63.5094 48 60.2022 43.7388 60.2022 36.8531C60.2022 29.9821 63.5391 25.7651 68.9374 25.7651C74.3357 25.7651 77.6577 29.9673 77.6577 36.8383C77.6577 43.7093 74.3654 48 68.9374 48ZM68.9374 44.4318C71.5772 44.4318 73.1048 41.7335 73.1048 36.8531C73.1048 32.0021 71.5624 29.3333 68.9374 29.3333C66.3272 29.3333 64.7552 32.0168 64.7552 36.8531C64.7552 41.7335 66.2975 44.4318 68.9374 44.4318Z",fill:"white"}),o.jsx("path",{d:"M81.6758 28.4244C78.6504 28.4244 76.3665 26.1685 76.3665 23.2048C76.3665 20.2559 78.6504 18 81.6758 18C84.6864 18 87 20.2559 87 23.2048C87 26.1685 84.6864 28.4244 81.6758 28.4244ZM81.6758 25.4755C82.9364 25.4755 83.9152 24.4581 83.9152 23.2048C83.9152 21.9368 82.9216 20.9489 81.6758 20.9489C80.4597 20.9489 79.4364 21.9368 79.4364 23.2048C79.4364 24.4581 80.4449 25.4755 81.6758 25.4755Z",fill:"white"}),o.jsx("path",{d:"M34.6814 79.561C33.8438 79.561 33.35 79.0496 33.35 78.1678V68.2217C33.35 67.3487 33.8438 66.8373 34.6814 66.8373H40.7302C41.4621 66.8373 41.9382 67.2518 41.9382 67.9395C41.9382 68.6273 41.4533 69.0417 40.7302 69.0417H36.0129V72.1014H40.501C41.1623 72.1014 41.612 72.4894 41.612 73.1242C41.612 73.7591 41.1711 74.147 40.501 74.147H36.0129V77.3566H40.7302C41.4533 77.3566 41.9382 77.771 41.9382 78.4588C41.9382 79.1466 41.4621 79.561 40.7302 79.561H34.6814Z",fill:"white"}),o.jsx("path",{d:"M46.4115 79.7285C45.7061 79.7285 45.1506 79.2171 45.1506 78.5734C45.1506 78.2472 45.2564 77.965 45.5121 77.6123L48.6864 73.1859V73.1154L45.6179 68.9359C45.327 68.5479 45.23 68.2569 45.23 67.9131C45.23 67.19 45.8031 66.661 46.5791 66.661C47.0817 66.661 47.4344 66.8814 47.7782 67.4017L50.5028 71.4224H50.5734L53.3862 67.3135C53.6948 66.855 53.9593 66.661 54.4707 66.661C55.1673 66.661 55.7669 67.1636 55.7669 67.7984C55.7669 68.1423 55.6699 68.4245 55.4142 68.7507L52.1076 73.1683V73.23L55.3172 77.5594C55.5641 77.8768 55.6699 78.1766 55.6699 78.5293C55.6699 79.2259 55.132 79.7285 54.3914 79.7285C53.9064 79.7285 53.5802 79.5345 53.2363 79.0672L50.397 75.1082H50.3265L47.5313 79.076C47.1963 79.561 46.9141 79.7285 46.4115 79.7285Z",fill:"white"}),o.jsx("path",{d:"M63.7055 79.7285C62.8678 79.7285 62.374 79.2171 62.374 78.3442V69.0417H59.7464C59.0234 69.0417 58.5384 68.6273 58.5384 67.9395C58.5384 67.2518 59.0146 66.8373 59.7464 66.8373H67.6734C68.3964 66.8373 68.8725 67.2518 68.8725 67.9395C68.8725 68.6273 68.3876 69.0417 67.6734 69.0417H65.0369V78.3442C65.0369 79.2171 64.5431 79.7285 63.7055 79.7285Z",fill:"white"}),o.jsx("path",{d:"M11.5291 40.7263C5.85358 44.3937 2.5 48.9245 2.5 53.828C2.5 62.4089 12.77 69.8486 27.7816 73.5172M86.4709 40.7263C92.1464 44.3937 95.5 48.9245 95.5 53.828C95.5 61.8744 86.4695 68.9174 72.967 72.7885M27.7816 73.5172L23.267 65.1137M27.7816 73.5172L19.6553 77.7545",stroke:"currentColor",strokeWidth:"4.51456",strokeLinecap:"round"})]})}),ge=({src:e,withCdn:t})=>{const{permanentGallery:n}=N();if(!e)return null;const r="size-full object-cover";return t?o.jsx(ue,{className:r,src:e,onlyThumbnail:!0,fadeIn:!n}):o.jsx("img",{className:r,src:e})},ve=({children:e})=>{const{extendMode:t}=G();return o.jsx("div",{className:J("flex aspect-square h-3/4 items-center justify-center rounded-full bg-foreground/50 p-1",t&&"large:h-3/5 large:p-2"),children:e})},xe=({item:e})=>{const{aspectRatioStyle:t}=T(),{type:n}=e;let r,a;switch(n){case"360":r=e.images[0].src,a=!0;break;case"interior-360":case"video":r=e.poster,a=!0;break;case"image":r=e.src,a=!0;break;case"custom":r=e.thumbnailSrc,a=!1;break;default:a=!1}const i=o.jsx(ge,{src:r,withCdn:a});let s;switch(n){case"360":s=o.jsx(ve,{children:o.jsx(fe,{className:"size-full"})});break;case"interior-360":s=o.jsx(ve,{children:o.jsx(he,{className:"size-full"})});break;case"video":s=o.jsx(ve,{children:o.jsx(me,{className:"size-full p-0.5 text-background"})});break;case"custom":s=r?null:o.jsx(ve,{children:o.jsx(pe,{className:"size-full p-0.5 text-background"})})}return o.jsxs("div",{className:"relative bg-foreground/30",style:t,children:[i,s&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-foreground/25",children:s})]})},we={primary:"bg-primary/50",neutral:"bg-neutral/50",background:"bg-background/50",foreground:"bg-foreground/50"},be=({color:e="neutral",orientation:t="horizontal"})=>{const n=we[e],r="horizontal"===t?"h-px w-full":"w-px h-full";return o.jsx("div",{className:J(n,r)})},ye=({className:e="",containerClassName:t=""})=>{const{hideCategoriesNav:n,infiniteCarrousel:a,permanentGallery:i,isFullScreen:s,maxItemsShown:l}=N(),{categories:c,aspectRatioStyle:d}=T(),{emitAnalyticsEvent:u}=N(),{items:p,extendMode:h,extendTransition:m,masterItemIndex:f,prevItem:g,nextItem:v,scrollToItemIndex:x,resetView:w,displayedCategoryId:b,displayedCategoryName:y}=G(),E=r.useMemo(()=>p[f].type,[p,f]),C=r.useMemo(()=>{if(n)return[];const e=new Array;let t=c[0];const o=e=>c.find(t=>t.items.some(t=>t===e));for(let n=0;n<p.length;n++){const r=o(p[n]);r&&r!==t&&(e.push(n),t=r)}return e},[c,n,p]),k=r.useRef(null),_=r.useCallback(()=>{if(!k.current)throw new Error("slider.current is null");return k.current},[]),M=r.useRef(!1),L=r.useRef(null),[j,I]=r.useState(!1),P=r.useCallback((e,t)=>{const n=_(),o=n.clientWidth,r=(e+.5)*(n.scrollWidth/p.length)-o/2,a=n.scrollWidth-n.clientWidth;n.scrollTo({left:A(r,0,a),behavior:t})},[p.length,_]);r.useEffect(()=>{const e=k.current;if(!e)return;const t=t=>{t.preventDefault(),M.current=!0,L.current={x:t.pageX-e.offsetLeft,scrollLeft:e.scrollLeft}},n=t=>{if(!M.current)return;if(null===L.current)throw new Error("[onMouseMove] scrollStart is null");const n=t.pageX-e.offsetLeft-L.current.x;if(!j&&Math.abs(n)<5)return;const o=L.current.scrollLeft-n;I(!0),requestAnimationFrame(()=>{e.scrollLeft=o})},o=()=>{M.current&&(M.current=!1,requestAnimationFrame(()=>{I(!1)}))};return e.addEventListener("mousedown",t),document.addEventListener("mousemove",n),document.addEventListener("mouseleave",o),document.addEventListener("mouseup",o),document.addEventListener("contextmenu",o),()=>{e.removeEventListener("mousedown",t),document.removeEventListener("mousemove",n),document.removeEventListener("mouseleave",o),document.removeEventListener("mouseup",o),document.removeEventListener("contextmenu",o)}},[j]);const R=r.useRef(f);r.useEffect(()=>{k.current&&(P(f,"smooth"),R.current=f)},[f,P]),r.useEffect(()=>{k.current&&P(R.current,"instant")},[P,s,h,m]);const S=r.useCallback(e=>{u({type:"track",category_id:b,category_name:y,item_type:E,item_position:f,action_properties:{action_name:"Gallery Item Clicked",action_field:"gallery_item_clicked",action_value:e}})},[u,b,y,E,f]),z=r.useCallback(e=>{if(!j){if(S(e),a&&e===p.length-1&&0===f)g();else if(a&&0===e&&f===p.length-1)v();else if(s||1===l||e!==p.length-1)x(e);else{const e=Math.ceil(l),t=p.length+1,n=Math.max(0,t-e);x(n)}w()}},[j,S,a,p.length,f,w,g,v,s,l,x]),O=r.useCallback((e,t)=>1!==l?"after:opacity-0 hover:after:opacity-70":e===t?"after:opacity-100":"after:opacity-0 hover:after:opacity-70",[l]);return o.jsx("div",{ref:k,className:J("relative w-full overflow-x-auto no-scrollbar",j?"cursor-grab":"cursor-grabbing",e),children:o.jsx("div",{className:J("flex h-10 w-fit gap-1 small:h-12 small:gap-2",h&&"large:h-20 large:gap-4",t),children:p.map((e,t)=>o.jsxs(r.Fragment,{children:[C.includes(t)&&o.jsx("div",{className:"my-2",children:o.jsx(be,{color:i&&!s?"neutral":"background",orientation:"vertical"})}),o.jsx("div",{className:J("relative h-full overflow-hidden rounded-gallery transition-radius",!j&&"cursor-pointer","after:absolute after:inset-0 after:rounded-gallery after:border-2 after:border-primary after:transition-all",O(t,f)),style:d,onClick:()=>z(t),children:o.jsx(xe,{item:e})})]},t))})})},Ee=e=>1-Math.pow(1-e,2),Ce=({Media:e,itemIndex:t})=>{const{setItemInteraction:n}=G();return r.useEffect(()=>{n(t,"ready")},[t,n]),e},ke=(e,t)=>Math.sqrt((e.clientX-t.clientX)**2+(e.clientY-t.clientY)**2),_e=({onlyPreload:e,...t})=>{const{zoom:n,isZooming:a,setZoom:i}=G(),s=r.useRef(null),l=r.useRef(null),c=r.useCallback(e=>{if(!l.current)throw new Error(`[${e??"getTransformElementOrThrow"}] transformElementRef.current is null`);return l.current},[]),d=r.useRef(!1),u=r.useRef(null),p=r.useRef(new Map),h=r.useRef({x:0,y:0,scale:1}),m=r.useRef(null),f=r.useCallback(e=>{const t=c("setTransformStyle"),{x:n,y:o,scale:r}={...h.current,...e},a=A(r,1,S),i=t.clientWidth,s=t.clientHeight,l=s*a,d=A(n,-(i*a-i),0),u=A(o,-(l-s),0);h.current={x:d,y:u,scale:a},t.style.transform=`translate(${d}px, ${u}px) scale(${a})`},[c]),g=r.useCallback((e,t)=>{const{x:n,y:o,scale:r}=h.current,{x:a,y:s,scale:l}={...h.current,...e};m.current&&(cancelAnimationFrame(m.current),m.current=null);const c=()=>{f({x:a,y:s,scale:l}),i(l)},d=Math.abs(a-n)<1&&Math.abs(s-o)<1&&Math.abs(l-r)<.005;if(!t||d)return void c();const u=(new Date).getTime(),p=()=>{m.current=requestAnimationFrame(()=>{const e=(new Date).getTime()-u;if(e>=t)return c(),void(m.current=null);const i=Math.min(e/t,1),d=Ee(i),h=O(n,a,d),g=O(o,s,d),v=O(r,l,d);f({x:h,y:g,scale:v}),p()})};p()},[f,i]),v=r.useCallback((e,t)=>{let{x:n,y:o}=h.current;e.x&&(n+=e.x),e.y&&(o+=e.y),g({x:n,y:o},t)},[g]),x=r.useCallback((e,t,n)=>{const o=h.current.scale,r=A(e,1,S),a=r/o,{x:i,y:s}=h.current,{x:l,y:c}=t;g({x:-((-i+l)*a-l),y:-((-s+c)*a-c),scale:r},n)},[g]),w=r.useCallback(e=>{const t=c("shiftZoomFromButton"),n=t.clientWidth,o=t.clientHeight;x(e,{x:n/2,y:o/2},200)},[c,x]),b=r.useCallback((e,t,n)=>{const{scale:o}=h.current;x(o+e,t,n)},[x]);return r.useEffect(()=>{e||l.current&&w(n)},[e,w,n]),r.useEffect(()=>{if(e||!a)return;const t=l.current;if(!t)return;const n=e=>{e.preventDefault(),e.stopPropagation(),d.current=!0,u.current={x:e.clientX,y:e.clientY}},o=e=>{if(!d.current)return;if(!u.current)throw new Error("mouseStartXY.current is null");e.stopPropagation();const t=e.clientX-u.current.x,n=e.clientY-u.current.y;v({x:t,y:n}),u.current={x:e.clientX,y:e.clientY}},r=()=>{d.current=!1};return t.addEventListener("mousedown",n),document.addEventListener("mousemove",o),document.addEventListener("mouseleave",r),document.addEventListener("mouseup",r),document.addEventListener("contextmenu",r),()=>{t.removeEventListener("mousedown",n),document.removeEventListener("mousemove",o),document.removeEventListener("mouseleave",r),document.removeEventListener("mouseup",r),document.removeEventListener("contextmenu",r)}},[a,v,e]),r.useEffect(()=>{if(e)return;const t=s.current;if(!t)return;const n=e=>{const{ctrlKey:n,clientX:o,clientY:r,deltaX:i,deltaY:s}=e;if(n){if(!a&&s>=0)return;const{left:e,top:n}=t.getBoundingClientRect();b(-.01*s,{x:o-e,y:r-n})}else{if(!a)return;v({x:-2*i,y:-2*s})}e.preventDefault()};return t.addEventListener("wheel",n),()=>{t.removeEventListener("wheel",n)}},[a,v,b,e]),r.useEffect(()=>{const e=s.current,t=l.current;if(!e||!t)return;const n=p.current,o=e=>{for(let t=0;t<e.changedTouches.length;t++){const o=e.changedTouches[t];n.set(o.identifier,o)}},r=e=>{for(let t=0;t<e.changedTouches.length;t++){const o=e.changedTouches[t];n.delete(o.identifier)}},i=t=>{const o=t.touches.length;if(1===o){if(!a)return;t.preventDefault();const e=t.touches[0],o=n.get(e.identifier);if(!o)throw new Error("touchStart is null");const r=e.clientX-o.clientX,i=e.clientY-o.clientY;v({x:r,y:i}),n.set(e.identifier,e)}else if(2===o){t.preventDefault();const[o,r]=t.touches,a=n.get(o.identifier),i=n.get(r.identifier);if(!a||!i)throw new Error("initialTouch1 or initialTouch2 is null");const s=ke(a,i),l=ke(o,r)/s,{left:c,top:d}=e.getBoundingClientRect();b(l-1,{x:(o.clientX+r.clientX)/2-c,y:(o.clientY+r.clientY)/2-d}),n.set(o.identifier,o),n.set(r.identifier,r)}};return t.addEventListener("touchstart",o),t.addEventListener("touchmove",i),t.addEventListener("touchend",r),t.addEventListener("touchcancel",r),()=>{t.removeEventListener("touchstart",o),t.removeEventListener("touchmove",i),t.removeEventListener("touchend",r),t.removeEventListener("touchcancel",r)}},[a,v,b]),o.jsx("div",{ref:s,className:"relative size-full overflow-hidden "+(a?"z-zoomed-image cursor-move":""),children:o.jsx("div",{ref:l,className:"origin-top-left",children:o.jsx(ue,{...t,imgInPlayerWidthRatio:e?1:n})})})},Me=({className:e})=>o.jsx(te,{className:e,customizationKey:"UI_WARNING",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),o.jsx("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})]})}),Le=({hotspot:e,item:t,analyticsValue:n})=>{const{title:a,icon:i,description:s,position:l,detail:c,type:d}=e,{emitAnalyticsEvent:u}=N(),{extendMode:p,setShownDetails:h,displayedCategoryId:m,displayedCategoryName:f}=G(),g=r.useCallback(e=>{const o="click"===e?"Hotspot Clicked":"Hotspot Hovered",r="click"===e?"hotspot_clicked":"hotspot_hovered";u({type:"track",category_id:m,category_name:f,item_type:t.item_type,item_position:t.item_position,action_properties:{action_name:o,action_field:r,action_value:n}})},[u,m,f,t,n]),v=r.useCallback(()=>{g("click")},[g]),x=r.useCallback(()=>{g("hover")},[g]),{getIconConfig:w}=V(),b=i?w(i):void 0,y=!!c,E="image"===c?.type,C=!!a||!!s,k=E?"damage"===d?o.jsx(Me,{className:"size-4"}):o.jsx(pe,{className:"size-4"}):o.jsx("div",{className:"size-1"}),[_,M]=r.useState(!1),L=r.useCallback(()=>{_||(M(!0),x())},[_,M,x]),j=r.useCallback(()=>{_&&M(!1)},[_,M]),I=r.useCallback(()=>"damage"===d?"var(--hotspot-damage-color)":"var(--hotspot-feature-color)",[d])();return o.jsxs("div",{className:J("group absolute z-hotspot -translate-x-1/2 -translate-y-1/2 hover:z-hotspot-hover",y?"cursor-pointer":"cursor-help"),style:{top:100*e.position.y+"%",left:100*e.position.x+"%"},onClick:()=>{v(),E&&h({src:c.src,title:a,text:s})},onMouseEnter:L,onMouseLeave:j,children:[o.jsxs("div",{className:"relative flex items-center justify-center rounded-full border-2 border-background bg-primary text-primary-foreground",style:{backgroundColor:I},children:[o.jsx("div",{className:"pointer-events-none absolute -z-20 size-8 animate-hotspot-ping rounded-full border-2 border-background bg-primary",style:{backgroundColor:I}}),o.jsx("div",{className:"p-1",children:b?.Icon?o.jsx("div",{className:"size-4",children:b.Icon}):k})]}),!E&&C&&o.jsx("div",{className:J("absolute -z-10 w-max max-w-40 text-pretty rounded-ui bg-background p-2 small:max-w-48",p&&"large:max-w-56",l.y<.55?"-top-1":"-bottom-1",l.x<.55?"-left-1 pl-6 small:pl-8":"-right-1 pr-4 small:pr-6","pointer-events-none opacity-0 transition-opacity duration-200 group-hover:pointer-events-auto group-hover:opacity-100"),children:o.jsxs("div",{className:"space-y-1 text-pretty",children:[a&&o.jsx("div",{className:"text-sm font-semibold small:text-base small:font-bold",children:a}),s&&o.jsx("div",{className:"text-xs text-foreground/65 small:text-sm",children:s})]})})]})},Ne=({hotspot:e,item:t})=>{const{detail:n,title:a,description:i,position:s}=e,l=r.useMemo(()=>a||i?{...a?{title:a}:{},...i?{description:i}:{}}:void 0,[a,i]),c=r.useMemo(()=>l||s?{...l?{text:l}:{},...s?{position:s}:{}}:void 0,[l,s]),d=r.useMemo(()=>({...c?{hotspot:c}:{},...n?{detail:n}:{}}),[c,n]),u=o.jsx(Le,{hotspot:e,item:t,analyticsValue:d});switch(n?.type){case"link":case"pdf":return o.jsx("a",{href:n.src,target:"_blank",rel:"noreferrer",children:u});default:return u}},je=({hotspots:e,itemIndex:t,className:n,onLoad:r,...a})=>{const{isShowingDetails:i,currentItemHotspotsVisible:s,setItemInteraction:l}=G();return o.jsx("div",{className:J("relative size-full overflow-hidden",n),children:o.jsxs("div",{className:J("size-full duration-details",i?"scale-105":"scale-100"),children:[o.jsx(_e,{className:"size-full object-cover",onLoad:e=>{void 0!==t&&t>=0&&l(t,"ready"),r?.(e)},...a}),s&&e?.map((e,n)=>o.jsx(Ne,{hotspot:e,item:{item_type:"image",item_position:t}},n))]})})};var Ie,Te;window.libpannellum=function(e,t,n){function o(o){var i,d,u,p,h,m,f,g,v,x,w,b,y,E,C,k,_=t.createElement("canvas");function M(e,t){return 1==e.level&&1!=t.level?-1:1==t.level&&1!=e.level?1:t.timestamp-e.timestamp}function L(e,t){return e.level!=t.level?e.level-t.level:e.diff-t.diff}function N(e,t,n,o,r,a){this.vertices=e,this.side=t,this.level=n,this.x=o,this.y=r,this.path=a.replace("%s",t).replace("%l",n).replace("%x",o).replace("%y",r)}function j(e,t,n,o,r){if(function(e,t){var n=A(e,t.slice(0,3)),o=A(e,t.slice(3,6)),r=A(e,t.slice(6,9)),a=A(e,t.slice(9,12)),i=n[0]+o[0]+r[0]+a[0];if(-4==i||4==i)return!1;var s=n[1]+o[1]+r[1]+a[1];if(-4==s||4==s)return!1;var l=n[2]+o[2]+r[2]+a[2];return 4!=l}(e,t.vertices)){var a=t.vertices,s=a[0]+a[3]+a[6]+a[9],l=a[1]+a[4]+a[7]+a[10],c=a[2]+a[5]+a[8]+a[11],d=Math.sqrt(s*s+l*l+c*c),u=Math.asin(c/d),p=Math.atan2(l,s)-o;p+=p>Math.PI?-2*Math.PI:p<-Math.PI?2*Math.PI:0,p=Math.abs(p),t.diff=Math.acos(Math.sin(n)*Math.sin(u)+Math.cos(n)*Math.cos(u)*Math.cos(p));for(var h=!1,m=0;m<i.nodeCache.length;m++)if(i.nodeCache[m].path==t.path){h=!0,i.nodeCache[m].timestamp=i.nodeCacheTimestamp++,i.nodeCache[m].diff=t.diff,i.currentNodes.push(i.nodeCache[m]);break}if(h||(t.timestamp=i.nodeCacheTimestamp++,i.currentNodes.push(t),i.nodeCache.push(t)),t.level<i.level){var f=v.cubeResolution*Math.pow(2,t.level-v.maxLevel),g=Math.ceil(f*v.invTileResolution)-1,x=f%v.tileResolution*2,w=2*f%v.tileResolution;0===w&&(w=v.tileResolution),0===x&&(x=2*v.tileResolution);var b=.5;(t.x==g||t.y==g)&&(b=1-v.tileResolution/(v.tileResolution+w));var y,E=1-b,C=[],k=b,_=b,M=b,L=E,I=E,T=E;w<v.tileResolution&&(t.x==g&&t.y!=g?(_=.5,I=.5,("d"==t.side||"u"==t.side)&&(M=.5,T=.5)):t.x!=g&&t.y==g&&(k=.5,L=.5,("l"==t.side||"r"==t.side)&&(M=.5,T=.5))),x<=v.tileResolution&&(t.x==g&&(k=0,L=1,("l"==t.side||"r"==t.side)&&(M=0,T=1)),t.y==g&&(_=0,I=1,("d"==t.side||"u"==t.side)&&(M=0,T=1))),y=new N([a[0],a[1],a[2],a[0]*k+a[3]*L,a[1]*b+a[4]*E,a[2]*M+a[5]*T,a[0]*k+a[6]*L,a[1]*_+a[7]*I,a[2]*M+a[8]*T,a[0]*b+a[9]*E,a[1]*_+a[10]*I,a[2]*M+a[11]*T],t.side,t.level+1,2*t.x,2*t.y,v.fullpath),C.push(y),t.x==g&&x<=v.tileResolution||(y=new N([a[0]*k+a[3]*L,a[1]*b+a[4]*E,a[2]*M+a[5]*T,a[3],a[4],a[5],a[3]*b+a[6]*E,a[4]*_+a[7]*I,a[5]*M+a[8]*T,a[0]*k+a[6]*L,a[1]*_+a[7]*I,a[2]*M+a[8]*T],t.side,t.level+1,2*t.x+1,2*t.y,v.fullpath),C.push(y)),!(t.x==g&&x<=v.tileResolution)&&!(t.y==g&&x<=v.tileResolution)&&(y=new N([a[0]*k+a[6]*L,a[1]*_+a[7]*I,a[2]*M+a[8]*T,a[3]*b+a[6]*E,a[4]*_+a[7]*I,a[5]*M+a[8]*T,a[6],a[7],a[8],a[9]*k+a[6]*L,a[10]*b+a[7]*E,a[11]*M+a[8]*T],t.side,t.level+1,2*t.x+1,2*t.y+1,v.fullpath),C.push(y)),t.y==g&&x<=v.tileResolution||(y=new N([a[0]*b+a[9]*E,a[1]*_+a[10]*I,a[2]*M+a[11]*T,a[0]*k+a[6]*L,a[1]*_+a[7]*I,a[2]*M+a[8]*T,a[9]*k+a[6]*L,a[10]*b+a[7]*E,a[11]*M+a[8]*T,a[9],a[10],a[11]],t.side,t.level+1,2*t.x,2*t.y+1,v.fullpath),C.push(y));for(var P=0;P<C.length;P++)j(e,C[P],n,o)}}}function I(){return[-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,1,1,-1,1,1,-1,-1]}function T(e,t,n){var o=Math.sin(t),r=Math.cos(t);return"x"==n?[e[0],r*e[1]+o*e[2],r*e[2]-o*e[1],e[3],r*e[4]+o*e[5],r*e[5]-o*e[4],e[6],r*e[7]+o*e[8],r*e[8]-o*e[7]]:"y"==n?[r*e[0]-o*e[2],e[1],r*e[2]+o*e[0],r*e[3]-o*e[5],e[4],r*e[5]+o*e[3],r*e[6]-o*e[8],e[7],r*e[8]+o*e[6]]:"z"==n?[r*e[0]+o*e[1],r*e[1]-o*e[0],e[2],r*e[3]+o*e[4],r*e[4]-o*e[3],e[5],r*e[6]+o*e[7],r*e[7]-o*e[6],e[8]]:void 0}function P(e){return[e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15]]}_.style.width=_.style.height="100%",o.appendChild(_),this.init=function(e,M,L,N,j,T,P,R){if(M===n&&(M="equirectangular"),"equirectangular"!=M&&"cubemap"!=M&&"multires"!=M)throw console.log("Error: invalid image type specified!"),{type:"config error"};if(x=M,v=e,w=L,k=R||{},i){if(u&&(d.detachShader(i,u),d.deleteShader(u)),p&&(d.detachShader(i,p),d.deleteShader(p)),d.bindBuffer(d.ARRAY_BUFFER,null),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,null),i.texture&&d.deleteTexture(i.texture),i.nodeCache)for(var S=0;S<i.nodeCache.length;S++)d.deleteTexture(i.nodeCache[S].texture);d.deleteProgram(i),i=n}g=n;var z,A,H=!1;if("cubemap"==x)for(z=0;z<6;z++)v[z].width>0?(A===n&&(A=v[z].width),A!=v[z].width&&console.log("Cube faces have inconsistent widths: "+A+" vs. "+v[z].width)):H=!0;function D(e){if(H){var t=e*e*4,n=new Uint8ClampedArray(t),o=R.backgroundColor?R.backgroundColor:[0,0,0];o[0]*=255,o[1]*=255,o[2]*=255;for(var r=0;r<t;r++)n[r++]=o[0],n[r++]=o[1],n[r++]=o[2];var a=new ImageData(n,e,e);for(z=0;z<6;z++)0==v[z].width&&(v[z]=a)}}if("cubemap"==x&&A&A-1&&(navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)||navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 9_/)||navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 10_/)||navigator.userAgent.match(/Trident.*rv[ :]*11\./))||(d||(d=_.getContext("experimental-webgl",{alpha:!1,depth:!1})),d&&1286==d.getError()&&O()),d||!("multires"==x&&v.hasOwnProperty("fallbackPath")||"cubemap"==x)||!("WebkitAppearance"in t.documentElement.style)&&!navigator.userAgent.match(/Trident.*rv[ :]*11\./)&&-1===navigator.appVersion.indexOf("MSIE 10")){if(!d)throw console.log("Error: no WebGL support detected!"),{type:"no webgl"};"cubemap"==x&&D(A),v.basePath?v.fullpath=v.basePath+v.path:v.fullpath=v.path,v.invTileResolution=1/v.tileResolution;var F=[-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,1,1,-1,1,1,-1,-1];for(f=[],z=0;z<6;z++)f[z]=F.slice(12*z,12*z+12),F=I();var V=0,U=0;if("equirectangular"==x?(V=Math.max(v.width,v.height),U=d.getParameter(d.MAX_TEXTURE_SIZE)):"cubemap"==x&&(V=A,U=d.getParameter(d.MAX_CUBE_MAP_TEXTURE_SIZE)),V>U)throw console.log("Error: The image is too big; it's "+V+"px wide, but this device's maximum supported size is "+U+"px."),{type:"webgl size error",width:V,maxWidth:U};R!==n&&(R.horizonPitch!==n||R.horizonRoll!==n)&&(g=[R.horizonPitch==n?0:R.horizonPitch,R.horizonRoll==n?0:R.horizonRoll]);var B=d.TEXTURE_2D;d.viewport(0,0,d.drawingBufferWidth,d.drawingBufferHeight),u=d.createShader(d.VERTEX_SHADER);var W=r;"multires"==x&&(W=a),d.shaderSource(u,W),d.compileShader(u),p=d.createShader(d.FRAGMENT_SHADER);var Y=l;"cubemap"==x?(B=d.TEXTURE_CUBE_MAP,Y=s):"multires"==x&&(Y=c),d.shaderSource(p,Y),d.compileShader(p),i=d.createProgram(),d.attachShader(i,u),d.attachShader(i,p),d.linkProgram(i),d.getShaderParameter(u,d.COMPILE_STATUS)||console.log(d.getShaderInfoLog(u)),d.getShaderParameter(p,d.COMPILE_STATUS)||console.log(d.getShaderInfoLog(p)),d.getProgramParameter(i,d.LINK_STATUS)||console.log(d.getProgramInfoLog(i)),d.useProgram(i),i.drawInProgress=!1;var G=R.backgroundColor?R.backgroundColor:[0,0,0];d.clearColor(G[0],G[1],G[2],1),d.clear(d.COLOR_BUFFER_BIT),i.texCoordLocation=d.getAttribLocation(i,"a_texCoord"),d.enableVertexAttribArray(i.texCoordLocation),"multires"!=x?(b||(b=d.createBuffer()),d.bindBuffer(d.ARRAY_BUFFER,b),d.bufferData(d.ARRAY_BUFFER,new Float32Array([-1,1,1,1,1,-1,-1,1,1,-1,-1,-1]),d.STATIC_DRAW),d.vertexAttribPointer(i.texCoordLocation,2,d.FLOAT,!1,0,0),i.aspectRatio=d.getUniformLocation(i,"u_aspectRatio"),d.uniform1f(i.aspectRatio,d.drawingBufferWidth/d.drawingBufferHeight),i.psi=d.getUniformLocation(i,"u_psi"),i.theta=d.getUniformLocation(i,"u_theta"),i.f=d.getUniformLocation(i,"u_f"),i.h=d.getUniformLocation(i,"u_h"),i.v=d.getUniformLocation(i,"u_v"),i.vo=d.getUniformLocation(i,"u_vo"),i.rot=d.getUniformLocation(i,"u_rot"),d.uniform1f(i.h,N/(2*Math.PI)),d.uniform1f(i.v,j/Math.PI),d.uniform1f(i.vo,T/Math.PI*2),"equirectangular"==x&&(i.backgroundColor=d.getUniformLocation(i,"u_backgroundColor"),d.uniform4fv(i.backgroundColor,G.concat([1]))),i.texture=d.createTexture(),d.bindTexture(B,i.texture),"cubemap"==x?(d.texImage2D(d.TEXTURE_CUBE_MAP_POSITIVE_X,0,d.RGB,d.RGB,d.UNSIGNED_BYTE,v[1]),d.texImage2D(d.TEXTURE_CUBE_MAP_NEGATIVE_X,0,d.RGB,d.RGB,d.UNSIGNED_BYTE,v[3]),d.texImage2D(d.TEXTURE_CUBE_MAP_POSITIVE_Y,0,d.RGB,d.RGB,d.UNSIGNED_BYTE,v[4]),d.texImage2D(d.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,d.RGB,d.RGB,d.UNSIGNED_BYTE,v[5]),d.texImage2D(d.TEXTURE_CUBE_MAP_POSITIVE_Z,0,d.RGB,d.RGB,d.UNSIGNED_BYTE,v[0]),d.texImage2D(d.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,d.RGB,d.RGB,d.UNSIGNED_BYTE,v[2])):d.texImage2D(B,0,d.RGB,d.RGB,d.UNSIGNED_BYTE,v),d.texParameteri(B,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(B,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(B,d.TEXTURE_MIN_FILTER,d.LINEAR),d.texParameteri(B,d.TEXTURE_MAG_FILTER,d.LINEAR)):(i.vertPosLocation=d.getAttribLocation(i,"a_vertCoord"),d.enableVertexAttribArray(i.vertPosLocation),y||(y=d.createBuffer()),E||(E=d.createBuffer()),C||(C=d.createBuffer()),d.bindBuffer(d.ARRAY_BUFFER,E),d.bufferData(d.ARRAY_BUFFER,new Float32Array([0,0,1,0,1,1,0,1]),d.STATIC_DRAW),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,C),d.bufferData(d.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),d.STATIC_DRAW),i.perspUniform=d.getUniformLocation(i,"u_perspMatrix"),i.cubeUniform=d.getUniformLocation(i,"u_cubeMatrix"),i.level=-1,i.currentNodes=[],i.nodeCache=[],i.nodeCacheTimestamp=0);var Z=d.getError();if(0!==Z)throw console.log("Error: Something went wrong with WebGL!",Z),{type:"webgl error"};P()}else{var X;m&&o.removeChild(m),(m=t.createElement("div")).className="pnlm-world",X=v.basePath?v.basePath+v.fallbackPath:v.fallbackPath;var q=["f","r","b","l","u","d"],$=0,K=function(){var e=t.createElement("canvas");e.className="pnlm-face pnlm-"+q[this.side]+"face",m.appendChild(e);var n=e.getContext("2d");e.style.width=this.width+4+"px",e.style.height=this.height+4+"px",e.width=this.width+4,e.height=this.height+4,n.drawImage(this,2,2);var o,r,a=n.getImageData(0,0,e.width,e.height),i=a.data;for(o=2;o<e.width-2;o++)for(r=0;r<4;r++)i[4*(o+e.width)+r]=i[4*(o+2*e.width)+r],i[4*(o+e.width*(e.height-2))+r]=i[4*(o+e.width*(e.height-3))+r];for(o=2;o<e.height-2;o++)for(r=0;r<4;r++)i[4*(o*e.width+1)+r]=i[4*(o*e.width+2)+r],i[4*((o+1)*e.width-2)+r]=i[4*((o+1)*e.width-3)+r];for(r=0;r<4;r++)i[4*(e.width+1)+r]=i[4*(2*e.width+2)+r],i[4*(2*e.width-2)+r]=i[4*(3*e.width-3)+r],i[4*(e.width*(e.height-2)+1)+r]=i[4*(e.width*(e.height-3)+2)+r],i[4*(e.width*(e.height-1)-2)+r]=i[4*(e.width*(e.height-2)-3)+r];for(o=1;o<e.width-1;o++)for(r=0;r<4;r++)i[4*o+r]=i[4*(o+e.width)+r],i[4*(o+e.width*(e.height-1))+r]=i[4*(o+e.width*(e.height-2))+r];for(o=1;o<e.height-1;o++)for(r=0;r<4;r++)i[o*e.width*4+r]=i[4*(o*e.width+1)+r],i[4*((o+1)*e.width-1)+r]=i[4*((o+1)*e.width-2)+r];for(r=0;r<4;r++)i[r]=i[4*(e.width+1)+r],i[4*(e.width-1)+r]=i[4*(2*e.width-2)+r],i[e.width*(e.height-1)*4+r]=i[4*(e.width*(e.height-2)+1)+r],i[4*(e.width*e.height-1)+r]=i[4*(e.width*(e.height-1)-2)+r];n.putImageData(a,0,0),J.call(this)},J=function(){this.width>0?(h===n&&(h=this.width),h!=this.width&&console.log("Fallback faces have inconsistent widths: "+h+" vs. "+this.width)):H=!0,6==++$&&(h=this.width,o.appendChild(m),P())};for(H=!1,z=0;z<6;z++){var Q=new Image;Q.crossOrigin=k.crossOrigin?k.crossOrigin:"anonymous",Q.side=z,Q.onload=K,Q.onerror=J,Q.src="multires"==x?encodeURI(X.replace("%s",q[z])+"."+v.extension):encodeURI(v[z].src)}D(h)}},this.destroy=function(){if(o!==n&&(_!==n&&o.contains(_)&&o.removeChild(_),m!==n&&o.contains(m)&&o.removeChild(m)),d){var e=d.getExtension("WEBGL_lose_context");e&&e.loseContext()}},this.resize=function(){var t=e.devicePixelRatio||1;_.width=_.clientWidth*t,_.height=_.clientHeight*t,d&&(1286==d.getError()&&O(),d.viewport(0,0,d.drawingBufferWidth,d.drawingBufferHeight),"multires"!=x&&d.uniform1f(i.aspectRatio,_.clientWidth/_.clientHeight))},this.resize(),this.setPose=function(e,t){g=[e,t]},this.render=function(e,t,o,r){var a,s,l=0;if(r===n&&(r={}),r.roll&&(l=r.roll),g!==n){var c=g[0],u=g[1],p=e,b=t,C=Math.cos(u)*Math.sin(e)*Math.sin(c)+Math.cos(e)*(Math.cos(c)*Math.cos(t)+Math.sin(u)*Math.sin(c)*Math.sin(t)),k=-Math.sin(e)*Math.sin(u)+Math.cos(e)*Math.cos(u)*Math.sin(t),I=Math.cos(u)*Math.cos(c)*Math.sin(e)+Math.cos(e)*(-Math.cos(t)*Math.sin(c)+Math.cos(c)*Math.sin(u)*Math.sin(t));e=Math.asin(Math.max(Math.min(I,1),-1)),t=Math.atan2(k,C);var S=[Math.cos(p)*(Math.sin(u)*Math.sin(c)*Math.cos(b)-Math.cos(c)*Math.sin(b)),Math.cos(p)*Math.cos(u)*Math.cos(b),Math.cos(p)*(Math.cos(c)*Math.sin(u)*Math.cos(b)+Math.sin(b)*Math.sin(c))],A=[-Math.cos(e)*Math.sin(t),Math.cos(e)*Math.cos(t)],O=Math.acos(Math.max(Math.min((S[0]*A[0]+S[1]*A[1])/(Math.sqrt(S[0]*S[0]+S[1]*S[1]+S[2]*S[2])*Math.sqrt(A[0]*A[0]+A[1]*A[1])),1),-1));S[2]<0&&(O=2*Math.PI-O),l+=O}if(d||"multires"!=x&&"cubemap"!=x){if("multires"!=x){var H=2*Math.atan(Math.tan(.5*o)/(d.drawingBufferWidth/d.drawingBufferHeight));a=1/Math.tan(.5*H),d.uniform1f(i.psi,t),d.uniform1f(i.theta,e),d.uniform1f(i.rot,l),d.uniform1f(i.f,a),!0===w&&"equirectangular"==x&&(d.bindTexture(d.TEXTURE_2D,i.texture),d.texImage2D(d.TEXTURE_2D,0,d.RGB,d.RGB,d.UNSIGNED_BYTE,v)),d.drawArrays(d.TRIANGLES,0,6)}else{var D=function(e,t,n,o){var r=2*Math.atan(Math.tan(e/2)*d.drawingBufferHeight/d.drawingBufferWidth),a=1/Math.tan(r/2);return[a/t,0,0,0,0,a,0,0,0,0,(o+n)/(n-o),2*o*n/(n-o),0,0,-1,0]}(o,d.drawingBufferWidth/d.drawingBufferHeight,.1,100);!function(e){for(var t=1;t<v.maxLevel&&d.drawingBufferWidth>v.tileResolution*Math.pow(2,t-1)*Math.tan(e/2)*.707;)t++;i.level=t}(o);var F=[1,0,0,0,1,0,0,0,1];F=T(F,-l,"z"),F=T(F,-e,"x"),F=function(e){return[e[0],e[1],e[2],0,e[3],e[4],e[5],0,e[6],e[7],e[8],0,0,0,0,1]}(F=T(F,t,"y")),d.uniformMatrix4fv(i.perspUniform,!1,new Float32Array(P(D))),d.uniformMatrix4fv(i.cubeUniform,!1,new Float32Array(P(F)));var V=function(e,t){return[e[0]*t[0],e[0]*t[1],e[0]*t[2],0,e[5]*t[4],e[5]*t[5],e[5]*t[6],0,e[10]*t[8],e[10]*t[9],e[10]*t[10],e[11],-t[8],-t[9],-t[10],0]}(D,F);if(i.nodeCache.sort(M),i.nodeCache.length>200&&i.nodeCache.length>i.currentNodes.length+50)for(var U=i.nodeCache.splice(200,i.nodeCache.length-200),B=0;B<U.length;B++)d.deleteTexture(U[B].texture);i.currentNodes=[];var W=["f","b","u","d","l","r"];for(s=0;s<6;s++){j(V,new N(f[s],W[s],1,0,0,v.fullpath),e,t)}for(i.currentNodes.sort(L),B=R.length-1;B>=0;B--)-1===i.currentNodes.indexOf(R[B].node)&&(R[B].node.textureLoad=!1,R.splice(B,1));if(0===R.length)for(B=0;B<i.currentNodes.length;B++){var Y=i.currentNodes[B];if(!Y.texture&&!Y.textureLoad){Y.textureLoad=!0,setTimeout(z,0,Y);break}}!function(){if(!i.drawInProgress){i.drawInProgress=!0,d.clear(d.COLOR_BUFFER_BIT);for(var e=0;e<i.currentNodes.length;e++)i.currentNodes[e].textureLoaded>1&&(d.bindBuffer(d.ARRAY_BUFFER,y),d.bufferData(d.ARRAY_BUFFER,new Float32Array(i.currentNodes[e].vertices),d.STATIC_DRAW),d.vertexAttribPointer(i.vertPosLocation,3,d.FLOAT,!1,0,0),d.bindBuffer(d.ARRAY_BUFFER,E),d.vertexAttribPointer(i.texCoordLocation,2,d.FLOAT,!1,0,0),d.bindTexture(d.TEXTURE_2D,i.currentNodes[e].texture),d.drawElements(d.TRIANGLES,6,d.UNSIGNED_SHORT,0));i.drawInProgress=!1}}()}if(r.returnImage!==n)return _.toDataURL("image/png")}else{var G={f:"translate3d(-"+((s=h/2)+2)+"px, -"+(s+2)+"px, -"+s+"px)",b:"translate3d("+(s+2)+"px, -"+(s+2)+"px, "+s+"px) rotateX(180deg) rotateZ(180deg)",u:"translate3d(-"+(s+2)+"px, -"+s+"px, "+(s+2)+"px) rotateX(270deg)",d:"translate3d(-"+(s+2)+"px, "+s+"px, -"+(s+2)+"px) rotateX(90deg)",l:"translate3d(-"+s+"px, -"+(s+2)+"px, "+(s+2)+"px) rotateX(180deg) rotateY(90deg) rotateZ(180deg)",r:"translate3d("+s+"px, -"+(s+2)+"px, -"+(s+2)+"px) rotateY(270deg)"},Z=(a=1/Math.tan(o/2))*_.clientWidth/2+"px",X="perspective("+Z+") translateZ("+Z+") rotateX("+e+"rad) rotateY("+t+"rad) ",q=Object.keys(G);for(B=0;B<6;B++){var $=m.querySelector(".pnlm-"+q[B]+"face");$&&($.style.webkitTransform=X+G[q[B]],$.style.transform=X+G[q[B]])}}},this.isLoading=function(){if(d&&"multires"==x)for(var e=0;e<i.currentNodes.length;e++)if(!i.currentNodes[e].textureLoaded)return!0;return!1},this.getCanvas=function(){return _};var R=[],S=function(){var e,t=4,n={};function o(){var o=this;this.texture=this.callback=null,this.image=new Image,this.image.crossOrigin=e||"anonymous";var r=function(){o.image.width>0&&o.image.height>0?(function(e,t){d.bindTexture(d.TEXTURE_2D,t),d.texImage2D(d.TEXTURE_2D,0,d.RGB,d.RGB,d.UNSIGNED_BYTE,e),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.bindTexture(d.TEXTURE_2D,null)}(o.image,o.texture),o.callback(o.texture,!0)):o.callback(o.texture,!1),function(e){if(R.length){var o=R.shift();e.loadTexture(o.src,o.texture,o.callback)}else n[t++]=e}(o)};this.image.addEventListener("load",r),this.image.addEventListener("error",r)}function r(e,t,n,o){this.node=e,this.src=t,this.texture=n,this.callback=o}o.prototype.loadTexture=function(e,t,n){this.texture=t,this.callback=n,this.image.src=e};for(var a=0;a<t;a++)n[a]=new o;return function(o,a,i,s){e=s;var l=d.createTexture();return t?n[--t].loadTexture(a,l,i):R.push(new r(o,a,l,i)),l}}();function z(e){S(e,encodeURI(e.path+"."+v.extension),function(t,n){e.texture=t,e.textureLoaded=n?2:1},k.crossOrigin)}function A(e,t){var n=function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[4]*t[0]+e[5]*t[1]+e[6]*t[2],e[11]+e[8]*t[0]+e[9]*t[1]+e[10]*t[2],1/(e[12]*t[0]+e[13]*t[1]+e[14]*t[2])]}(e,t),o=n[0]*n[3],r=n[1]*n[3],a=n[2]*n[3],i=[0,0,0];return o<-1&&(i[0]=-1),o>1&&(i[0]=1),r<-1&&(i[1]=-1),r>1&&(i[1]=1),(a<-1||a>1)&&(i[2]=1),i}function O(){console.log("Reducing canvas size due to error 1286!"),_.width=Math.round(_.width/2),_.height=Math.round(_.height/2)}}var r=["attribute vec2 a_texCoord;","varying vec2 v_texCoord;","void main() {","gl_Position = vec4(a_texCoord, 0.0, 1.0);","v_texCoord = a_texCoord;","}"].join(""),a=["attribute vec3 a_vertCoord;","attribute vec2 a_texCoord;","uniform mat4 u_cubeMatrix;","uniform mat4 u_perspMatrix;","varying mediump vec2 v_texCoord;","void main(void) {","gl_Position = u_perspMatrix * u_cubeMatrix * vec4(a_vertCoord, 1.0);","v_texCoord = a_texCoord;","}"].join(""),i=["precision mediump float;","uniform float u_aspectRatio;","uniform float u_psi;","uniform float u_theta;","uniform float u_f;","uniform float u_h;","uniform float u_v;","uniform float u_vo;","uniform float u_rot;","const float PI = 3.14159265358979323846264;","uniform sampler2D u_image;","uniform samplerCube u_imageCube;","varying vec2 v_texCoord;","uniform vec4 u_backgroundColor;","void main() {","float x = v_texCoord.x * u_aspectRatio;","float y = v_texCoord.y;","float sinrot = sin(u_rot);","float cosrot = cos(u_rot);","float rot_x = x * cosrot - y * sinrot;","float rot_y = x * sinrot + y * cosrot;","float sintheta = sin(u_theta);","float costheta = cos(u_theta);","float a = u_f * costheta - rot_y * sintheta;","float root = sqrt(rot_x * rot_x + a * a);","float lambda = atan(rot_x / root, a / root) + u_psi;","float phi = atan((rot_y * costheta + u_f * sintheta) / root);"].join("\n"),s=i+["float cosphi = cos(phi);","gl_FragColor = textureCube(u_imageCube, vec3(cosphi*sin(lambda), sin(phi), cosphi*cos(lambda)));","}"].join("\n"),l=i+["lambda = mod(lambda + PI, PI * 2.0) - PI;","vec2 coord = vec2(lambda / PI, phi / (PI / 2.0));","if(coord.x < -u_h || coord.x > u_h || coord.y < -u_v + u_vo || coord.y > u_v + u_vo)","gl_FragColor = u_backgroundColor;","else","gl_FragColor = texture2D(u_image, vec2((coord.x + u_h) / (u_h * 2.0), (-coord.y + u_v + u_vo) / (u_v * 2.0)));","}"].join("\n"),c=["varying mediump vec2 v_texCoord;","uniform sampler2D u_sampler;","void main(void) {","gl_FragColor = texture2D(u_sampler, v_texCoord);","}"].join("");return{renderer:function(e,t,n,r){return new o(e)}}}(window,document),window.pannellum=function(e,t,n){function o(o,r){var a,i,s,l,c,d,u,p,h,m=this,f=!1,g=Date.now(),v=0,x=0,w=-1,b=0,y=0,E=new Array(10),C=!1,k=!1,_=!1,M={yaw:0,pitch:0,hfov:0},L=!1,N=!1,j=0,I=0,T={},P={},R=[],S=!1,z=!1,A={hfov:100,minHfov:50,maxHfov:120,pitch:0,minPitch:n,maxPitch:n,yaw:0,minYaw:-180,maxYaw:180,roll:0,haov:360,vaov:180,vOffset:0,autoRotate:!1,autoRotateInactivityDelay:-1,autoRotateStopDelay:n,type:"equirectangular",northOffset:0,showFullscreenCtrl:!0,dynamic:!1,doubleClickZoom:!0,keyboardZoom:!0,mouseZoom:!0,showZoomCtrl:!0,autoLoad:!1,showControls:!0,orientationOnByDefault:!1,hotSpotDebug:!1,backgroundColor:[0,0,0],avoidShowingBackground:!1,animationTimingFunction:function(e){return e<.5?2*e*e:(4-2*e)*e-1},draggable:!0,disableKeyboardCtrl:!1,crossOrigin:"anonymous",touchPanSpeedCoeffFactor:1,capturedKeyNumbers:[16,17,27,37,38,39,40,61,65,68,83,87,107,109,173,187,189],strings:{loadButtonLabel:"Click to<br>Load<br>Panorama",loadingLabel:"Loading...",bylineLabel:"by %s",noPanoramaError:"No panorama image was specified.",fileAccessError:"The file %s could not be accessed.",malformedURLError:"There is something wrong with the panorama URL.",iOS8WebGLError:"Due to iOS 8's broken WebGL implementation, only progressive encoded JPEGs work for your device (this panorama uses standard encoding).",genericWebGLError:"Your browser does not have the necessary WebGL support to display this panorama.",textureSizeError:"This panorama is too big for your device! It's %spx wide, but your device only supports images up to %spx wide. Try another device. (If you're the author, try scaling down the image.)",unknownError:"Unknown error. Check developer console."}};(o="string"==typeof o?t.getElementById(o):o).classList.add("pnlm-container"),o.tabIndex=0;var O=t.createElement("div");O.className="pnlm-ui",o.appendChild(O);var H=t.createElement("div");H.className="pnlm-render-container",o.appendChild(H);var D=t.createElement("div");D.className="pnlm-dragfix",O.appendChild(D);var F=t.createElement("span");F.className="pnlm-about-msg",F.innerHTML='<a href="https://pannellum.org/" target="_blank">Pannellum</a>',O.appendChild(F),D.addEventListener("contextmenu",function e(t){var n=K(t);F.style.left=n.x+"px",F.style.top=n.y+"px",clearTimeout(e.t1),clearTimeout(e.t2),F.style.display="block",F.style.opacity=1,e.t1=setTimeout(function(){F.style.opacity=0},2e3),e.t2=setTimeout(function(){F.style.display="none"},2500),t.preventDefault()});var V={},U=t.createElement("div");U.className="pnlm-sprite pnlm-hot-spot-debug-indicator",O.appendChild(U),V.container=t.createElement("div"),V.container.className="pnlm-panorama-info",V.title=t.createElement("div"),V.title.className="pnlm-title-box",V.container.appendChild(V.title),V.author=t.createElement("div"),V.author.className="pnlm-author-box",V.container.appendChild(V.author),O.appendChild(V.container),V.load={},V.load.box=t.createElement("div"),V.load.box.className="pnlm-load-box",V.load.boxp=t.createElement("p"),V.load.box.appendChild(V.load.boxp),V.load.lbox=t.createElement("div"),V.load.lbox.className="pnlm-lbox",V.load.lbox.innerHTML='<div class="pnlm-loading"></div>',V.load.box.appendChild(V.load.lbox),V.load.lbar=t.createElement("div"),V.load.lbar.className="pnlm-lbar",V.load.lbarFill=t.createElement("div"),V.load.lbarFill.className="pnlm-lbar-fill",V.load.lbar.appendChild(V.load.lbarFill),V.load.box.appendChild(V.load.lbar),V.load.msg=t.createElement("p"),V.load.msg.className="pnlm-lmsg",V.load.box.appendChild(V.load.msg),O.appendChild(V.load.box),V.errorMsg=t.createElement("div"),V.errorMsg.className="pnlm-error-msg pnlm-info-box",O.appendChild(V.errorMsg);var B={};B.container=t.createElement("div"),B.container.className="pnlm-controls-container",O.appendChild(B.container),B.load=t.createElement("div"),B.load.className="pnlm-load-button",B.load.addEventListener("click",function(){Ne(),Se()}),O.appendChild(B.load),B.zoom=t.createElement("div"),B.zoom.className="pnlm-zoom-controls pnlm-controls",B.zoomIn=t.createElement("div"),B.zoomIn.className="pnlm-zoom-in pnlm-sprite pnlm-control",B.zoomIn.addEventListener("click",function(){l&&(Pe(a.hfov-5),xe())}),B.zoom.appendChild(B.zoomIn),B.zoomOut=t.createElement("div"),B.zoomOut.className="pnlm-zoom-out pnlm-sprite pnlm-control",B.zoomOut.addEventListener("click",function(){l&&(Pe(a.hfov+5),xe())}),B.zoom.appendChild(B.zoomOut),B.container.appendChild(B.zoom),B.fullscreen=t.createElement("div"),B.fullscreen.addEventListener("click",je),B.fullscreen.className="pnlm-fullscreen-toggle-button pnlm-sprite pnlm-fullscreen-toggle-button-inactive pnlm-controls pnlm-control",(t.fullscreenEnabled||t.mozFullScreenEnabled||t.webkitFullscreenEnabled||t.msFullscreenEnabled)&&B.container.appendChild(B.fullscreen),B.orientation=t.createElement("div"),B.orientation.addEventListener("click",function(e){N?Ae():Oe()}),B.orientation.addEventListener("mousedown",function(e){e.stopPropagation()}),B.orientation.addEventListener("touchstart",function(e){e.stopPropagation()}),B.orientation.addEventListener("pointerdown",function(e){e.stopPropagation()}),B.orientation.className="pnlm-orientation-button pnlm-orientation-button-inactive pnlm-sprite pnlm-controls pnlm-control";var W,Y=!1;e.DeviceOrientationEvent?e.addEventListener("deviceorientation",function t(n){e.removeEventListener("deviceorientation",t),n&&null!==n.alpha&&null!==n.beta&&null!==n.gamma?(B.container.appendChild(B.orientation),W=!0,Y&&Oe()):W=!1}):W=!1;var G=t.createElement("div");function Z(){var o=t.createElement("div");if(o.innerHTML="\x3c!--[if lte IE 9]><i></i><![endif]--\x3e",1!=o.getElementsByTagName("i").length){var r,i;if(p=a.hfov,h=a.pitch,"cubemap"==a.type){for(c=[],r=0;r<6;r++)c.push(new Image),c[r].crossOrigin=a.crossOrigin;V.load.lbox.style.display="block",V.load.lbar.style.display="none"}else if("multires"==a.type){var s=JSON.parse(JSON.stringify(a.multiRes));a.basePath&&a.multiRes.basePath&&!/^(?:[a-z]+:)?\/\//i.test(a.multiRes.basePath)?s.basePath=a.basePath+a.multiRes.basePath:a.multiRes.basePath?s.basePath=a.multiRes.basePath:a.basePath&&(s.basePath=a.basePath),c=s}else if(!0===a.dynamic)c=a.panorama;else{if(a.panorama===n)return void $(a.strings.noPanoramaError);c=new Image}if("cubemap"==a.type){var l=6,d=function(){0===--l&&q()},u=function(e){var n=t.createElement("a");n.href=e.target.src,n.textContent=n.href,$(a.strings.fileAccessError.replace("%s",n.outerHTML))};for(r=0;r<c.length;r++)"null"==(i=a.cubeMap[r])?(console.log("Will use background instead of missing cubemap face "+r),d()):(a.basePath&&!X(i)&&(i=a.basePath+i),c[r].onload=d,c[r].onerror=u,c[r].src=De(i))}else if("multires"==a.type)q();else if(i="",a.basePath&&(i=a.basePath),!0!==a.dynamic){i=X(a.panorama)?a.panorama:i+a.panorama,c.onload=function(){e.URL.revokeObjectURL(this.src),q()};var m=new XMLHttpRequest;m.onloadend=function(){if(200!=m.status){var o=t.createElement("a");o.href=i,o.textContent=o.href,$(a.strings.fileAccessError.replace("%s",o.outerHTML))}(function(t){var o=new FileReader;o.addEventListener("loadend",function(){var r=o.result;if(navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)){var i=r.indexOf("\xff\xc2");(i<0||i>65536)&&$(a.strings.iOS8WebGLError)}var s=r.indexOf("<x:xmpmeta");if(s>-1&&!0!==a.ignoreGPanoXMP){var l=r.substring(s,r.indexOf("</x:xmpmeta>")+12),d=function(e){var t;return l.indexOf(e+'="')>=0?t=(t=l.substring(l.indexOf(e+'="')+e.length+2)).substring(0,t.indexOf('"')):l.indexOf(e+">")>=0&&(t=(t=l.substring(l.indexOf(e+">")+e.length+1)).substring(0,t.indexOf("<"))),t!==n?Number(t):null},u={fullWidth:d("GPano:FullPanoWidthPixels"),croppedWidth:d("GPano:CroppedAreaImageWidthPixels"),fullHeight:d("GPano:FullPanoHeightPixels"),croppedHeight:d("GPano:CroppedAreaImageHeightPixels"),topPixels:d("GPano:CroppedAreaTopPixels"),heading:d("GPano:PoseHeadingDegrees"),horizonPitch:d("GPano:PosePitchDegrees"),horizonRoll:d("GPano:PoseRollDegrees")};null!==u.fullWidth&&null!==u.croppedWidth&&null!==u.fullHeight&&null!==u.croppedHeight&&null!==u.topPixels&&(R.indexOf("haov")<0&&(a.haov=u.croppedWidth/u.fullWidth*360),R.indexOf("vaov")<0&&(a.vaov=u.croppedHeight/u.fullHeight*180),R.indexOf("vOffset")<0&&(a.vOffset=-180*((u.topPixels+u.croppedHeight/2)/u.fullHeight-.5)),null!==u.heading&&R.indexOf("northOffset")<0&&(a.northOffset=u.heading,!1!==a.compass&&(a.compass=!0)),null!==u.horizonPitch&&null!==u.horizonRoll&&(R.indexOf("horizonPitch")<0&&(a.horizonPitch=u.horizonPitch),R.indexOf("horizonRoll")<0&&(a.horizonRoll=u.horizonRoll)))}c.src=e.URL.createObjectURL(t)}),o.readAsBinaryString!==n?o.readAsBinaryString(t):o.readAsText(t)})(this.response),V.load.msg.innerHTML=""},m.onprogress=function(e){if(e.lengthComputable){var t,n,o,r=e.loaded/e.total*100;V.load.lbarFill.style.width=r+"%",e.total>1e6?(t="MB",n=(e.loaded/1e6).toFixed(2),o=(e.total/1e6).toFixed(2)):e.total>1e3?(t="kB",n=(e.loaded/1e3).toFixed(1),o=(e.total/1e3).toFixed(1)):(t="B",n=e.loaded,o=e.total),V.load.msg.innerHTML=n+" / "+o+" "+t}else V.load.lbox.style.display="block",V.load.lbar.style.display="none"};try{m.open("GET",i,!0)}catch{$(a.strings.malformedURLError)}m.responseType="blob",m.setRequestHeader("Accept","image/*,*/*;q=0.9"),m.withCredentials="use-credentials"===a.crossOrigin,m.send()}a.draggable&&O.classList.add("pnlm-grab"),O.classList.remove("pnlm-grabbing")}else $()}function X(e){return new RegExp("^(?:[a-z]+:)?//","i").test(e)||"/"==e[0]||"blob:"==e.slice(0,5)}function q(){i||(i=new libpannellum.renderer(H)),_||(_=!0,D.addEventListener("mousedown",J,!1),t.addEventListener("mousemove",te,!1),t.addEventListener("mouseup",ne,!1),a.mouseZoom&&(O.addEventListener("mousewheel",ue,!1),O.addEventListener("DOMMouseScroll",ue,!1)),a.doubleClickZoom&&D.addEventListener("dblclick",Q,!1),O.addEventListener("mozfullscreenchange",Ie,!1),O.addEventListener("webkitfullscreenchange",Ie,!1),O.addEventListener("msfullscreenchange",Ie,!1),O.addEventListener("fullscreenchange",Ie,!1),e.addEventListener("resize",ve,!1),e.addEventListener("orientationchange",ve,!1),a.disableKeyboardCtrl||(o.addEventListener("keydown",pe,!1),o.addEventListener("keyup",me,!1),o.addEventListener("blur",he,!1)),t.addEventListener("mouseleave",ne,!1),""===t.documentElement.style.pointerAction&&""===t.documentElement.style.touchAction?(D.addEventListener("pointerdown",le,!1),D.addEventListener("pointermove",ce,!1),D.addEventListener("pointerup",de,!1),D.addEventListener("pointerleave",de,!1)):(D.addEventListener("touchstart",oe,!1),D.addEventListener("touchmove",re,!1),D.addEventListener("touchend",ae,!1)),e.navigator.pointerEnabled&&(o.style.touchAction="none")),function(){try{var e={};a.horizonPitch!==n&&(e.horizonPitch=a.horizonPitch*Math.PI/180),a.horizonRoll!==n&&(e.horizonRoll=a.horizonRoll*Math.PI/180),a.backgroundColor!==n&&(e.backgroundColor=a.backgroundColor),i.init(c,a.type,a.dynamic,a.haov*Math.PI/180,a.vaov*Math.PI/180,a.vOffset*Math.PI/180,Ce,e),!0!==a.dynamic&&(c=n)}catch(t){if("webgl error"==t.type||"no webgl"==t.type)$();else{if("webgl size error"!=t.type)throw $(a.strings.unknownError),t;$(a.strings.textureSizeError.replace("%s",t.width).replace("%s",t.maxWidth))}}}(),Pe(a.hfov),setTimeout(function(){},500)}function $(e){e===n&&(e=a.strings.genericWebGLError),V.errorMsg.innerHTML="<p>"+e+"</p>",B.load.style.display="none",V.load.box.style.display="none",V.errorMsg.style.display="table",k=!0,H.style.display="none",Fe("error",e)}function K(e){var t=o.getBoundingClientRect(),n={};return n.x=e.clientX-t.left,n.y=e.clientY-t.top,n}function J(e){if(e.preventDefault(),o.focus(),l&&a.draggable){var t=K(e);if(a.hotSpotDebug){var n=ee(e);console.log("Pitch: "+n[0]+", Yaw: "+n[1]+", Center Pitch: "+a.pitch+", Center Yaw: "+a.yaw+", HFOV: "+a.hfov)}Re(),Ae(),a.roll=0,M.hfov=0,f=!0,g=Date.now(),v=t.x,x=t.y,b=a.yaw,y=a.pitch,O.classList.add("pnlm-grabbing"),O.classList.remove("pnlm-grab"),Fe("mousedown",e),xe()}}function Q(e){if(a.minHfov===a.hfov)m.setHfov(p,1e3);else{var t=ee(e);m.lookAt(t[0],t[1],a.minHfov,1e3)}}function ee(e){var t=K(e),n=i.getCanvas(),o=n.clientWidth,r=n.clientHeight,s=t.x/o*2-1,l=(1-t.y/r*2)*r/o,c=1/Math.tan(a.hfov*Math.PI/360),d=Math.sin(a.pitch*Math.PI/180),u=Math.cos(a.pitch*Math.PI/180),p=c*u-l*d,h=Math.sqrt(s*s+p*p),m=180*Math.atan((l*u+c*d)/h)/Math.PI,f=180*Math.atan2(s/h,p/h)/Math.PI+a.yaw;return f<-180&&(f+=360),f>180&&(f-=360),[m,f]}function te(e){if(f&&l){g=Date.now();var t=i.getCanvas(),n=t.clientWidth,o=t.clientHeight,r=K(e),s=180*(Math.atan(v/n*2-1)-Math.atan(r.x/n*2-1))/Math.PI*a.hfov/90+b;M.yaw=(s-a.yaw)%360*.2,a.yaw=s;var c=2*Math.atan(Math.tan(a.hfov/360*Math.PI)*o/n)*180/Math.PI,d=180*(Math.atan(r.y/o*2-1)-Math.atan(x/o*2-1))/Math.PI*c/90+y;M.pitch=.2*(d-a.pitch),a.pitch=d}}function ne(e){f&&(f=!1,Date.now()-g>15&&(M.pitch=M.yaw=0),O.classList.add("pnlm-grab"),O.classList.remove("pnlm-grabbing"),g=Date.now(),Fe("mouseup",e))}function oe(e){if(l&&a.draggable){Re(),Ae(),a.roll=0,M.hfov=0;var t=K(e.targetTouches[0]);if(v=t.x,x=t.y,2==e.targetTouches.length){var n=K(e.targetTouches[1]);v+=.5*(n.x-t.x),x+=.5*(n.y-t.y),w=Math.sqrt((t.x-n.x)*(t.x-n.x)+(t.y-n.y)*(t.y-n.y))}f=!0,g=Date.now(),b=a.yaw,y=a.pitch,Fe("touchstart",e),xe()}}function re(e){if(a.draggable&&(e.preventDefault(),l&&(g=Date.now()),f&&l)){var t=K(e.targetTouches[0]),n=t.x,o=t.y;if(2==e.targetTouches.length&&-1!=w){var r=K(e.targetTouches[1]);n+=.5*(r.x-t.x),o+=.5*(r.y-t.y);var i=Math.sqrt((t.x-r.x)*(t.x-r.x)+(t.y-r.y)*(t.y-r.y));Pe(a.hfov+.1*(w-i)),w=i}var s=a.hfov/360*a.touchPanSpeedCoeffFactor,c=(v-n)*s+b;M.yaw=(c-a.yaw)%360*.2,a.yaw=c;var d=(o-x)*s+y;M.pitch=.2*(d-a.pitch),a.pitch=d}}function ae(){f=!1,Date.now()-g>150&&(M.pitch=M.yaw=0),w=-1,g=Date.now(),Fe("touchend",event)}G.className="pnlm-compass pnlm-controls pnlm-control",O.appendChild(G),r.firstScene?Le(r.firstScene):r.default&&r.default.firstScene?Le(r.default.firstScene):Le(null),Ne(!0);var ie=[],se=[];function le(e){"touch"==e.pointerType&&(ie.push(e.pointerId),se.push({clientX:e.clientX,clientY:e.clientY}),e.targetTouches=se,oe(e),e.preventDefault())}function ce(e){if("touch"==e.pointerType)for(var t=0;t<ie.length;t++)if(e.pointerId==ie[t])return se[t].clientX=e.clientX,se[t].clientY=e.clientY,e.targetTouches=se,re(e),void e.preventDefault()}function de(e){if("touch"==e.pointerType){for(var t=!1,o=0;o<ie.length;o++)e.pointerId==ie[o]&&(ie[o]=n),ie[o]&&(t=!0);t||(ie=[],se=[],ae()),e.preventDefault()}}function ue(e){!l||"fullscreenonly"==a.mouseZoom&&!C||(e.preventDefault(),Re(),g=Date.now(),e.wheelDeltaY?(Pe(a.hfov-.05*e.wheelDeltaY),M.hfov=e.wheelDelta<0?1:-1):e.wheelDelta?(Pe(a.hfov-.05*e.wheelDelta),M.hfov=e.wheelDelta<0?1:-1):e.detail&&(Pe(a.hfov+1.5*e.detail),M.hfov=e.detail>0?1:-1),xe())}function pe(e){Re(),g=Date.now(),Ae(),a.roll=0;var t=e.which||e.keycode;a.capturedKeyNumbers.indexOf(t)<0||(e.preventDefault(),27==t?C&&je():fe(t,!0))}function he(){for(var e=0;e<10;e++)E[e]=!1}function me(e){var t=e.which||e.keycode;a.capturedKeyNumbers.indexOf(t)<0||(e.preventDefault(),fe(t,!1))}function fe(e,t){var n=!1;switch(e){case 109:case 189:case 17:case 173:E[0]!=t&&(n=!0),E[0]=t;break;case 107:case 187:case 16:case 61:E[1]!=t&&(n=!0),E[1]=t;break;case 38:E[2]!=t&&(n=!0),E[2]=t;break;case 87:E[6]!=t&&(n=!0),E[6]=t;break;case 40:E[3]!=t&&(n=!0),E[3]=t;break;case 83:E[7]!=t&&(n=!0),E[7]=t;break;case 37:E[4]!=t&&(n=!0),E[4]=t;break;case 65:E[8]!=t&&(n=!0),E[8]=t;break;case 39:E[5]!=t&&(n=!0),E[5]=t;break;case 68:E[9]!=t&&(n=!0),E[9]=t}n&&t&&(d=typeof performance<"u"&&performance.now()?performance.now():Date.now(),xe())}function ge(e){var t=T[e],n=Math.min(1,Math.max((Date.now()-t.startTime)/1e3/(t.duration/1e3),0)),o=t.startPosition+a.animationTimingFunction(n)*(t.endPosition-t.startPosition);if(t.endPosition>t.startPosition&&o>=t.endPosition||t.endPosition<t.startPosition&&o<=t.endPosition||t.endPosition===t.startPosition){o=t.endPosition,M[e]=0;var r=T[e].callback,i=T[e].callbackArgs;delete T[e],"function"==typeof r&&r(i)}a[e]=o}function ve(){Ie()}function xe(){L||(L=!0,we())}function we(){if(function(){var e;if(l){a.yaw>180?a.yaw-=360:a.yaw<-180&&(a.yaw+=360),e=a.yaw;var t=0;if(a.avoidShowingBackground){var o=i.getCanvas(),r=a.hfov/2,s=180*Math.atan2(Math.tan(r/180*Math.PI),o.width/o.height)/Math.PI;a.vaov>a.haov?Math.min(Math.cos((a.pitch-r)/180*Math.PI),Math.cos((a.pitch+r)/180*Math.PI)):t=r*(1-Math.min(Math.cos((a.pitch-s)/180*Math.PI),Math.cos((a.pitch+s)/180*Math.PI)))}var c=a.maxYaw-a.minYaw,u=-180,p=180;c<360&&(u=a.minYaw+a.hfov/2+t,p=a.maxYaw-a.hfov/2-t,c<a.hfov&&(u=p=(u+p)/2),a.yaw=Math.max(u,Math.min(p,a.yaw))),!1!==a.autoRotate&&e!=a.yaw&&d!==n&&(a.autoRotate*=-1);o=i.getCanvas();var h=2*Math.atan(Math.tan(a.hfov/180*Math.PI*.5)/(o.width/o.height))/Math.PI*180,m=a.minPitch+h/2,f=a.maxPitch-h/2;a.maxPitch-a.minPitch<h&&(m=f=(m+f)/2),isNaN(m)&&(m=-90),isNaN(f)&&(f=90),a.pitch=Math.max(m,Math.min(f,a.pitch)),i.render(a.pitch*Math.PI/180,a.yaw*Math.PI/180,a.hfov*Math.PI/180,{roll:a.roll*Math.PI/180}),Me(),a.compass&&(G.style.transform="rotate("+(-a.yaw-a.northOffset)+"deg)",G.style.webkitTransform="rotate("+(-a.yaw-a.northOffset)+"deg)"),a.onRender&&a.onRender()}}(),u&&clearTimeout(u),f||!0===N)requestAnimationFrame(we);else if(E[0]||E[1]||E[2]||E[3]||E[4]||E[5]||E[6]||E[7]||E[8]||E[9]||a.autoRotate||T.pitch||T.yaw||T.hfov||Math.abs(M.yaw)>.01||Math.abs(M.pitch)>.01||Math.abs(M.hfov)>.01)(function(){if(l){var e,t=!1,o=a.pitch,r=a.yaw,i=a.hfov;e=typeof performance<"u"&&performance.now()?performance.now():Date.now(),d===n&&(d=e);var s=(e-d)*a.hfov/1700;if(s=Math.min(s,1),E[0]&&!0===a.keyboardZoom&&(Pe(a.hfov+(.8*M.hfov+.5)*s),t=!0),E[1]&&!0===a.keyboardZoom&&(Pe(a.hfov+(.8*M.hfov-.2)*s),t=!0),(E[2]||E[6])&&(a.pitch+=(.8*M.pitch+.2)*s,t=!0),(E[3]||E[7])&&(a.pitch+=(.8*M.pitch-.2)*s,t=!0),(E[4]||E[8])&&(a.yaw+=(.8*M.yaw-.2)*s,t=!0),(E[5]||E[9])&&(a.yaw+=(.8*M.yaw+.2)*s,t=!0),t&&(g=Date.now()),a.autoRotate){if(e-d>.001){var c=(e-d)/1e3,u=(M.yaw/c*s-.2*a.autoRotate)*c;u=(-a.autoRotate>0?1:-1)*Math.min(Math.abs(a.autoRotate*c),Math.abs(u)),a.yaw+=u}a.autoRotateStopDelay&&(a.autoRotateStopDelay-=e-d,a.autoRotateStopDelay<=0&&(a.autoRotateStopDelay=!1,I=a.autoRotate,a.autoRotate=0))}if(T.pitch&&(ge("pitch"),o=a.pitch),T.yaw&&(ge("yaw"),r=a.yaw),T.hfov&&(ge("hfov"),i=a.hfov),s>0&&!a.autoRotate){var p=.85;!E[4]&&!E[5]&&!E[8]&&!E[9]&&!T.yaw&&(a.yaw+=M.yaw*s*p),!E[2]&&!E[3]&&!E[6]&&!E[7]&&!T.pitch&&(a.pitch+=M.pitch*s*p),!E[0]&&!E[1]&&!T.hfov&&Pe(a.hfov+M.hfov*s*p)}if(d=e,s>0){M.yaw=.8*M.yaw+(a.yaw-r)/s*.2,M.pitch=.8*M.pitch+(a.pitch-o)/s*.2,M.hfov=.8*M.hfov+(a.hfov-i)/s*.2;var h=a.autoRotate?Math.abs(a.autoRotate):5;M.yaw=Math.min(h,Math.max(M.yaw,-h)),M.pitch=Math.min(h,Math.max(M.pitch,-h)),M.hfov=Math.min(h,Math.max(M.hfov,-h))}E[0]&&E[1]&&(M.hfov=0),(E[2]||E[6])&&(E[3]||E[7])&&(M.pitch=0),(E[4]||E[8])&&(E[5]||E[9])&&(M.yaw=0)}})(),a.autoRotateInactivityDelay>=0&&I&&Date.now()-g>a.autoRotateInactivityDelay&&!a.autoRotate&&(a.autoRotate=I,m.lookAt(h,n,p,3e3)),requestAnimationFrame(we);else if(i&&(i.isLoading()||!0===a.dynamic&&S))requestAnimationFrame(we);else{L=!1,d=n;var e=a.autoRotateInactivityDelay-(Date.now()-g);e>0?u=setTimeout(function(){a.autoRotate=I,m.lookAt(h,n,p,3e3),xe()},e):a.autoRotateInactivityDelay>=0&&I&&(a.autoRotate=I,m.lookAt(h,n,p,3e3),xe())}}function be(e,t,n,o){this.w=e,this.x=t,this.y=n,this.z=o}function ye(t,n,o){var r=function(e,t,n){var o=[t?t*Math.PI/180/2:0,n?n*Math.PI/180/2:0,e?e*Math.PI/180/2:0],r=[Math.cos(o[0]),Math.cos(o[1]),Math.cos(o[2])],a=[Math.sin(o[0]),Math.sin(o[1]),Math.sin(o[2])];return new be(r[0]*r[1]*r[2]-a[0]*a[1]*a[2],a[0]*r[1]*r[2]-r[0]*a[1]*a[2],r[0]*a[1]*r[2]+a[0]*r[1]*a[2],r[0]*r[1]*a[2]+a[0]*a[1]*r[2])}(t,n,o);r=r.multiply(new be(Math.sqrt(.5),-Math.sqrt(.5),0,0));var a=e.orientation?-e.orientation*Math.PI/180/2:0;return r.multiply(new be(Math.cos(a),0,-Math.sin(a),0))}function Ee(e){var t=ye(e.alpha,e.beta,e.gamma).toEulerAngles();"number"==typeof N&&N<10?N+=1:10===N?(j=t[2]/Math.PI*180+a.yaw,N=!0,requestAnimationFrame(we)):(a.pitch=t[0]/Math.PI*180,a.roll=-t[1]/Math.PI*180,a.yaw=-t[2]/Math.PI*180+j)}function Ce(){if(a.sceneFadeDuration&&i.fadeImg!==n){i.fadeImg.style.opacity=0;var e=i.fadeImg;delete i.fadeImg,setTimeout(function(){H.removeChild(e),Fe("scenechangefadedone")},a.sceneFadeDuration)}a.compass?G.style.display="inline":G.style.display="none",z||(a.hotSpots?(a.hotSpots=a.hotSpots.sort(function(e,t){return e.pitch<t.pitch}),a.hotSpots.forEach(ke)):a.hotSpots=[],z=!0,Me()),V.load.box.style.display="none",s!==n&&(H.removeChild(s),s=n),l=!0,Fe("load"),xe()}function ke(e){e.pitch=Number(e.pitch)||0,e.yaw=Number(e.yaw)||0;var n=t.createElement("div");n.className="pnlm-hotspot-base",e.cssClass?n.className+=" "+e.cssClass:n.className+=" pnlm-hotspot pnlm-sprite pnlm-"+He(e.type);var o,r=t.createElement("span");if(e.text&&(r.innerHTML=He(e.text)),e.video){var i=t.createElement("video"),s=e.video;a.basePath&&!X(s)&&(s=a.basePath+s),i.src=De(s),i.controls=!0,i.style.width=e.width+"px",H.appendChild(n),r.appendChild(i)}else if(e.image){s=e.image;a.basePath&&!X(s)&&(s=a.basePath+s),(o=t.createElement("a")).href=De(e.URL?e.URL:s),o.target="_blank",r.appendChild(o);var l=t.createElement("img");l.src=De(s),l.style.width=e.width+"px",l.style.paddingTop="5px",H.appendChild(n),o.appendChild(l),r.style.maxWidth="initial"}else e.URL?((o=t.createElement("a")).href=De(e.URL),o.target="_blank",H.appendChild(o),n.className+=" pnlm-pointer",r.className+=" pnlm-pointer",o.appendChild(n)):(e.sceneId&&(n.onclick=n.ontouchend=function(){return n.clicked||(n.clicked=!0,ze(e.sceneId,e.targetPitch,e.targetYaw,e.targetHfov)),!1},n.className+=" pnlm-pointer",r.className+=" pnlm-pointer"),H.appendChild(n));e.createTooltipFunc?e.createTooltipFunc(n,e.createTooltipArgs):(e.text||e.video||e.image)&&(n.classList.add("pnlm-tooltip"),n.appendChild(r),r.style.width=r.scrollWidth-20+"px",r.style.marginLeft=-(r.scrollWidth-n.offsetWidth)/2+"px",r.style.marginTop=-r.scrollHeight-12+"px"),e.clickHandlerFunc&&(n.addEventListener("click",function(t){e.clickHandlerFunc(t,e.clickHandlerArgs)},"false"),n.className+=" pnlm-pointer",r.className+=" pnlm-pointer"),e.div=n}function _e(e){var t=Math.sin(e.pitch*Math.PI/180),n=Math.cos(e.pitch*Math.PI/180),o=Math.sin(a.pitch*Math.PI/180),r=Math.cos(a.pitch*Math.PI/180),s=Math.cos((-e.yaw+a.yaw)*Math.PI/180),l=t*o+n*s*r;if(e.yaw<=90&&e.yaw>-90&&l<=0||(e.yaw>90||e.yaw<=-90)&&l<=0)e.div.style.visibility="hidden";else{var c=Math.sin((-e.yaw+a.yaw)*Math.PI/180),d=Math.tan(a.hfov*Math.PI/360);e.div.style.visibility="visible";var u=i.getCanvas(),p=u.clientWidth,h=u.clientHeight,m=[-p/d*c*n/l/2,-p/d*(t*r-n*s*o)/l/2],f=Math.sin(a.roll*Math.PI/180),g=Math.cos(a.roll*Math.PI/180);(m=[m[0]*g-m[1]*f,m[0]*f+m[1]*g])[0]+=(p-e.div.offsetWidth)/2,m[1]+=(h-e.div.offsetHeight)/2;var v="translate("+m[0]+"px, "+m[1]+"px) translateZ(9999px) rotate("+a.roll+"deg)";e.div.style.webkitTransform=v,e.div.style.MozTransform=v,e.div.style.transform=v}}function Me(){a.hotSpots.forEach(_e)}function Le(e){a={};var t,n,o=["haov","vaov","vOffset","northOffset","horizonPitch","horizonRoll"];for(t in R=[],A)A.hasOwnProperty(t)&&(a[t]=A[t]);for(t in r.default)if(r.default.hasOwnProperty(t))if("strings"==t)for(n in r.default.strings)r.default.strings.hasOwnProperty(n)&&(a.strings[n]=He(r.default.strings[n]));else a[t]=r.default[t],o.indexOf(t)>=0&&R.push(t);if(null!==e&&""!==e&&r.scenes&&r.scenes[e]){var i=r.scenes[e];for(t in i)if(i.hasOwnProperty(t))if("strings"==t)for(n in i.strings)i.strings.hasOwnProperty(n)&&(a.strings[n]=He(i.strings[n]));else a[t]=i[t],o.indexOf(t)>=0&&R.push(t);a.scene=e}for(t in r)if(r.hasOwnProperty(t))if("strings"==t)for(n in r.strings)r.strings.hasOwnProperty(n)&&(a.strings[n]=He(r.strings[n]));else a[t]=r[t],o.indexOf(t)>=0&&R.push(t)}function Ne(e){if((e=e||!1)&&"preview"in a){var o=a.preview;a.basePath&&!X(o)&&(o=a.basePath+o),(s=t.createElement("div")).className="pnlm-preview-img",s.style.backgroundImage="url('"+function(e){return De(e).replace(/"/g,"%22").replace(/'/g,"%27")}(o)+"')",H.appendChild(s)}var r=a.title,l=a.author;for(var c in e&&("previewTitle"in a&&(a.title=a.previewTitle),"previewAuthor"in a&&(a.author=a.previewAuthor)),a.hasOwnProperty("title")||(V.title.innerHTML=""),a.hasOwnProperty("author")||(V.author.innerHTML=""),!a.hasOwnProperty("title")&&!a.hasOwnProperty("author")&&(V.container.style.display="none"),B.load.innerHTML="<p>"+a.strings.loadButtonLabel+"</p>",V.load.boxp.innerHTML=a.strings.loadingLabel,a)if(a.hasOwnProperty(c))switch(c){case"title":V.title.innerHTML=He(a[c]),V.container.style.display="inline";break;case"author":V.author.innerHTML=a.strings.bylineLabel.replace("%s",He(a[c])),V.container.style.display="inline";break;case"fallback":var d=t.createElement("a");d.href=De(a[c]),d.target="_blank",d.textContent="Click here to view this panorama in an alternative viewer.";var u=t.createElement("p");u.textContent="Your browser does not support WebGL.",u.appendChild(t.createElement("br")),u.appendChild(d),V.errorMsg.innerHTML="",V.errorMsg.appendChild(u);break;case"hfov":Pe(Number(a[c]));break;case"autoLoad":!0===a[c]&&i===n&&(V.load.box.style.display="inline",B.load.style.display="none",Z());break;case"showZoomCtrl":a[c]&&0!=a.showControls?B.zoom.style.display="block":B.zoom.style.display="none";break;case"showFullscreenCtrl":a[c]&&0!=a.showControls&&("fullscreen"in t||"mozFullScreen"in t||"webkitIsFullScreen"in t||"msFullscreenElement"in t)?B.fullscreen.style.display="block":B.fullscreen.style.display="none";break;case"hotSpotDebug":a[c]?U.style.display="block":U.style.display="none";break;case"showControls":a[c]||(B.orientation.style.display="none",B.zoom.style.display="none",B.fullscreen.style.display="none");break;case"orientationOnByDefault":a[c]&&(W===n?Y=!0:!0===W&&Oe())}e&&(r?a.title=r:delete a.title,l?a.author=l:delete a.author)}function je(){if(l&&!k)if(C)t.exitFullscreen?t.exitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitCancelFullScreen?t.webkitCancelFullScreen():t.msExitFullscreen&&t.msExitFullscreen();else try{o.requestFullscreen?o.requestFullscreen():o.mozRequestFullScreen?o.mozRequestFullScreen():o.msRequestFullscreen?o.msRequestFullscreen():o.webkitRequestFullScreen()}catch{}}function Ie(){var n=e.innerWidth==screen.width&&e.innerHeight==screen.height;t.fullscreen||t.mozFullScreen||t.webkitIsFullScreen||t.msFullscreenElement||n?(B.fullscreen.classList.add("pnlm-fullscreen-toggle-button-active"),C=!0):(B.fullscreen.classList.remove("pnlm-fullscreen-toggle-button-active"),C=!1),i.resize(),Pe(a.hfov),xe()}function Te(e){var t=a.minHfov;if("multires"==a.type&&i&&(t=Math.min(t,i.getCanvas().width/(a.multiRes.cubeResolution/90*.9))),t>a.maxHfov)return console.log("HFOV bounds do not make sense (minHfov > maxHfov)."),a.hfov;var n=a.hfov;if(n=e<t?t:e>a.maxHfov?a.maxHfov:e,a.avoidShowingBackground&&i){var o=i.getCanvas();n=Math.min(n,360*Math.atan(Math.tan((a.maxPitch-a.minPitch)/360*Math.PI)/o.height*o.width)/Math.PI)}return n}function Pe(e){a.hfov=Te(e)}function Re(){T={},I=a.autoRotate?a.autoRotate:I,a.autoRotate=!1}function Se(){k&&(V.load.box.style.display="none",V.errorMsg.style.display="none",k=!1,Fe("errorcleared")),l=!1,B.load.style.display="none",V.load.box.style.display="inline",Z()}function ze(e,t,o,s,c){var d,u,p,h;if(l=!1,T={},a.sceneFadeDuration&&!c){var m=i.render(a.pitch*Math.PI/180,a.yaw*Math.PI/180,a.hfov*Math.PI/180,{returnImage:!0});if(m!==n)return(d=new Image).className="pnlm-fade-img",d.style.transition="opacity "+a.sceneFadeDuration/1e3+"s",d.style.width="100%",d.style.height="100%",d.onload=function(){ze(e,t,o,s,!0)},d.src=m,H.appendChild(d),void(i.fadeImg=d)}u="same"===t?a.pitch:t,p="same"===o?a.yaw:"sameAzimuth"===o?a.yaw+(a.northOffset||0)-(r.scenes[e].northOffset||0):o,h="same"===s?a.hfov:s,function(){var e=a.hotSpots;if(z=!1,delete a.hotSpots,e)for(var t=0;t<e.length;t++){for(var n=e[t].div;n.parentNode!=H;)n=n.parentNode;H.removeChild(n),delete e[t].div}}(),Le(e),M.yaw=M.pitch=M.hfov=0,Ne(),u!==n&&(a.pitch=u),p!==n&&(a.yaw=p),h!==n&&(a.hfov=h),Fe("scenechange",e),Se()}function Ae(){e.removeEventListener("deviceorientation",Ee),B.orientation.classList.remove("pnlm-orientation-button-active"),N=!1}function Oe(){N=1,e.addEventListener("deviceorientation",Ee),B.orientation.classList.add("pnlm-orientation-button-active")}function He(e){return r.escapeHTML?String(e).split(/&/g).join("&amp;").split('"').join("&quot;").split("'").join("&#39;").split("<").join("&lt;").split(">").join("&gt;").split("/").join("&#x2f;").split("\n").join("<br>"):String(e).split("\n").join("<br>")}function De(e){return 0===e.trim().toLowerCase().indexOf("javascript:")?"about:blank":e}function Fe(e){if(e in P)for(var t=P[e].length;t>0;t--)P[e][P[e].length-t].apply(null,[].slice.call(arguments,1))}be.prototype.multiply=function(e){return new be(this.w*e.w-this.x*e.x-this.y*e.y-this.z*e.z,this.x*e.w+this.w*e.x+this.y*e.z-this.z*e.y,this.y*e.w+this.w*e.y+this.z*e.x-this.x*e.z,this.z*e.w+this.w*e.z+this.x*e.y-this.y*e.x)},be.prototype.toEulerAngles=function(){return[Math.atan2(2*(this.w*this.x+this.y*this.z),1-2*(this.x*this.x+this.y*this.y)),Math.asin(2*(this.w*this.y-this.z*this.x)),Math.atan2(2*(this.w*this.z+this.x*this.y),1-2*(this.y*this.y+this.z*this.z))]},this.isLoaded=function(){return!!l},this.getPitch=function(){return a.pitch},this.setPitch=function(e,t,o,r){return(t=t==n?1e3:Number(t))?T.pitch={startTime:Date.now(),startPosition:a.pitch,endPosition:e,duration:t,callback:o,callbackArgs:r}:a.pitch=e,xe(),this},this.getPitchBounds=function(){return[a.minPitch,a.maxPitch]},this.setPitchBounds=function(e){return a.minPitch=Math.max(-90,Math.min(e[0],90)),a.maxPitch=Math.max(-90,Math.min(e[1],90)),this},this.getYaw=function(){return a.yaw},this.setYaw=function(e,t,o,r){return e=(e+180)%360-180,(t=t==n?1e3:Number(t))?(a.yaw-e>180?e+=360:e-a.yaw>180&&(e-=360),T.yaw={startTime:Date.now(),startPosition:a.yaw,endPosition:e,duration:t,callback:o,callbackArgs:r}):a.yaw=e,xe(),this},this.getYawBounds=function(){return[a.minYaw,a.maxYaw]},this.setYawBounds=function(e){return a.minYaw=Math.max(-180,Math.min(e[0],180)),a.maxYaw=Math.max(-180,Math.min(e[1],180)),this},this.getHfov=function(){return a.hfov},this.setHfov=function(e,t,o,r){return(t=t==n?1e3:Number(t))?T.hfov={startTime:Date.now(),startPosition:a.hfov,endPosition:Te(e),duration:t,callback:o,callbackArgs:r}:Pe(e),xe(),this},this.getHfovBounds=function(){return[a.minHfov,a.maxHfov]},this.setHfovBounds=function(e){return a.minHfov=Math.max(0,e[0]),a.maxHfov=Math.max(0,e[1]),this},this.lookAt=function(e,t,o,r,a,i){return r=r==n?1e3:Number(r),e!==n&&(this.setPitch(e,r,a,i),a=n),t!==n&&(this.setYaw(t,r,a,i),a=n),o!==n&&this.setHfov(o,r,a,i),this},this.getNorthOffset=function(){return a.northOffset},this.setNorthOffset=function(e){return a.northOffset=Math.min(360,Math.max(0,e)),xe(),this},this.getHorizonRoll=function(){return a.horizonRoll},this.setHorizonRoll=function(e){return a.horizonRoll=Math.min(90,Math.max(-90,e)),i.setPose(a.horizonPitch*Math.PI/180,a.horizonRoll*Math.PI/180),xe(),this},this.getHorizonPitch=function(){return a.horizonPitch},this.setHorizonPitch=function(e){return a.horizonPitch=Math.min(90,Math.max(-90,e)),i.setPose(a.horizonPitch*Math.PI/180,a.horizonRoll*Math.PI/180),xe(),this},this.startAutoRotate=function(e){return e=e||I||1,a.autoRotate=e,m.lookAt(h,n,p,3e3),xe(),this},this.stopAutoRotate=function(){return I=a.autoRotate?a.autoRotate:I,a.autoRotate=!1,a.autoRotateInactivityDelay=-1,this},this.getRenderer=function(){return i},this.setUpdate=function(e){return S=!0===e,i===n?q():xe(),this},this.mouseEventToCoords=function(e){return ee(e)},this.loadScene=function(e,t,n,o){return!1!==l&&ze(e,t,n,o),this},this.getScene=function(){return a.scene},this.addScene=function(e,t){return r.scenes[e]=t,this},this.removeScene=function(e){return!(a.scene===e||!r.scenes.hasOwnProperty(e))&&(delete r.scenes[e],!0)},this.toggleFullscreen=function(){return je(),this},this.getConfig=function(){return a},this.getContainer=function(){return o},this.addHotSpot=function(e,t){if(t===n&&a.scene===n)a.hotSpots.push(e);else{var o=t!==n?t:a.scene;if(!r.scenes.hasOwnProperty(o))throw"Invalid scene ID!";r.scenes[o].hasOwnProperty("hotSpots")||(r.scenes[o].hotSpots=[],o==a.scene&&(a.hotSpots=r.scenes[o].hotSpots)),r.scenes[o].hotSpots.push(e)}return(t===n||a.scene==t)&&(ke(e),l&&_e(e)),this},this.removeHotSpot=function(e,t){if(t===n||a.scene==t){if(!a.hotSpots)return!1;for(var o=0;o<a.hotSpots.length;o++)if(a.hotSpots[o].hasOwnProperty("id")&&a.hotSpots[o].id===e){for(var i=a.hotSpots[o].div;i.parentNode!=H;)i=i.parentNode;return H.removeChild(i),delete a.hotSpots[o].div,a.hotSpots.splice(o,1),!0}}else{if(!r.scenes.hasOwnProperty(t))return!1;if(!r.scenes[t].hasOwnProperty("hotSpots"))return!1;for(o=0;o<r.scenes[t].hotSpots.length;o++)if(r.scenes[t].hotSpots[o].hasOwnProperty("id")&&r.scenes[t].hotSpots[o].id===e)return r.scenes[t].hotSpots.splice(o,1),!0}},this.resize=function(){i&&ve()},this.isLoaded=function(){return l},this.isOrientationSupported=function(){return W||!1},this.stopOrientation=function(){Ae()},this.startOrientation=function(){W&&Oe()},this.isOrientationActive=function(){return!!N},this.on=function(e,t){return P[e]=P[e]||[],P[e].push(t),this},this.off=function(e,t){if(!e)return P={},this;if(t){var n=P[e].indexOf(t);n>=0&&P[e].splice(n,1),0==P[e].length&&delete P[e]}else delete P[e];return this},this.destroy=function(){i&&i.destroy(),_&&(D.removeEventListener("mousedown",J,!1),D.removeEventListener("dblclick",Q,!1),t.removeEventListener("mousemove",te,!1),t.removeEventListener("mouseup",ne,!1),o.removeEventListener("mousewheel",ue,!1),o.removeEventListener("DOMMouseScroll",ue,!1),o.removeEventListener("mozfullscreenchange",Ie,!1),o.removeEventListener("webkitfullscreenchange",Ie,!1),o.removeEventListener("msfullscreenchange",Ie,!1),o.removeEventListener("fullscreenchange",Ie,!1),e.removeEventListener("resize",ve,!1),e.removeEventListener("orientationchange",ve,!1),o.removeEventListener("keydown",pe,!1),o.removeEventListener("keyup",me,!1),o.removeEventListener("blur",he,!1),t.removeEventListener("mouseleave",ne,!1),D.removeEventListener("touchstart",oe,!1),D.removeEventListener("touchmove",re,!1),D.removeEventListener("touchend",ae,!1),D.removeEventListener("pointerdown",le,!1),D.removeEventListener("pointermove",ce,!1),D.removeEventListener("pointerup",de,!1),D.removeEventListener("pointerleave",de,!1)),o.innerHTML="",o.classList.remove("pnlm-container"),O.classList.remove("pnlm-grab"),O.classList.remove("pnlm-grabbing")}}return{viewer:function(e,t){return new o(e,t)}}}(window,document),window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)});var Pe=(Te=Ie=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.renderImage=function(e){var t=o.props.children,n=[].concat(t),r=[];Array.isArray(n)&&n.map(function(e){switch(e.props.type){case"info":return r.push({id:Math.random().toString(36).substr(2,9),type:e.props.type,pitch:e.props.pitch?e.props.pitch:10,yaw:e.props.yaw?e.props.yaw:10,text:e.props.text?e.props.text:"",URL:e.props.URL?e.props.URL:""});case"custom":return r.push({id:Math.random().toString(36).substr(2,9),pitch:e.props.pitch?e.props.pitch:10,yaw:e.props.yaw?e.props.yaw:10,cssClass:e.props.cssClass?e.props.cssClass:"tooltipcss",createTooltipFunc:e.props.tooltip?e.props.tooltip:o.hotspotTooltip,createTooltipArgs:e.props.tooltipArg?e.props.tooltipArg:{},clickHandlerFunc:e.props.handleClick?e.props.handleClick:o.handleClickHotspot,clickHandlerArgs:e.props.handleClickArg?e.props.handleClickArg:{name:"test"}});default:return[]}});var a={type:"equirectangular",panorama:o.props.image,haov:o.props.haov,vaov:o.props.vaov,vOffset:o.props.vOffset,yaw:o.props.yaw,pitch:o.props.pitch,hfov:o.props.hfov,minHfov:o.props.minHfov,maxHfov:o.props.maxHfov,minPitch:o.props.minPitch,maxPitch:o.props.maxPitch,minYaw:o.props.minYaw,maxYaw:o.props.maxYaw,autoRotate:o.props.autoRotate,compass:o.props.compass,preview:o.props.preview,previewTitle:o.props.previewTitle,previewAuthor:o.props.previewAuthor,author:o.props.author,title:o.props.title,autoLoad:o.props.autoLoad,orientationOnByDefault:o.props.orientationOnByDefault,showZoomCtrl:o.props.showZoomCtrl,keyboardZoom:o.props.keyboardZoom,mouseZoom:o.props.mouseZoom,draggable:o.props.draggable,disableKeyboardCtrl:o.props.disableKeyboardCtrl,showFullscreenCtrl:o.props.showFullscreenCtrl,showControls:o.props.showControls,hotSpotDebug:o.props.hotspotDebug,hotSpots:r,onRender:o.props.onRender};Object.keys(a).forEach(function(e){return""===a[e]&&delete a[e]}),"update"===e&&o.panorama.destroy(),o.panorama=pannellum.viewer(o.props.id?o.props.id:o.state.id,a),o.panorama.on("load",o.props.onLoad),o.panorama.on("scenechange",o.props.onScenechange),o.panorama.on("scenechangefadedone",o.props.onScenechangefadedone),o.panorama.on("error",o.props.onError),o.panorama.on("errorcleared",o.props.onErrorcleared),o.panorama.on("mousedown",o.props.onMousedown),o.panorama.on("mouseup",o.props.onMouseup),o.panorama.on("touchstart",o.props.onTouchstart),o.panorama.on("touchend",o.props.onTouchend)},o.componentDidMount=function(){o.renderImage("mount")},o.handleClickHotspot=function(e,t){console.log("hotspot clicked",t.name)},o.hotspotTooltip=function(e,t){e.setAttribute("id","textInfo");var n=document.createElement("div");n.classList.add("hotspot");var o=document.createElement("div");o.classList.add("out");var r=document.createElement("div");r.classList.add("in"),document.createElement("div").classList.add("image"),e.appendChild(n),n.appendChild(r),n.appendChild(o)},o.getViewer=function(){return o.panorama},o.forceRender=function(){o.renderImage("update")},o.state={id:Math.random().toString(36).substr(2,9)},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e,t,n){(e.image!==this.props.image||e.width!==this.props.width||e.height!==this.props.height||e.compass!==this.props.compass||e.title!==this.props.title||e.author!==this.props.author||e.preview!==this.props.preview||e.previewTitle!==this.props.previewTitle||e.previewAuthor!==this.props.previewAuthor||e.showZoomCtrl!==this.props.showZoomCtrl||e.showFullscreenCtrl!==this.props.showFullscreenCtrl||e.showControls!==this.props.showControls||e.children.length!==this.props.children.length)&&this.renderImage("update"),(e.maxYaw!==this.props.maxYaw||e.minYaw!==this.props.minYaw||e.maxPitch!==this.props.maxPitch||e.minPitch!==this.props.minPitch||e.maxHfov!==this.props.maxHfov||e.minHfov!==this.props.minHfov)&&(this.panorama.setYawBounds([this.props.minYaw,this.props.maxYaw]),this.panorama.setPitchBounds([this.props.minPitch,this.props.maxPitch]),this.panorama.setHfovBounds([this.props.minHfov,this.props.maxHfov])),e.yaw!==this.props.yaw&&this.panorama.setYaw(this.props.yaw),e.pitch!==this.props.pitch&&this.panorama.setPitch(this.props.pitch),e.hfov!==this.props.hfov&&this.panorama.setHfov(this.props.hfov)},t.prototype.render=function(){var e=this,t=this.props,n={width:t.width,height:t.height};return r.createElement("div",{id:this.props.id?this.props.id:this.state.id,style:n,ref:function(t){return e.imageNode=t}})},t}(r.PureComponent),Ie.defaultProps={children:[],width:"100%",height:"400px",image:"",haov:360,vaov:180,vOffset:0,yaw:0,pitch:0,hfov:100,minHfov:50,maxHfov:150,minPitch:-90,maxPitch:90,minYaw:-180,maxYaw:180,autoRotate:0,compass:!1,preview:"",previewTitle:"",previewAuthor:"",title:"",author:"",autoLoad:!1,orientationOnByDefault:!1,showZoomCtrl:!0,keyboardZoom:!0,mouseZoom:!0,draggable:!0,disableKeyboardCtrl:!1,showFullscreenCtrl:!0,showControls:!0,onLoad:function(){},onScenechange:function(){},onScenechangefadedone:function(){},onError:function(){},onErrorcleared:function(){},onMousedown:function(){},onMouseup:function(){},onTouchstart:function(){},onTouchend:function(){},hotspotDebug:!1,onRender:null},Te);Pe.propTypes={},Pe.Hotspot=function(){},Pe.Hotspot=function(){};const Re=100,Se=e=>{const[t,n]=r.useState(0),[o,a]=r.useState(!1);return r.useEffect(()=>{const t=XMLHttpRequest.prototype.open,o=XMLHttpRequest.prototype.send;let r=!1;return XMLHttpRequest.prototype.open=function(n,o,i=!0,s,l){return o.toString().includes(e)&&(r=!0,a(!0)),t.call(this,n,o,i,s||null,l||null)},XMLHttpRequest.prototype.send=function(e){return r&&(this.addEventListener("progress",e=>{if(e.lengthComputable){const t=Math.round(e.loaded/e.total*100);n(t)}}),this.addEventListener("loadend",()=>{r=!1,n(100),a(!1)})),o.call(this,e)},()=>{XMLHttpRequest.prototype.open=t,XMLHttpRequest.prototype.send=o}},[e]),[t,o]};const ze=({className:e})=>o.jsx(te,{className:e,customizationKey:"UI_INTERIOR_360_PLAY",children:o.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("polygon",{points:"6 3 20 12 6 21 6 3"})})}),Ae=({itemIndex:e,isPannellumLoaded:t,isLoading:n,progress:a,autoloadInterior360:i,loadScene:s})=>{const{emitAnalyticsEvent:l}=N(),{displayedCategoryId:c,displayedCategoryName:d}=G(),u=r.useCallback(t=>{l({type:"track",category_id:c,category_name:d,item_type:"interior-360",item_position:e,action_properties:{action_name:"Interior 360 Play",action_field:"interior_360_play",action_value:t}})},[l,c,d,e]),p=r.useCallback(()=>{s(),u("click")},[s,u]);return r.useEffect(()=>{i&&(s(),u("auto"))},[i,s,u]),t?null:o.jsx("div",{className:"pointer-events-auto absolute inset-0 flex flex-col items-center justify-center gap-y-4",children:o.jsxs("div",{className:"pointer-events-auto absolute inset-0 flex flex-col items-center justify-center gap-y-4 bg-foreground/35",children:[o.jsx(he,{className:"size-20"}),o.jsx(ae,{color:"neutral",shape:"icon",onClick:p,children:o.jsx(ze,{className:"size-full"})}),o.jsx("div",{className:J("relative h-1 w-3/5 overflow-hidden rounded-full bg-background",!n&&"invisible"),children:o.jsx("div",{className:"h-full bg-primary transition-[width]",style:{width:`${a}%`}})})]})})},Oe=e=>{const{itemIndex:t,src:n,poster:a,onLoaded:i,onError:s}=e,{autoLoadInterior360:l}=N(),{isShowingDetails:c,setItemInteraction:d,zoom:u,isZooming:p,setZoom:h}=G(),[m,f]=Se(n),g=r.useRef(null),v=r.useRef(null),[x,w]=r.useState(!1),b=r.useCallback(()=>{void 0!==t&&d(t,"ready"),i?.(),w(!0)},[t,d,i]),y=r.useCallback(e=>{e instanceof MouseEvent&&0!==e.button||(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())},[]),E=r.useCallback(()=>{const e=g.current?.getViewer();e&&e.loadScene()},[]);return r.useEffect(()=>{if(g.current&&x&&v.current){const e=g.current.getViewer(),t=v.current;if(e){const n=t=>{t.preventDefault();const n=H(e.getHfov(),50,Re,S,R),o="zoom-in"==(t.deltaY<0?"zoom-in":"zoom-out")?Math.min(n+R,S):Math.max(n-R,1);h(o)},o=function(e,t=50,n=200){let o=null,r=0;return(...a)=>{const i=Date.now();o&&(clearTimeout(o),o=null),i-r>=t&&(e(...a),r=i),o=setTimeout(()=>{e(...a)},n)}}(n,100,150),r=t=>{t.preventDefault();const n=H(e.getHfov(),50,Re,S,R,!0);h(n)};t.addEventListener("wheel",o),t.addEventListener("dblclick",r);const a=100-Math.abs(1-Math.abs(u))*50;return e.setHfov(a),()=>{t.removeEventListener("wheel",n),t.removeEventListener("dblclick",r)}}}},[u,x,p,h]),o.jsx(o.Fragment,{children:o.jsx("div",{className:J("relative aspect-[4/3] w-full overflow-hidden bg-transparent"),children:o.jsxs("div",{className:J("size-full",c?"scale-105":"scale-100"),children:[o.jsxs("div",{ref:v,children:[o.jsx("style",{children:"\n                .pnlm-load-button {\n                  display: none !important;\n                }\n                .pnlm-load-box {\n                  display: none !important;\n                }\n                .pnlm-container {\n                  background-image: none !important;\n                }\n                .pnlm-about-msg {\n                  width: 0;\n                  height: 0;\n                  padding: 0;\n                  visibility: hidden;\n                }\n\n                .pnlm-about-msg a {\n                  display: none;\n                  visibility: hidden;\n                }\n              "}),v.current&&o.jsx(Pe,{ref:g,id:v.current,panorama:n,preview:a,width:"0",height:"0",image:n,pitch:0,yaw:0,hfov:100,maxHfov:Re,minHfov:50,compass:!1,showControls:!1,keyboardZoom:!1,onLoad:b,onError:s,onMousedown:y,onTouchstart:y,onTouchend:y,onMouseup:y,autoLoad:!1})]}),o.jsx(Ae,{isPannellumLoaded:x,isLoading:f,progress:m,autoloadInterior360:l,loadScene:E,itemIndex:t})]})})})},He=e=>{const{itemIndex:t}=e,{setItemInteraction:n}=G(),[a,i]=r.useState();return r.useEffect(()=>{null===a||"error"===a||n(t,"spin"===a?"running":"ready")},[t,n,a]),"error"===a?o.jsx(se,{className:"text-background",text:"Interior Spin could not be loaded"}):o.jsx(Oe,{...e,onLoaded:()=>i("spin"),onError:()=>i("error")})},De=({className:e})=>o.jsx(te,{className:e,customizationKey:"UI_360_PLAY",children:o.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("polygon",{points:"6 3 20 12 6 21 6 3"})})}),Fe=({images:e,onlyPreload:t})=>{const{demoSpin:n,reverse360:a}=N(),{isShowingDetails:i,isZooming:s}=G(),l=s||i,c=r.useRef(null),d=r.useRef(null),u=r.useRef(0),p=r.useRef(null),h=r.useRef(null),m=r.useRef(null),f=r.useRef(null),g=r.useRef(0),v=r.useRef({timestamps:new Float64Array(10),values:new Float64Array(10),index:0,count:0}),x=r.useRef(n),w=r.useRef(null),b=r.useCallback(()=>{w.current&&(clearTimeout(w.current),w.current=null)},[]),y=r.useRef(null),E=()=>{y.current&&(cancelAnimationFrame(y.current),y.current=null)},[C,k]=r.useState(0);r.useEffect(()=>{u.current=C},[C]);const _=e.length,M=r.useCallback(t=>{if(u.current===t)return;const n=p.current;n&&(n.src=e[t].src),u.current=t},[e]),L=r.useCallback(()=>{const e=(u.current+1)%_;M(e)},[_,M]),j=r.useCallback(()=>{const e=(u.current-1+_)%_;M(e)},[_,M]),I=r.useCallback(()=>{k(u.current)},[]);return r.useEffect(()=>{if(l)return void b();const e=c.current,t=d.current;if(!e||!t)return;x.current&&(x.current=!1,w.current=setTimeout(()=>{const e=Date.now(),t=()=>{y.current=requestAnimationFrame(()=>{const n=(Date.now()-e)/1250,o=Math.round((a=n)*(2-a)*_),r=A(o%_,0,_-1);var a;k(r),!(o>=_)&&t()})};t()},750));const n=360/_;let o=null;const r=v.current,i=()=>{r.index=0,r.count=0},s=(e,t)=>{const n=r.index;r.timestamps[n]=e,r.values[n]=t,r.index=(n+1)%10,r.count<10&&r.count++},u=()=>{const e=(()=>{const e=Date.now(),{timestamps:t,values:n,index:o,count:a}=r;if(a<2)return 0;let i=-1,s=-1;for(let r=0;r<a;r++){const n=(o-1-r+10)%10;e-t[n]<50&&(-1===s&&(s=n),i=n)}if(-1===i||-1===s||i===s)return 0;const l=t[s]-t[i];return l<=0?0:(n[s]-n[i])/(l/1e3)})(),t=Date.now();let o=0,i=t,s=t;const l=()=>{y.current=requestAnimationFrame(()=>{const r=Date.now(),c=(r-t)/1e3,d=Math.pow(.05,c),u=e*d;if(o+=u*((r-i)/1e3),Math.abs(u)<5*n&&Math.abs(o)<n)return y.current=null,void I();const p=r-s;Math.abs(o)>=n&&p>=16&&(o>0!==a?L():j(),o=0,s=r),i=r,l()})};l()},p=()=>{b(),E()},C=e=>{if(0!==e.button)return;e.preventDefault(),e.stopPropagation(),p();const t=e.clientX;o=t,i(),s(Date.now(),t)},M=e=>{if(null===o)return;e.stopPropagation();const{clientX:t}=e;s(Date.now(),t);const r=t-o;Math.abs(r)<n||(r>0!==a?L():j(),o=t)},N=()=>{null!==o&&(o=null,u())};e.addEventListener("mousedown",C),document.addEventListener("mousemove",M),document.addEventListener("mouseleave",N),document.addEventListener("mouseup",N),document.addEventListener("contextmenu",N);const T=480/_,P=()=>t.scrollWidth/2-t.getBoundingClientRect().width/2,R=()=>{const e=P();t.scrollLeft=e};R();const S=()=>{const e=t.scrollLeft-P();Math.abs(e)<T||(e<0!==a?L():j(),R())};t.addEventListener("scroll",S);let z=null;const O=()=>{h.current=null;const e=performance.now();if(e-g.current<16)return void(h.current=requestAnimationFrame(O));g.current=e;const t=m.current,r=f.current;if(null===t||null===r)return;const i=t-r;Math.abs(i)<n||(i>0!==a?L():j(),f.current=t,o=t)},H=e=>{if(null!==z||1!==e.changedTouches.length)return;p(),null!==h.current&&(cancelAnimationFrame(h.current),h.current=null);const t=e.changedTouches[0];z=t.identifier;const n=t.clientX;o=n,f.current=n,m.current=n,i(),s(Date.now(),n)},D=e=>{if(null===o)return;let t=null;for(let o=0;o<e.changedTouches.length;o++)if(e.changedTouches[o].identifier===z){t=e.changedTouches[o];break}if(!t)return;e.preventDefault();const n=t.clientX;s(Date.now(),n),m.current=n,null===h.current&&(h.current=requestAnimationFrame(O))},F=e=>{if(null===o)return;let t=!1;for(let n=0;n<e.changedTouches.length;n++)if(e.changedTouches[n].identifier===z){t=!0;break}t&&(null!==h.current&&(cancelAnimationFrame(h.current),h.current=null),z=null,o=null,f.current=null,m.current=null,u())};return t.addEventListener("touchstart",H,{passive:!1}),t.addEventListener("touchmove",D,{passive:!1}),t.addEventListener("touchend",F),t.addEventListener("touchcancel",F),()=>{E(),null!==h.current&&(cancelAnimationFrame(h.current),h.current=null),e.removeEventListener("mousedown",C),document.removeEventListener("mousemove",M),document.removeEventListener("mouseleave",N),document.removeEventListener("mouseup",N),document.removeEventListener("contextmenu",N),t.removeEventListener("scroll",S),t.removeEventListener("touchstart",H),t.removeEventListener("touchmove",D),t.removeEventListener("touchend",F),t.removeEventListener("touchcancel",F)}},[b,L,j,I,l,a,_]),o.jsx("div",{ref:c,className:"cursor-ew-resize",children:o.jsxs("div",{ref:d,className:" overflow-x-scroll",children:[o.jsx("div",{className:"sticky left-0 top-0",children:o.jsx("img",{ref:p,src:e[C].src,className:"pointer-events-none size-full object-cover",alt:""})}),o.jsx("div",{className:"pointer-events-none -mt-px h-px w-[calc(100%+1024px)]"})]})})},Ve=({itemIndex:e,images:t,onPlaceholderImageLoaded:n,onSpinImagesLoaded:a,onError:i})=>{const{autoLoad360:s,emitAnalyticsEvent:l}=N(),{displayedCategoryId:c,displayedCategoryName:d}=G(),u=r.useMemo(()=>t.map(({src:e})=>e),[t]),[p,h]=r.useState(null),m=p?[...p.values()].filter(e=>e).length/t.length*100:null,f=r.useCallback(t=>{null===m&&(h(new Map(u.map(e=>[e,!1]))),l({type:"track",category_id:c,category_name:d,item_type:"next360",item_position:e,action_properties:{action_name:"Next 360 Play",action_field:"next360_play",action_value:t}}))},[m,u,l,c,d,e]),g=r.useCallback(()=>{f("click")},[f]),v=r.useCallback(e=>{h(t=>{const n=new Map(t);return n.set(e,!0),n})},[]);return r.useEffect(()=>{s&&f("auto")},[s,f]),r.useEffect(()=>{100===m&&a()},[m,a]),o.jsxs("div",{className:"relative aspect-[4/3] w-full",children:[null!==m&&100!==m&&o.jsx("div",{className:"hidden",children:u.map(e=>o.jsx(ue,{src:e,onLoad:()=>v(e),onError:i},e))}),o.jsx(ue,{className:"size-full",src:u[0],onLoad:n}),o.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-y-4 bg-foreground/35",children:[o.jsx(fe,{className:"size-20"}),o.jsx(ae,{color:"neutral",shape:"icon",onClick:g,children:o.jsx(De,{className:"size-full"})}),o.jsx("div",{className:J("relative h-1 w-3/5 overflow-hidden rounded-full bg-background",null===m&&"invisible"),children:o.jsx("div",{className:"h-full bg-primary transition-[width]",style:{width:`${m??0}%`}})})]})]})},Ue=e=>{const{itemIndex:t}=e,{setItemInteraction:n}=G(),[a,i]=r.useState(null);return r.useEffect(()=>{null===a||"error"===a||n(t,"spin"===a?"running":"ready")},[t,n,a]),"error"===a?o.jsx(se,{className:"text-background",text:"Spin could not be loaded"}):"spin"!==a?o.jsx(Ve,{...e,onPlaceholderImageLoaded:()=>i(e=>null===e?"placeholder":e),onSpinImagesLoaded:()=>i("spin"),onError:()=>i("error")}):o.jsx(Fe,{...e})},Be=({images:e,onlyPreload:t})=>{const{demoSpin:n,reverse360:a}=N(),{isShowingDetails:i,isZooming:s}=G(),l=s||i,c=r.useRef(null),d=r.useRef(null),u=r.useRef(n),p=r.useRef(null),h=r.useCallback(()=>{p.current&&(clearTimeout(p.current),p.current=null)},[]),m=r.useRef(null),[f,g]=r.useState(0),v=e.length,x=r.useCallback(()=>{g(e=>(e-1+v)%v)},[v]),w=r.useCallback(()=>{g(e=>(e+1)%v)},[v]);return r.useEffect(()=>{if(l)return void h();const e=c.current,t=d.current;if(!e||!t)return;u.current&&(u.current=!1,p.current=setTimeout(()=>{const e=Date.now(),t=()=>{m.current=requestAnimationFrame(()=>{const n=(Date.now()-e)/1250,o=Math.round((a=n)*(2-a)*v),r=A(o%v,0,v-1);var a;g(r),!(o>=v)&&t()})};t()},750));const n=360/v;let o=null,r=[];const i=e=>{r.push(e),r.length>20&&r.shift()},s=()=>{const e=(()=>{const e=Date.now(),t=r.filter(t=>e-t.timestamp<50);if(t.length<2)return 0;const n=t[0],o=t[t.length-1];return(o.value-n.value)/(.001*Math.max(o.timestamp-n.timestamp,1))})(),t=Date.now();let o=0,i=t;const s=()=>{m.current=requestAnimationFrame(()=>{const r=Date.now(),l=(r-t)/1e3,c=Math.pow(.05,l),d=e*c;o+=d*((r-i)/1e3),Math.abs(d)<5*n&&Math.abs(o)<n?m.current=null:(Math.abs(o)>=n&&(o>0!==a?w():x(),o=0),i=r,s())})};s()},f=()=>{h(),m.current&&(cancelAnimationFrame(m.current),m.current=null)},b=e=>{if(0!==e.button)return;e.preventDefault(),e.stopPropagation(),f();const t=e.clientX;o=t,r=[{timestamp:Date.now(),value:t}]},y=e=>{if(null===o)return;e.stopPropagation();const{clientX:t}=e;i({timestamp:Date.now(),value:t});const r=t-o;Math.abs(r)<n||(r>0!==a?w():x(),o=t)},E=()=>{null!==o&&(o=null,s())};e.addEventListener("mousedown",b),document.addEventListener("mousemove",y),document.addEventListener("mouseleave",E),document.addEventListener("mouseup",E),document.addEventListener("contextmenu",E);const C=480/v,k=()=>t.scrollWidth/2-t.getBoundingClientRect().width/2,_=()=>{const e=k();t.scrollLeft=e};_();const M=()=>{const e=t.scrollLeft-k();Math.abs(e)<C||(e<0!==a?w():x(),_())};t.addEventListener("scroll",M);let L=null;const N=e=>{if(null!==L||1!==e.changedTouches.length)return;f();const{identifier:t,clientX:n}=e.changedTouches[0];L=t,o=n,r=[{timestamp:Date.now(),value:n}]},j=e=>{if(!o)return;const t=Array.from(e.changedTouches).find(({identifier:e})=>e===L);if(!t)return;e.preventDefault();const{clientX:r}=t;i({timestamp:Date.now(),value:r});const s=r-o;Math.abs(s)<n||(s>0!==a?w():x(),o=r)},I=e=>{!o||!Array.from(e.changedTouches).some(({identifier:e})=>e===L)||(L=null,o=null,s())};return t.addEventListener("touchstart",N),t.addEventListener("touchmove",j),t.addEventListener("touchend",I),t.addEventListener("touchcancel",I),()=>{e.removeEventListener("mousedown",b),document.removeEventListener("mousemove",y),document.removeEventListener("mouseleave",E),document.removeEventListener("mouseup",E),document.removeEventListener("contextmenu",E),t.removeEventListener("scroll",M),t.removeEventListener("touchstart",N),t.removeEventListener("touchmove",j),t.removeEventListener("touchend",I),t.removeEventListener("touchcancel",I)}},[h,w,x,l,a,v]),o.jsx("div",{ref:c,className:"cursor-ew-resize",children:o.jsxs("div",{ref:d,className:"overflow-x-scroll",children:[o.jsxs("div",{className:"sticky left-0 top-0",children:[e.map(e=>o.jsx(ue,{src:e.src,className:"pointer-events-none !absolute left-0 top-0 -z-10"},e.src)),o.jsx(je,{...e[f],onlyPreload:t,itemIndex:-1})]}),o.jsx("div",{className:"pointer-events-none -mt-px h-px w-[calc(100%+1024px)]"})]})})},We=({itemIndex:e,images:t,onPlaceholderImageLoaded:n,onSpinImagesLoaded:a,onError:i})=>{const{autoLoad360:s,emitAnalyticsEvent:l}=N(),{displayedCategoryId:c,displayedCategoryName:d}=G(),u=r.useMemo(()=>t.map(({src:e})=>e),[t]),[p,h]=r.useState(null),m=p?[...p.values()].filter(e=>e).length/t.length*100:null,f=r.useCallback(t=>{null===m&&(h(new Map(u.map(e=>[e,!1]))),l({type:"track",category_id:c,category_name:d,item_type:"exterior-360",item_position:e,action_properties:{action_name:"Exterior 360 Play",action_field:"exterior_360_play",action_value:t}}))},[m,u,l,c,d,e]),g=r.useCallback(()=>{f("click")},[f]),v=r.useCallback(e=>{h(t=>{const n=new Map(t);return n.set(e,!0),n})},[]);return r.useEffect(()=>{s&&f("auto")},[s,f]),r.useEffect(()=>{100===m&&a()},[m,a]),o.jsxs("div",{className:"relative aspect-[4/3] w-full",children:[null!==m&&100!==m&&o.jsx("div",{className:"hidden",children:u.map(e=>o.jsx(ue,{src:e,onLoad:()=>v(e),onError:i},e))}),o.jsx(ue,{className:"size-full",src:u[0],onLoad:n}),o.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-y-4 bg-foreground/35",children:[o.jsx(fe,{className:"size-20"}),o.jsx(ae,{color:"neutral",shape:"icon",onClick:g,children:o.jsx(De,{className:"size-full"})}),o.jsx("div",{className:J("relative h-1 w-3/5 overflow-hidden rounded-full bg-background",null===m&&"invisible"),children:o.jsx("div",{className:"h-full bg-primary transition-[width]",style:{width:`${m??0}%`}})})]})]})},Ye=e=>{const{itemIndex:t}=e,{setItemInteraction:n}=G(),[a,i]=r.useState();return r.useEffect(()=>{null===a||"error"===a||n(t,"spin"===a?"running":"ready")},[t,n,a]),"error"===a?o.jsx(se,{className:"text-background",text:"Spin could not be loaded"}):"spin"!==a?o.jsx(We,{...e,onPlaceholderImageLoaded:()=>i(e=>null===e?"placeholder":e),onSpinImagesLoaded:()=>i("spin"),onError:()=>i("error")}):o.jsx(Be,{...e})},Ge=e=>o.jsx(ae,{color:"neutral",shape:"icon",...e,children:o.jsx(me,{className:"size-full"})}),Ze=({className:e})=>o.jsx(te,{className:e,customizationKey:"UI_PAUSE",children:o.jsx("svg",{className:e,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4 12.6667H6.66667V3.33333H4V12.6667ZM9.33333 3.33333V12.6667H12V3.33333H9.33333Z",fill:"currentColor"})})}),Xe=({className:e})=>o.jsx(te,{className:e,customizationKey:"UI_VOLUME",children:o.jsx("svg",{className:e,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M2 6V10H4.66667L8 13.3333V2.66667L4.66667 6H2ZM11 8C11 6.82 10.32 5.80667 9.33333 5.31334V10.68C10.32 10.1933 11 9.18 11 8ZM9.33333 2.15334V3.52667C11.26 4.1 12.6667 5.88667 12.6667 8C12.6667 10.1133 11.26 11.9 9.33333 12.4733V13.8467C12.0067 13.24 14 10.8533 14 8C14 5.14667 12.0067 2.76 9.33333 2.15334Z",fill:"currentColor"})})}),qe=({className:e})=>o.jsx(te,{className:e,customizationKey:"UI_VOLUME_OFF",children:o.jsx("svg",{className:e,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M11 8C11 6.82 10.32 5.80667 9.33333 5.31333V6.78667L10.9667 8.42C10.9867 8.28667 11 8.14667 11 8ZM12.6667 8C12.6667 8.62667 12.5333 9.21333 12.3067 9.76L13.3133 10.7667C13.7533 9.94 14 9 14 8C14 5.14667 12.0067 2.76 9.33333 2.15333V3.52667C11.26 4.1 12.6667 5.88667 12.6667 8ZM2.84667 2L2 2.84667L5.15333 6H2V10H4.66667L8 13.3333V8.84667L10.8333 11.68C10.3867 12.0267 9.88667 12.3 9.33333 12.4667V13.84C10.2533 13.6333 11.0867 13.2067 11.7933 12.6333L13.1533 14L14 13.1533L2.84667 2ZM8 2.66667L6.60667 4.06L8 5.45333V2.66667Z",fill:"currentColor"})})}),$e=({progress:e})=>o.jsx("div",{className:"h-1 w-full overflow-hidden rounded-ui-sm bg-background/25",children:o.jsx("div",{className:"size-full rounded-ui-sm bg-background transition-transform",style:{transform:`translateX(-${100*(1-e)}%)`}})}),Ke=({src:e,poster:t,itemIndex:n})=>{const{carrouselItemIndex:a,setItemInteraction:i}=G(),s=r.useRef(null),l=r.useRef(null),c=r.useCallback(()=>{if(!l.current)throw new Error("videoRef.current is null");return l.current},[]);r.useEffect(()=>{i(n,"ready")},[n,i]);const d=r.useCallback(()=>{c().play()},[c]),u=r.useCallback(()=>{c().pause()},[c]);r.useEffect(()=>{a===n||u()},[a,n,u]);const[p,h]=r.useState(!1),[m,f]=r.useState(!0),g=()=>{h(!1),i(n,"ready")},[v,x]=r.useState(null);r.useEffect(()=>{const e=l.current;if(!e)return;const t=()=>{x({volume:e.volume,isMuted:e.muted})};return t(),e.addEventListener("volumechange",t),()=>{e.removeEventListener("volumechange",t)}},[]);const[w,b]=r.useState(null),y=w?w.currentTime/w.duration:0;r.useEffect(()=>{const e=l.current;if(!e)return;const t=()=>{const t=e.currentTime,n=e.duration;isNaN(t)||isNaN(n)||b({currentTime:t,duration:n})};return t(),e.addEventListener("timeupdate",t),()=>{e.removeEventListener("timeupdate",t)}},[]);const E=e=>`${Math.floor(e%3600/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`,[C,k]=r.useState(!1),_=r.useRef(void 0),M=r.useCallback(()=>clearTimeout(_.current),[]),L=r.useCallback(()=>{M(),_.current=setTimeout(()=>{k(!1)},3e3)},[M]);return r.useEffect(()=>{const e=s.current,t=l.current;if(!e||!t)return;const n=()=>{L(),k(!0)},o=()=>{M(),k(!1)};let r=!1;const a=()=>{r=!0},i=()=>{r&&(r=!1,u())},c=e=>{e.preventDefault(),1===e.touches.length&&(L(),k(e=>!e))};return e.addEventListener("mousedown",a),e.addEventListener("mouseup",i),e.addEventListener("mouseenter",n),e.addEventListener("mousemove",()=>{r=!1,n()}),e.addEventListener("mouseleave",o),t.addEventListener("touchstart",c,{passive:!0}),()=>{e.removeEventListener("mousedown",a),e.removeEventListener("mouseup",i),e.removeEventListener("mouseenter",n),e.removeEventListener("mousemove",n),e.removeEventListener("mouseleave",o),t.removeEventListener("touchstart",c)}},[M,u,L]),o.jsxs("div",{ref:s,className:"relative aspect-[4/3] w-full",children:[o.jsx("video",{ref:l,className:"size-full",src:e,poster:t,disablePictureInPicture:!0,playsInline:!0,onPlay:()=>{h(!0),i(n,"running")},onPause:g,onEnded:g,onCanPlay:()=>{f(!1)},onWaiting:()=>{f(!0)}}),p?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:J("absolute inset-x-0 bottom-0 cursor-auto space-y-2 bg-gradient-to-t from-foreground to-transparent p-4 pr-12 pt-8 transition-opacity duration-300",C?"pointer-events-auto opacity-100":"pointer-events-none opacity-0"),onMouseDownCapture:e=>e.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between text-background",children:[o.jsxs("div",{className:"flex items-center gap-x-4",children:[o.jsx(ae,{shape:"icon",variant:"ghost",color:"neutral",onClick:u,children:o.jsx(Ze,{className:"size-full"})}),w&&o.jsxs("span",{className:"text-sm",children:[E(w.currentTime)," /"," ",E(w.duration)]})]}),v&&o.jsxs("div",{className:"group/volume flex items-center gap-x-4 rounded-ui-md p-2 transition-colors hover:bg-foreground/25",children:[o.jsx("div",{className:"w-12 cursor-pointer py-1 opacity-0 transition-opacity "+(v.isMuted?"group-hover/volume:opacity-50":"group-hover/volume:opacity-100"),onClick:e=>{const t=c(),n=e.currentTarget.getBoundingClientRect(),o=(e.clientX-n.left)/n.width,r=Math.min(1,Math.max(0,o));t.volume=r,t.muted=!1},children:o.jsx($e,{progress:v.volume})}),o.jsx("div",{className:"size-5 cursor-pointer",onClick:()=>{return e=!v.isMuted,void(c().muted=e);var e},children:v.isMuted?o.jsx(qe,{className:"size-full"}):o.jsx(Xe,{className:"size-full"})})]})]}),o.jsx("div",{className:"cursor-pointer py-1",onClick:e=>{const t=c(),n=e.currentTarget.getBoundingClientRect(),o=(e.clientX-n.left)/n.width,r=t.duration*o;t.currentTime=r},children:o.jsx($e,{progress:y})})]}),m&&o.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center bg-foreground/25",children:o.jsx(de,{size:"lg",color:"background"})})]}):o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-foreground/25",children:o.jsx(Ge,{onClick:d})})]})},Je=({index:e,item:t,isShown:n})=>{const{type:r}=t;let a;switch(r){case"image":a=o.jsx(je,{itemIndex:e,onlyPreload:!n,...t});break;case"video":a=o.jsx(Ke,{itemIndex:e,...t});break;case"360":a=o.jsx(Ye,{itemIndex:e,onlyPreload:!n,...t});break;case"next360":a=o.jsx(Ue,{itemIndex:e,onlyPreload:!n,...t});break;case"interior-360":a=o.jsx(He,{itemIndex:e,onlyPreload:!n,...t});break;case"custom":a=o.jsx(Ce,{itemIndex:e,...t})}return a=o.jsx("div",{className:"grid grid-cols-[repeat(var(--max-items),1fr)]",children:a}),a};const Qe=({className:e,children:t,isVisible:n,url:r,title:a,description:i,clickHandler:s,extendMode:l,variant:c,aspectRatioStyle:d,maxItemsShown:u=1})=>{const{isFullScreen:p,integration:h}=N(),m=()=>!(!a&&!i),f=c||(!h||p?"centered":"aside"),g=e=>{if(!d)return{};switch(e){case"centered":return{...d,maxHeight:m()?"50%":"100%"};case"aside":return{...d,minHeight:0,flex:"1 1 auto"};case"fullwidth":return{...d,height:"85%"};default:return d}};return"centered"===f?o.jsx("div",{className:J(e,"absolute inset-0 z-overlay flex justify-end overflow-hidden bg-foreground/60 transition-opacity duration-details",n?"opacity-100":"pointer-events-none opacity-0"),onClick:s,children:o.jsxs("div",{className:J("flex h-full flex-col bg-background transition-transform duration-details",n?"translate-x-0":"translate-x-full",m()?"max-w-[60%]":"w-full"),children:[t,n&&o.jsxs(o.Fragment,{children:[o.jsx(ue,{className:J(m()?"max-h-[50%]":"h-full","w-full bg-foreground/65 object-contain"),src:r||"",style:g("centered"),imgInPlayerWidthRatio:.6}),m()&&o.jsxs("div",{className:J("flex-1 space-y-1 overflow-y-auto px-2 py-1 small:p-3",l&&"large:p-4"),children:[a&&o.jsx("span",{className:J("text-sm font-semibold small:text-base small:font-bold",l&&"large:text-lg"),children:a}),i&&o.jsx("p",{className:J("text-xs text-foreground/65 small:text-sm",l&&"large:text-base"),children:i})]})]})]})}):"aside"===f?o.jsx("div",{className:J(e,"absolute inset-0 z-overlay flex items-center justify-center overflow-hidden bg-foreground/60 transition-opacity duration-details",n?"opacity-100":"pointer-events-none opacity-0"),onClick:s,children:o.jsxs("div",{className:J("relative flex h-full flex-col bg-background transition-transform duration-details",n?"translate-y-0":"translate-y-full"),style:{width:h?100/(p?1:u)+"%":100/u+"%"},children:[t,n&&o.jsxs(o.Fragment,{children:[o.jsx(ue,{className:"min-h-0 w-full flex-1 bg-foreground/65 object-contain",src:r||"",style:g("aside"),imgInPlayerWidthRatio:.6}),o.jsxs("div",{className:"min-h-[15%] shrink-0 space-y-1 p-2 small:p-3",children:[a&&o.jsx("span",{className:J("block text-xs font-semibold leading-tight small:text-base small:font-bold",l&&"large:text-lg"),children:a}),i&&o.jsx("p",{className:J("text-[10px] leading-tight text-foreground/65 small:text-sm",l&&"large:text-base"),children:i})]})]})]})}):o.jsx("div",{className:J(e,"absolute inset-0 z-overlay flex items-center justify-center overflow-hidden bg-foreground/60 transition-opacity duration-details",n?"opacity-100":"pointer-events-none opacity-0"),onClick:s,children:o.jsxs("div",{className:J("relative flex aspect-[4/3] flex-col bg-background transition-transform duration-details",n?"translate-y-0":"translate-y-full"),style:{width:h?100/(p?1:u)+"%":100/u+"%"},children:[t,n&&r&&o.jsxs(o.Fragment,{children:[o.jsx(ue,{className:"h-[85%] w-full bg-foreground/65 object-contain",src:r,style:g("fullwidth"),imgInPlayerWidthRatio:.6}),o.jsxs("div",{className:"h-[15%] space-y-1 overflow-y-auto px-2 py-1 small:p-3",children:[a&&o.jsx("span",{className:J("text-sm font-semibold small:text-base small:font-bold",l&&"large:text-lg"),children:a}),i&&o.jsx("p",{className:J("text-xs text-foreground/65 small:text-sm",l&&"large:text-base"),children:i})]})]})]})})},et=({currentIndex:e,maxIndex:t})=>o.jsxs("div",{className:"space-x-0.5 rounded-ui bg-foreground/40 px-1.5 py-0.5 text-xs text-background/75 transition-radius small:space-x-1 small:px-2 small:py-1 small:text-sm",children:[o.jsx("span",{children:e+1}),o.jsx("span",{children:"/"}),o.jsx("span",{children:t+1})]}),tt=({className:e})=>o.jsx(te,{className:e,customizationKey:"UI_ARROW_RIGHT",children:o.jsx("svg",{className:e,viewBox:"0 0 16 16",fill:"none",children:o.jsx("path",{d:"M4.07666 13.4868L5.25666 14.6668L11.9233 8.00016L5.25666 1.3335L4.07666 2.5135L9.56333 8.00016L4.07666 13.4868Z",fill:"currentColor"})})}),nt=({className:e})=>o.jsx(te,{className:e,customizationKey:"UI_EXTEND",children:o.jsx("svg",{className:e,viewBox:"0 0 16 16",fill:"none",children:o.jsx("path",{d:"M4.66683 9.3335H3.3335V12.6668H6.66683V11.3335H4.66683V9.3335ZM3.3335 6.66683H4.66683V4.66683H6.66683V3.3335H3.3335V6.66683ZM11.3335 11.3335H9.3335V12.6668H12.6668V9.3335H11.3335V11.3335ZM9.3335 3.3335V4.66683H11.3335V6.66683H12.6668V3.3335H9.3335Z",fill:"currentColor"})})}),ot=({className:e})=>o.jsx(te,{className:e,customizationKey:"UI_GALLERY",children:o.jsx("svg",{className:e,viewBox:"0 0 16 16",fill:"none",children:o.jsx("path",{d:"M13.3334 2.66683V10.6668H5.33337V2.66683H13.3334ZM13.3334 1.3335H5.33337C4.60004 1.3335 4.00004 1.9335 4.00004 2.66683V10.6668C4.00004 11.4002 4.60004 12.0002 5.33337 12.0002H13.3334C14.0667 12.0002 14.6667 11.4002 14.6667 10.6668V2.66683C14.6667 1.9335 14.0667 1.3335 13.3334 1.3335ZM7.66671 7.78016L8.79337 9.28683L10.4467 7.22016L12.6667 10.0002H6.00004L7.66671 7.78016ZM1.33337 4.00016V13.3335C1.33337 14.0668 1.93337 14.6668 2.66671 14.6668H12V13.3335H2.66671V4.00016H1.33337Z",fill:"currentColor"})})}),rt=({className:e})=>o.jsx(te,{className:e,customizationKey:"UI_HOTSPOTS",children:o.jsxs("svg",{className:e,width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("g",{clipPath:"url(#clip0_418_982)",children:o.jsx("path",{d:"M6 4C4.895 4 4 4.895 4 6C4 7.105 4.895 8 6 8C7.105 8 8 7.105 8 6C8 4.895 7.105 4 6 4ZM10.47 5.5C10.24 3.415 8.585 1.76 6.5 1.53V0.5H5.5V1.53C3.415 1.76 1.76 3.415 1.53 5.5H0.5V6.5H1.53C1.76 8.585 3.415 10.24 5.5 10.47V11.5H6.5V10.47C8.585 10.24 10.24 8.585 10.47 6.5H11.5V5.5H10.47ZM6 9.5C4.065 9.5 2.5 7.935 2.5 6C2.5 4.065 4.065 2.5 6 2.5C7.935 2.5 9.5 4.065 9.5 6C9.5 7.935 7.935 9.5 6 9.5Z",fill:"currentColor"})}),o.jsx("defs",{children:o.jsx("clipPath",{id:"clip0_418_982",children:o.jsx("rect",{width:"12",height:"12",fill:"white"})})})]})}),at=({className:e})=>o.jsx(te,{className:e,customizationKey:"UI_MINUS",children:o.jsx("svg",{className:e,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M12.6666 8.66634H3.33325V7.33301H12.6666V8.66634Z",fill:"currentColor"})})}),it=({className:e})=>o.jsx(te,{className:e,customizationKey:"UI_PLUS",children:o.jsx("svg",{className:e,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M12.6666 8.66634H8.66659V12.6663H7.33325V8.66634H3.33325V7.33301H7.33325V3.33301H8.66659V7.33301H12.6666V8.66634Z",fill:"currentColor"})})}),st=({className:e})=>o.jsx(te,{className:e,customizationKey:"UI_REDUCE",children:o.jsx("svg",{className:e,viewBox:"0 0 16 16",fill:"none",children:o.jsx("path",{d:"M3.33325 10.6668H5.33325V12.6668H6.66659V9.3335H3.33325V10.6668ZM5.33325 5.3335H3.33325V6.66683H6.66659V3.3335H5.33325V5.3335ZM9.33325 12.6668H10.6666V10.6668H12.6666V9.3335H9.33325V12.6668ZM10.6666 5.3335V3.3335H9.33325V6.66683H12.6666V5.3335H10.6666Z",fill:"currentColor"})})}),lt=({enabled:e,onToggle:t,label:n,className:r,children:a})=>o.jsxs("label",{className:J("flex cursor-pointer items-center justify-center gap-x-2",r),children:[o.jsx("input",{type:"checkbox",className:"sr-only",checked:e,onChange:t}),n&&o.jsx("div",{className:"text-xs text-background",children:n}),o.jsx("div",{className:J("flex h-5 w-8 items-center justify-center rounded-full transition-colors",e?"bg-primary":"bg-background/60"),children:o.jsx("div",{className:J("flex size-4 items-center justify-center rounded-full p-0.5 transition",e?"translate-x-1.5 bg-primary-foreground text-primary":"-translate-x-1.5 bg-background text-foreground"),children:a})})]}),ct=({className:e})=>o.jsx(te,{className:e,customizationKey:"UI_BURGER",children:o.jsx("svg",{className:e,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M2 12H14V10.6667H2V12ZM2 8.66667H14V7.33333H2V8.66667ZM2 4V5.33333H14V4H2Z",fill:"currentColor"})})}),dt=({sharedClassName:e})=>{const{categories:t}=T(),{displayedCategoryId:n,changeCategory:a}=G(),[i,s]=r.useState(!1);return o.jsxs(o.Fragment,{children:[i&&o.jsx("div",{className:J(e,"inset-0 small:hidden"),onClick:()=>{s(!1)}}),o.jsxs("div",{className:J(e,ee("top-left"),"flex gap-x-2 small:hidden"),children:[o.jsx(ae,{shape:"icon",color:i?"primary":"neutral",onClick:()=>{s(!i)},children:o.jsx(ct,{})}),i&&o.jsx("div",{className:"rounded-ui-md bg-background transition-radius",children:o.jsx("ul",{className:"space-y-0.5 p-1",children:t.map(({id:e,title:t})=>o.jsx("li",{className:J("cursor-pointer rounded-ui px-2 py-1 text-sm font-bold transition-all hover:bg-primary/30",e===n&&"bg-primary/50"),onClick:()=>{a(e),s(!1)},children:t},e))})})]}),o.jsx("div",{className:J(e,Q("top"),"w-full overflow-x-auto max-small:hidden"),children:o.jsx("div",{className:"mx-auto flex w-fit gap-x-1 rounded-ui-md bg-background p-1 shadow",children:t.map(({id:e,title:t})=>o.jsx(ae,{variant:e===n?"fill":"ghost",onClick:()=>a(e),children:t},e))})})]})},ut=()=>{const{hideCategoriesNav:e,infiniteCarrousel:t,permanentGallery:n,extendBehavior:a,maxItemsShown:i,isFullScreen:s,integration:l}=N(),{aspectRatioStyle:c,categories:{length:d}}=T(),{items:{length:u},slidable:p,carrouselItemIndex:h,masterItemIndex:m,prevItem:f,nextItem:g,showGalleryControls:v,enableHotspotsControl:x,currentItemHotspotsVisible:w,toggleHotspots:b,showGallery:y,toggleGallery:E,extendMode:C,toggleExtendMode:k,shownDetails:_,isShowingDetails:M,resetShownDetails:L,showZoomControls:j,isZooming:I,canZoomIn:P,zoomIn:R,canZoomOut:S,zoomOut:z,resetView:A}=G(),O=r.useCallback(e=>{(function(e){return e.target===e.currentTarget})(e)&&L()},[L]);(e=>{r.useEffect(()=>{const t=t=>{"Escape"===t.key&&e()};return addEventListener("keydown",t),()=>{removeEventListener("keydown",t)}},[e])})(L);const H="absolute z-overlay";return o.jsxs(o.Fragment,{children:[!e&&d>1&&o.jsx(dt,{sharedClassName:J(H,"transition-opacity",I?"!pointer-events-none opacity-0":"opacity-100")}),p&&!I&&o.jsx("div",{className:J(H,ee("top-right")),children:o.jsx(et,{currentIndex:!l||s?h:(()=>{if(1===i)return h;const e=Math.floor(i)-1;return h+e})(),maxIndex:u-1})}),p&&o.jsxs(o.Fragment,{children:[o.jsx(ae,{shape:"icon",color:"neutral",className:J(H,ee("middle-left"),I?"!pointer-events-none opacity-0":"opacity-100"),onClick:f,disabled:!t&&m<=0,children:o.jsx(te,{customizationKey:"CONTROLS_PREV",children:o.jsx(tt,{className:"size-full -scale-x-100"})})}),o.jsx(ae,{shape:"icon",color:"neutral",className:J(H,ee("middle-right"),I?"!pointer-events-none opacity-0":"opacity-100"),onClick:g,disabled:!t&&(()=>{if(!l)return m;const e=Math.floor(i)-1;return m+e})()>=u-1,children:o.jsx(te,{customizationKey:"CONTROLS_NEXT",children:o.jsx(tt,{className:"size-full"})})})]}),o.jsxs("div",{className:J(H,ee("bottom-fullW"),"pointer-events-none grid grid-cols-[auto,1fr,auto] items-end *:pointer-events-auto small:gap-x-2"),children:[!n&&p&&o.jsxs(o.Fragment,{children:[o.jsx(ae,{className:v&&!I?"opacity-100":"!pointer-events-none opacity-0",variant:"fill",color:y?"primary":"neutral",shape:"icon",onClick:E,children:o.jsx(ot,{className:"size-full"})}),y&&o.jsx(ye,{className:J("transition-opacity",v&&!I?"opacity-100":"!pointer-events-none opacity-0","[mask-image:linear-gradient(to_left,transparent_0px,black_4px,black_calc(100%-4px),transparent_100%)]"),containerClassName:"mx-1"})]}),o.jsxs("div",{className:"col-start-3 flex flex-col items-end gap-y-1 small:gap-y-2",children:[x&&o.jsx(lt,{className:J("transition-opacity",I?"!pointer-events-none opacity-0":"opacity-100"),enabled:w,onToggle:b,children:o.jsx(rt,{className:"size-full"})}),j&&(!l||s)&&o.jsxs("div",{className:"max-small:hidden",children:[o.jsx(ae,{className:"rounded-b-none",color:"neutral",shape:"icon",disabled:!P,onClick:R,children:o.jsx(it,{className:"size-full"})}),o.jsx(be,{color:"background"}),o.jsx(ae,{className:"rounded-t-none",color:"neutral",shape:"icon",disabled:!S,onClick:z,children:o.jsx(at,{className:"size-full"})})]}),"none"!==a&&o.jsx(ae,{variant:"fill",color:C?"primary":"neutral",shape:"icon",onClick:k,children:C?o.jsx(st,{className:"size-full"}):o.jsx(nt,{className:"size-full"})})]})]}),o.jsx(Qe,{isVisible:M,className:H,url:_?.src,title:_?.title,description:_?.text,clickHandler:O,extendMode:C,maxItemsShown:i,aspectRatioStyle:c,children:o.jsx(ie,{className:"absolute right-2 top-2 z-10",onClick:L})}),I&&o.jsx(ie,{className:J(H,ee("top-right")),onClick:A})]})},pt=({className:e=""})=>{const{infiniteCarrousel:t,preloadRange:n,isFullScreen:a,maxItemsShown:i,integration:s}=N(),{aspectRatioStyle:l}=T(),{items:c,slidable:d,carrouselItemIndex:u,setCarrouselItemIndex:p,itemIndexCommand:h,setItemIndexCommand:m,specialCommand:f,isRunningSpecialCommand:g,finishSpecialCommand:v,extendMode:x,extendTransition:w}=G(),{effectiveMaxItemsShown:b}=z(),y=r.useRef(null),E=r.useCallback(e=>{if(!y.current)throw new Error(`[${e??"sliderOrThrow"}] slider.current is null`);return y.current},[]),C=r.useRef(!1),k=r.useRef(null),_=r.useRef(null),M=r.useRef(null),L=r.useCallback(()=>{M.current&&cancelAnimationFrame(M.current)},[]),j=r.useCallback(()=>{const e=E("computeClosestSnapIndex"),n=Array.from(e.children),o=e.scrollLeft;let r=0,a=1/0;if(n.forEach((e,t)=>{const n=e.offsetLeft,i=Math.abs(n-o);i<a&&(a=i,r=t)}),b>1){const e=Math.ceil(b),n=c.length+(s&&!t&&b%1!=0?1:0),o=Math.max(0,n-e);if(r=Math.min(r,o),s&&!t&&b%1!=0){const e=c.length-1;r=Math.min(r,e)}}return r},[E,b,c.length,t,s]),I=r.useCallback(e=>{E("setStyleCursor").style.cursor=e},[E]),P=r.useCallback(e=>{const t=E("setStyleSnapState");t.style.scrollSnapType="mandatory"===e?"x mandatory":"none"},[E]),R=r.useCallback((e,n,o)=>{L();const r=E("scrollToIndex"),a=Array.from(r.children),i=r.scrollLeft;let l=a[e].offsetLeft;const d=r.clientWidth,u=r.scrollWidth-d;if(b>1){const n=Math.ceil(b);e>=c.length+(s&&!t&&b%1!=0?1:0)-n&&(l=Math.min(l,u))}const p=e=>{r.scrollTo({left:e,behavior:"instant"})},h=()=>{p(l),P("mandatory"),o?.()},m=Math.abs(i-l);if(m<1||"instant"===n)return void h();const f=A(m/2.5,300,1e3),g=(new Date).getTime();P("none");const v=()=>{M.current=requestAnimationFrame(()=>{const e=(new Date).getTime()-g;if(e>=f)return void h();const t=Math.min(e/f,1),n=Ee(t),o=O(i,l,n);p(o),v()})};v()},[L,E,b,P,c.length,s,t]),[S,H]=r.useState(),D=!!S;r.useEffect(()=>{const e=()=>{clearTimeout(S);const e=setTimeout(()=>{H(void 0)},500);H(e)};return addEventListener("resize",e),document.addEventListener("fullscreenchange",e),()=>{removeEventListener("resize",e),document.removeEventListener("fullscreenchange",e)}},[S]),r.useEffect(()=>{if(f)return;const e=j();Number.isNaN(e)||e!==u&&R(u,"instant")},[u,j,R,f,c,S,a,x,w]),r.useEffect(()=>{if(!d||g)return void I("auto");const e=y.current;if(!e)return;I("grab"),P("mandatory");const n=t=>{0===t.button&&(t.preventDefault(),t.stopPropagation(),L(),C.current=!0,k.current=t.pageX-e.offsetLeft,_.current=e.scrollLeft,I("grabbing"))},o=n=>{if(!C.current)return;if(null===k.current)throw new Error("[onMouseMove] startX is null");P("none");const o=n.pageX-e.offsetLeft-k.current;requestAnimationFrame(()=>{if(null===_.current)throw new Error("[onMouseMove] scrollLeft is null");let n=_.current-o;if(!t){const t=e.scrollWidth-e.clientWidth;n>t&&(n=t)}e.scrollLeft=n})},r=()=>{if(!C.current)return;C.current=!1,I("grab");const e=j();R(e,"smooth")};return e.addEventListener("mousedown",n),document.addEventListener("mousemove",o),document.addEventListener("mouseleave",r),document.addEventListener("mouseup",r),document.addEventListener("contextmenu",r),()=>{e.removeEventListener("mousedown",n),document.removeEventListener("mousemove",o),document.removeEventListener("mouseleave",r),document.removeEventListener("mouseup",r),document.removeEventListener("contextmenu",r)}},[L,j,t,g,R,I,P,d]),r.useEffect(()=>{if(w||D)return;const e=y.current;if(!e)return;const t=()=>{const e=j();Number.isNaN(e)||(p(e),e===h&&m(null))};return e.addEventListener("scroll",t),()=>{e.removeEventListener("scroll",t)}},[j,w,D,h,i,p,m]),r.useEffect(()=>{if(null===h)return;const e=()=>{setTimeout(()=>{m(null),v()},75)};switch(f){case"first_to_last":{const n=Math.ceil(b),o=c.length+(s&&!t&&b%1!=0?1:0),r=b>1?Math.max(0,o-n):c.length-1;R(r,"instant",e);break}case"last_to_first":R(0,"instant",e);break;case"instant":R(h,"instant",e);break;default:R(h,"smooth")}},[f,v,h,c.length,R,m,b,t,s]);const F=r.useMemo(()=>!s||a?l:{aspectRatio:"auto"},[s,a,l]),V=r.useMemo(()=>({...l,minWidth:100/b+"%",width:100/b+"%",flexShrink:0}),[l,b]);return o.jsxs("div",{className:J("relative overflow-hidden rounded-carrousel transition-radius",e),style:F,children:[o.jsxs("div",{ref:y,className:"flex size-full "+(d?"overflow-x-auto no-scrollbar *:snap-start *:snap-always":"justify-center"),children:[c.map((e,r)=>{const a=r===u,i=0===r,s=r===c.length-1,l=(()=>{const e=Math.ceil(b);return"first_to_last"===f&&i?{transform:`translateX(${100*c.length/e}%)`}:"last_to_first"===f&&s?{transform:`translateX(-${100*c.length/e}%)`}:void 0})(),d=Math.ceil(b),p=Math.max(n,d);let m=Math.abs(r-u)<=p;m||=r===h,m||=r>=u&&r<u+d,t&&(m||=u<p&&c.length-r<=p-u,m||=u>=c.length-p&&r<=p-(c.length-u));const g=(()=>{let t;switch(e.type){case"360":t=e.images[0].src;break;case"interior-360":t=e.poster??"interior-360";break;case"image":t=e.src;break;case"video":t=e.poster??"video";break;case"custom":t="custom";break;default:t="unknown"}return`${r}_${t}`})();return o.jsx("div",{className:J("h-full bg-foreground/35",u===r&&"z-1"),style:{...V,...l},children:m&&o.jsx(Je,{index:r,item:e,isShown:a})},g)}),s&&!t&&!a&&i%1!=0&&o.jsx("div",{className:"h-full",style:V},"empty-slide")]}),o.jsx(ut,{})]})},ht=()=>{const{permanentGallery:e,integration:t}=N(),{aspectRatioStyle:n}=T(),{isShowingDetails:a,resetShownDetails:i,extendMode:s,disableExtendMode:l,isZooming:c,resetZoom:d,fakeFullScreen:u}=G(),p=r.useRef(null),h=r.useRef(null),m=r.useRef(null);return r.useEffect(()=>{if(!s)return;const e=p.current,t=h.current,n=m.current;if(!e||!t||!n)return;let o=!1;const r=o=>[e,t,n].includes(o.target),a=e=>{o=r(e)},i=e=>{o&&(r(e)&&l(),o=!1)};return e.addEventListener("mousedown",a),e.addEventListener("mouseup",i),()=>{e.removeEventListener("mousedown",a),e.removeEventListener("mouseup",i)}},[l,s]),r.useEffect(()=>{const e=e=>{"Escape"===e.key&&(c?d():a?i():l())};return addEventListener("keydown",e),()=>{removeEventListener("keydown",e)}},[l,a,c,i,d]),o.jsxs("div",{ref:p,className:J("relative",s&&"flex size-full items-center justify-center",u&&"fixed inset-0 z-overlay bg-foreground/75"),children:[o.jsxs("div",{ref:h,className:s?"flex size-full flex-col justify-center gap-y-2 small:gap-y-4":"space-y-2",children:[o.jsx("div",{ref:m,className:J(s&&"mx-auto flex min-h-0 w-full max-w-[1600px] justify-center"),style:t?{}:n,children:o.jsx(pt,{className:J(s&&"h-full min-w-0")})}),e&&o.jsx(ye,{className:J(s&&"my-2 shrink-0 small:my-4")})]}),s&&o.jsx(ie,{className:"absolute right-2 top-2 small:right-4 small:top-4",onClick:l})]})},mt=()=>{const{emitEvent:e,compositionUrl:t}=N(),{data:n,status:a,isSuccess:i,error:s}=M(t);return r.useEffect(()=>{s?e(d,s):"fetching"===a?e(l,t):i&&e(c,n)},[n,t,e,s,i,a]),s?o.jsx(se,{className:"aspect-square text-foreground/70",text:"Player could not be loaded"}):i?o.jsx(P,{composition:n,children:o.jsx(Z,{children:o.jsx(ht,{})})}):o.jsxs("div",{className:"flex aspect-square size-full flex-col items-center justify-center gap-y-4",children:[o.jsx("div",{className:"animate-pulse text-xl",children:"Loading Player"}),o.jsx(de,{color:"foreground"})]})},ft={hideCategoriesNav:!0,infiniteCarrousel:!1,permanentGallery:!1},gt=[1,1.5,2,2.5],vt=()=>r.useMemo(()=>function(){const e="car-cutter-webplayer-browser-id",t=typeof window<"u"?window.localStorage.getItem(e):null;if(t)return t;const n=k();return typeof window<"u"&&window.localStorage.setItem(e,n),n}(),[]),xt=()=>r.useMemo(()=>function(){const e="car-cutter-webplayer-session-id",t=typeof window<"u"?window.sessionStorage.getItem(e):null;if(t)return t;const n=k();return typeof window<"u"&&window.sessionStorage.setItem(e,n),n}(),[]),wt=()=>r.useMemo(()=>k(),[]),bt=({compositionUrl:e,integration:t=false,maxItemsShown:n=1,hideCategoriesNav:i=false,infiniteCarrousel:s=false,permanentGallery:l=false,mediaLoadStrategy:c="quality",minMediaWidth:d=0,maxMediaWidth:u=y,preloadRange:p=1,autoLoad360:h=false,autoLoadInterior360:m=false,categoriesFilter:f="*",extendBehavior:g="full_screen",eventPrefix:v=E,demoSpin:x=false,reverse360:w=false,analyticsEventPrefix:b=C,analyticsUrl:k="",analyticsBearer:_="",analyticsSimpleRequestsOnly:M=false,analyticsDryRun:L=false,analyticsDebug:N=false,children:I})=>{n=((e,t)=>{if(t.includes(e))return e;let n=t[0],o=Math.abs(e-n);for(let r=1;r<t.length;r++){const a=Math.abs(e-t[r]);a<o&&(o=a,n=t[r])}return n})(n,gt);const T=r.useRef(null),[P,R]=r.useState(.5),[S,z]=r.useState(!1),A=r.useCallback((e,t)=>{const n=new CustomEvent(v+e,{detail:t});document.dispatchEvent(n)},[v]),O=vt(),H=xt(),D=wt(),F=r.useCallback(async e=>{try{const t={type:e.type,timestamp:(new Date).toISOString(),instance_id:D,...e};if(L)return void console.log("[DRY RUN] AnalyticsEvent:",t);const n=b+e.type,o=new CustomEvent(n,{detail:t});if(document.dispatchEvent(o),k){const e="POST",n=new Headers;M||(n.append("Content-Type","application/json"),n.append("Cache-Control","no-cache"),_&&n.append("Authorization",`Bearer ${_}`));const o=JSON.stringify(t);await fetch(k,{method:e,headers:n,body:o})}}catch(t){if(!N)return;console.error("Error while sending analytics event:",t)}},[b,k,_,M,L,N,D]),[V]=r.useState({type:"identify",browser_id:O,session_id:H,referrer:document.referrer,origin:window.location.origin,page_url:window.location.href,user_agent:navigator.userAgent,wp_properties:{composition_url:e,integration:t,max_items_shown:n,hide_categories_nav:i,infinite_carrousel:s,permanent_gallery:l,media_load_strategy:c,min_media_width:d,max_media_width:u,preload_range:p,auto_load_360:h,auto_load_interior_360:m,categories_filter:f,extend_behavior:g,event_prefix:v,demo_spin:x,reverse_360:w}});r.useEffect(()=>{const e=setTimeout(()=>F(V),0);return()=>clearTimeout(e)},[F,V]),r.useEffect(()=>{if(S)return void R(1);if(!T.current)return;const e=T.current,t=()=>{const t=window.innerWidth,n=e.clientWidth;R(n/t)};return t(),addEventListener("resize",t),()=>{removeEventListener("resize",t)}},[S]),r.useEffect(()=>{if("full_screen"!==g)return;const e=T.current;if(!e)throw new Error("Wrapper not found");const t=()=>{const{fullscreenElement:t}=document;z(t===e||t?.localName===a)};return document.addEventListener("fullscreenchange",t),()=>{document.removeEventListener("fullscreenchange",t)}},[g]);const U=r.useCallback(async()=>{const e=T.current;if(!e)throw new Error("Wrapper not found");try{return await e.requestFullscreen(),!0}catch{return!1}},[]),B=r.useCallback(async()=>{try{return await document.exitFullscreen(),!0}catch{return!1}},[]);return o.jsx(j,{compositionUrl:e,integration:t,hideCategoriesNav:i,infiniteCarrousel:s,permanentGallery:l,maxItemsShown:n,mediaLoadStrategy:c,minMediaWidth:d,maxMediaWidth:u,preloadRange:p,categoriesFilter:f,autoLoad360:h,autoLoadInterior360:m,extendBehavior:g,demoSpin:x,reverse360:w,emitEvent:A,emitAnalyticsEvent:F,playerInViewportWidthRatio:P,isFullScreen:S,requestFullscreen:U,exitFullscreen:B,...t?ft:{},children:o.jsxs(W,{children:[o.jsx("div",{ref:T,className:"select-none text-foreground",style:{"--background":"var(--cc-webplayer-background, 0 0% 100%)","--foreground":"var(--cc-webplayer-foreground, 240 10% 3.9%)","--primary":"var(--cc-webplayer-primary, 216 100% 52%)","--primary-foreground":"var(--cc-webplayer-primary-foreground, var(--background))","--primary-light":"var(--cc-webplayer-primary-light, var(--primary))","--neutral":"var(--cc-webplayer-neutral, 0 0% 39%)","--neutral-foreground":"var(--cc-webplayer-neutral-foreground, var(--foreground))","--radius-ui":"var(--cc-webplayer-radius-ui, 16px)","--radius-carrousel":"var(--cc-webplayer-radius-carrousel, 0)","--radius-gallery":"var(--cc-webplayer-radius-gallery, 0)","--hotspot-damage-color":"hsl(var(--cc-webplayer-hotspot-damage-color, 37 89% 52%))","--hotspot-feature-color":"hsl(var(--cc-webplayer-hotspot-feature-color, var(--primary)))"},children:o.jsx(mt,{})}),I]})})},yt=({children:e,index:t,thumbnailSrc:n})=>{const{registerCustomMedia:o,unregisterCustomMedia:a}=V();return r.useEffect(()=>{if(!e)return;const r=o({Media:e,index:t,thumbnailSrc:n});return()=>{a(r)}},[e,a,t,o,n]),null},Et=({name:e,children:t})=>{const{registerIconConfig:n,unregisterIconConfig:o}=V();return r.useEffect(()=>{if(t)return n(e,{Icon:t}),()=>{o(e)}},[t,e,n,o]),null};function Ct(e){return Object.entries(e).reduce((e,[t,n])=>{if(void 0!==n){const o=function(e){return e.replace(/([a-z0-9])([A-Z])/g,(e,t,n)=>`${t}-${n.toLowerCase()}`)}(t);e[o]=n.toString()}return e},{})}t.ANALYTICS_EVENT_IDENTIFY=x,t.ANALYTICS_EVENT_PAGE=w,t.ANALYTICS_EVENT_TRACK=b,t.DEFAULT_EVENT_PREFIX=E,t.EVENT_COMPOSITION_LOADED=c,t.EVENT_COMPOSITION_LOADING=l,t.EVENT_COMPOSITION_LOAD_ERROR=d,t.EVENT_EXTEND_MODE_OFF=h,t.EVENT_EXTEND_MODE_ON=p,t.EVENT_GALLERY_CLOSE=v,t.EVENT_GALLERY_OPEN=g,t.EVENT_HOTSPOTS_OFF=f,t.EVENT_HOTSPOTS_ON=m,t.EVENT_ITEM_CHANGE=u,t.WEB_PLAYER_CUSTOM_MEDIA_WC_TAG=i,t.WEB_PLAYER_ICON_WC_TAG=s,t.WEB_PLAYER_WC_TAG=a,t.WebPlayer=({onCompositionLoading:e,onCompositionLoaded:t,onCompositionLoadError:n,onItemChange:a,onExtendModeOn:i,onExtendModeOff:s,onHotspotsOn:y,onHotspotsOff:k,onGalleryOpen:_,onGalleryClose:M,onAnalyticsIdentify:L,onAnalyticsPage:N,onAnalyticsTrack:j,className:I,style:T={},children:P,...R})=>{const S=r.useMemo(()=>{const e=(e=>Ct(e))(R);return I&&Object.assign(e,{class:I}),e},[I,R]);return r.useEffect(()=>{const o=R.eventPrefix??E,r=R.analyticsEventPrefix??C,I={[l]:e,[c]:t,[d]:n,[u]:a,[p]:i,[h]:s,[m]:y,[f]:k,[g]:_,[v]:M},T={[x]:L,[w]:N,[b]:j},P=new Map,S=new Map;return Object.entries(I).forEach(([e,t])=>{if(!t)return;const n=(e=>`${o}${e}`)(e),r=e=>t(e.detail);P.set(n,r),document.addEventListener(n,r)}),Object.entries(T).forEach(([e,t])=>{if(!t)return;const n=(e=>`${r}${e}`)(e),o=e=>t(e.detail);S.set(n,o),document.addEventListener(n,o)}),()=>{P.forEach((e,t)=>{document.removeEventListener(t,e)}),S.forEach((e,t)=>{document.removeEventListener(t,e)})}},[R.eventPrefix,e,t,n,a,i,s,y,k,_,M,R.analyticsEventPrefix,L,N,j]),o.jsx("cc-webplayer",{style:{display:"block",...T},...S,children:P})},t.WebPlayerCustomMedia=e=>F()?o.jsx(yt,{...e}):o.jsx("slot",{}),t.WebPlayerCustomMedia$1=({children:e,...t})=>{const n=(e=>Ct(e))(t);return o.jsx("cc-webplayer-custom-media",{...n,children:e})},t.WebPlayerIcon=e=>F()?o.jsx(Et,{...e}):o.jsx("slot",{}),t.WebPlayerIcon$1=({children:e,...t})=>{const n=(e=>Ct(e))(t);return o.jsx("cc-webplayer-icon",{...n,children:e})},t.WebPlayerWithInjectedStyles=e=>o.jsxs(o.Fragment,{children:[o.jsx("style",{children:"*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:currentColor}:before,:after{--tw-content: \"\"}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",Segoe UI Symbol,\"Noto Color Emoji\";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.\\!container{width:100%!important}.container{width:100%}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.\\!pointer-events-none{pointer-events:none!important}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.fixed{position:fixed}.\\!absolute{position:absolute!important}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{inset:0}.inset-x-0{left:0;right:0}.inset-x-1{left:4px;right:4px}.inset-y-1{top:4px;bottom:4px}.-bottom-1{bottom:-4px}.-left-1{left:-4px}.-right-1{right:-4px}.-top-1{top:-4px}.bottom-0{bottom:0}.bottom-1{bottom:4px}.left-0{left:0}.left-1{left:4px}.left-1\\/2{left:50%}.right-1{right:4px}.right-2{right:8px}.top-0{top:0}.top-1{top:4px}.top-1\\/2{top:50%}.top-2{top:8px}.-z-10{z-index:-10}.-z-20{z-index:-20}.z-1{z-index:1}.z-10,.z-hotspot{z-index:10}.z-overlay{z-index:30}.z-zoomed-image{z-index:20}.col-start-3{grid-column-start:3}.mx-1{margin-left:4px;margin-right:4px}.mx-auto{margin-left:auto;margin-right:auto}.my-2{margin-top:8px;margin-bottom:8px}.-ml-px{margin-left:-1px}.-mt-px{margin-top:-1px}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.grid{display:grid}.hidden{display:none}.aspect-\\[4\\/3\\]{aspect-ratio:4/3}.aspect-square{aspect-ratio:1 / 1}.size-1{width:4px;height:4px}.size-12{width:48px;height:48px}.size-20{width:80px;height:80px}.size-4{width:16px;height:16px}.size-5{width:20px;height:20px}.size-8{width:32px;height:32px}.size-full{width:100%;height:100%}.h-1{height:4px}.h-10{height:40px}.h-20{height:80px}.h-3\\/4{height:75%}.h-5{height:20px}.h-8{height:32px}.h-\\[15\\%\\]{height:15%}.h-\\[85\\%\\]{height:85%}.h-full{height:100%}.h-px{height:1px}.max-h-\\[50\\%\\]{max-height:50%}.min-h-0{min-height:0}.min-h-\\[15\\%\\]{min-height:15%}.w-12{width:48px}.w-3\\/5{width:60%}.w-8{width:32px}.w-\\[calc\\(100\\%\\+1024px\\)\\]{width:calc(100% + 1024px)}.w-\\[calc\\(100\\%\\+2px\\)\\]{width:calc(100% + 2px)}.w-fit{width:-moz-fit-content;width:fit-content}.w-full{width:100%}.w-max{width:-moz-max-content;width:max-content}.w-px{width:1px}.min-w-0{min-width:0}.max-w-40{max-width:160px}.max-w-\\[1600px\\]{max-width:1600px}.max-w-\\[60\\%\\]{max-width:60%}.flex-1{flex:1 1 0%}.shrink-0{flex-shrink:0}.origin-top-left{transform-origin:top left}.-translate-x-1\\.5{--tw-translate-x: -6px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-x-1\\/2{--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-y-1\\/2{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-0{--tw-translate-x: 0;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-1\\.5{--tw-translate-x: 6px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-full{--tw-translate-x: 100%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-y-0{--tw-translate-y: 0;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-y-full{--tw-translate-y: 100%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-100{--tw-scale-x: 1;--tw-scale-y: 1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-105{--tw-scale-x: 1.05;--tw-scale-y: 1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-scale-x-100{--tw-scale-x: -1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes hotspot-ping{0%{transform:scale(0)}25%{opacity:1}75%,to{transform:scale(1.5);opacity:0}}.animate-hotspot-ping{animation:hotspot-ping 3s cubic-bezier(0,0,.2,1) infinite}@keyframes pulse{50%{opacity:1}0%,to{opacity:0}}.animate-pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes rotation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.animate-rotation{animation:rotation 1s linear infinite}.cursor-auto{cursor:auto}.cursor-ew-resize{cursor:ew-resize}.cursor-grab{cursor:grab}.cursor-grabbing{cursor:grabbing}.cursor-help{cursor:help}.cursor-move{cursor:move}.cursor-pointer{cursor:pointer}.resize{resize:both}.grid-cols-\\[auto\\,1fr\\,auto\\]{grid-template-columns:auto 1fr auto}.grid-cols-\\[repeat\\(var\\(--max-items\\)\\,1fr\\)\\]{grid-template-columns:repeat(var(--max-items),1fr)}.flex-col{flex-direction:column}.items-end{align-items:flex-end}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:4px}.gap-x-1{-moz-column-gap:4px;column-gap:4px}.gap-x-2{-moz-column-gap:8px;column-gap:8px}.gap-x-4{-moz-column-gap:16px;column-gap:16px}.gap-y-1{row-gap:4px}.gap-y-2{row-gap:8px}.gap-y-4{row-gap:16px}.space-x-0\\.5>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(2px * var(--tw-space-x-reverse));margin-left:calc(2px * calc(1 - var(--tw-space-x-reverse)))}.space-y-0\\.5>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(2px * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(2px * var(--tw-space-y-reverse))}.space-y-1>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(4px * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(4px * var(--tw-space-y-reverse))}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(8px * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(8px * var(--tw-space-y-reverse))}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-scroll{overflow-x:scroll}.text-pretty{text-wrap:pretty}.rounded-carrousel{border-radius:var(--radius-carrousel)}.rounded-full{border-radius:9999px}.rounded-gallery{border-radius:var(--radius-gallery)}.rounded-ui{border-radius:var(--radius-ui)}.rounded-ui-md{border-radius:calc(var(--radius-ui) + 2px)}.rounded-ui-sm{border-radius:calc(var(--radius-ui) - 2px)}.rounded-b-none{border-bottom-right-radius:0;border-bottom-left-radius:0}.rounded-t-none{border-top-left-radius:0;border-top-right-radius:0}.border{border-width:1px}.border-2{border-width:2px}.border-4{border-width:4px}.border-background{border-color:hsl(var(--background))}.border-foreground{border-color:hsl(var(--foreground))}.border-primary{border-color:hsl(var(--primary))}.border-b-transparent{border-bottom-color:transparent}.bg-background{background-color:hsl(var(--background))}.bg-background\\/25{background-color:hsl(var(--background) / .25)}.bg-background\\/50{background-color:hsl(var(--background) / .5)}.bg-background\\/60{background-color:hsl(var(--background) / .6)}.bg-foreground\\/25{background-color:hsl(var(--foreground) / .25)}.bg-foreground\\/30{background-color:hsl(var(--foreground) / .3)}.bg-foreground\\/35{background-color:hsl(var(--foreground) / .35)}.bg-foreground\\/40{background-color:hsl(var(--foreground) / .4)}.bg-foreground\\/50{background-color:hsl(var(--foreground) / .5)}.bg-foreground\\/60{background-color:hsl(var(--foreground) / .6)}.bg-foreground\\/65{background-color:hsl(var(--foreground) / .65)}.bg-foreground\\/75{background-color:hsl(var(--foreground) / .75)}.bg-neutral\\/50{background-color:hsl(var(--neutral) / .5)}.bg-primary{background-color:hsl(var(--primary))}.bg-primary-foreground{background-color:hsl(var(--primary-foreground))}.bg-primary\\/50{background-color:hsl(var(--primary) / .5)}.bg-transparent{background-color:transparent}.bg-gradient-to-t{background-image:linear-gradient(to top,var(--tw-gradient-stops))}.from-foreground{--tw-gradient-from: hsl(var(--foreground)) var(--tw-gradient-from-position);--tw-gradient-to: hsl(var(--foreground) / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.to-transparent{--tw-gradient-to: transparent var(--tw-gradient-to-position)}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.p-0\\.5{padding:2px}.p-1{padding:4px}.p-2{padding:8px}.p-4{padding:16px}.px-1\\.5{padding-left:6px;padding-right:6px}.px-2{padding-left:8px;padding-right:8px}.py-0\\.5{padding-top:2px;padding-bottom:2px}.py-1{padding-top:4px;padding-bottom:4px}.pl-6{padding-left:24px}.pr-12{padding-right:48px}.pr-4{padding-right:16px}.pt-8{padding-top:32px}.text-2xl{font-size:24px;line-height:32px}.text-\\[10px\\]{font-size:10px}.text-sm{font-size:14px;line-height:20px}.text-xl{font-size:20px;line-height:28px}.text-xs{font-size:12px;line-height:16px}.font-bold{font-weight:700}.font-semibold{font-weight:600}.leading-tight{line-height:1.25}.text-background{color:hsl(var(--background))}.text-background\\/75{color:hsl(var(--background) / .75)}.text-foreground{color:hsl(var(--foreground))}.text-foreground\\/65{color:hsl(var(--foreground) / .65)}.text-foreground\\/70{color:hsl(var(--foreground) / .7)}.text-neutral-foreground{color:hsl(var(--neutral-foreground))}.text-primary{color:hsl(var(--primary))}.text-primary-foreground{color:hsl(var(--primary-foreground))}.opacity-0{opacity:0}.opacity-100{opacity:1}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[width\\]{transition-property:width;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-radius{transition-property:border-radius;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-200{transition-duration:.2s}.duration-300{transition-duration:.3s}.duration-details{transition-duration:.35s}.no-scrollbar{scrollbar-width:none;-ms-overflow-style:none}.no-scrollbar::-webkit-scrollbar{display:none}.\\[mask-image\\:linear-gradient\\(to_left\\,transparent_0px\\,black_4px\\,black_calc\\(100\\%-4px\\)\\,transparent_100\\%\\)\\]{-webkit-mask-image:linear-gradient(to left,transparent 0px,black 4px,black calc(100% - 4px),transparent 100%);mask-image:linear-gradient(to left,transparent 0px,black 4px,black calc(100% - 4px),transparent 100%)}.\\*\\:pointer-events-auto>*{pointer-events:auto}.\\*\\:size-full>*{width:100%;height:100%}.\\*\\:snap-start>*{scroll-snap-align:start}.\\*\\:snap-always>*{scroll-snap-stop:always}.\\*\\:object-cover>*{-o-object-fit:cover;object-fit:cover}.after\\:absolute:after{content:var(--tw-content);position:absolute}.after\\:inset-0:after{content:var(--tw-content);inset:0}.after\\:rounded-gallery:after{content:var(--tw-content);border-radius:var(--radius-gallery)}.after\\:border-2:after{content:var(--tw-content);border-width:2px}.after\\:border-primary:after{content:var(--tw-content);border-color:hsl(var(--primary))}.after\\:opacity-0:after{content:var(--tw-content);opacity:0}.after\\:opacity-100:after{content:var(--tw-content);opacity:1}.after\\:transition-all:after{content:var(--tw-content);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.hover\\:z-hotspot-hover:hover{z-index:11}.hover\\:bg-foreground\\/25:hover{background-color:hsl(var(--foreground) / .25)}.hover\\:bg-primary\\/25:hover{background-color:hsl(var(--primary) / .25)}.hover\\:bg-primary\\/30:hover{background-color:hsl(var(--primary) / .3)}.hover\\:opacity-80:hover{opacity:.8}.hover\\:after\\:opacity-70:hover:after{content:var(--tw-content);opacity:.7}.disabled\\:opacity-60:disabled{opacity:.6}.group:hover .group-hover\\:pointer-events-auto{pointer-events:auto}.group\\/volume:hover .group-hover\\/volume\\:opacity-100{opacity:1}.group\\/volume:hover .group-hover\\/volume\\:opacity-50{opacity:.5}.group:hover .group-hover\\:opacity-100{opacity:1}@media ((orientation: portrait) and (max-width: 767px)) or ((orientation: landscape) and (max-width: 1023px)){.max-small\\:hidden{display:none}}@media ((orientation: portrait) and (min-width: 768px)) or ((orientation: landscape) and (min-width: 1024px)){.small\\:inset-x-2{left:8px;right:8px}.small\\:inset-y-2{top:8px;bottom:8px}.small\\:bottom-2{bottom:8px}.small\\:left-2{left:8px}.small\\:right-2{right:8px}.small\\:right-4{right:16px}.small\\:top-2{top:8px}.small\\:top-4{top:16px}.small\\:my-4{margin-top:16px;margin-bottom:16px}.small\\:hidden{display:none}.small\\:h-12{height:48px}.small\\:h-28{height:112px}.small\\:max-w-48{max-width:192px}.small\\:gap-2{gap:8px}.small\\:gap-x-2{-moz-column-gap:8px;column-gap:8px}.small\\:gap-y-2{row-gap:8px}.small\\:gap-y-4{row-gap:16px}.small\\:space-x-1>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(4px * var(--tw-space-x-reverse));margin-left:calc(4px * calc(1 - var(--tw-space-x-reverse)))}.small\\:p-3{padding:12px}.small\\:px-2{padding-left:8px;padding-right:8px}.small\\:py-1{padding-top:4px;padding-bottom:4px}.small\\:pl-8{padding-left:32px}.small\\:pr-6{padding-right:24px}.small\\:text-base{font-size:16px;line-height:24px}.small\\:text-sm{font-size:14px;line-height:20px}.small\\:font-bold{font-weight:700}}@media (min-width: 1280px){.large\\:h-20{height:80px}.large\\:h-3\\/5{height:60%}.large\\:max-w-56{max-width:224px}.large\\:gap-4{gap:16px}.large\\:p-2{padding:8px}.large\\:p-4{padding:16px}.large\\:text-base{font-size:16px;line-height:24px}.large\\:text-lg{font-size:18px;line-height:28px}}.pnlm-container{margin:0;padding:0;overflow:hidden;position:relative;cursor:default;width:100%;height:100%;font-family:Helvetica,Nimbus Sans L,Liberation Sans,Arial,sans-serif;background:#f4f4f4 url(\"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='67'%20height='100'%20viewBox='0%200%2067%20100'%3e%3cpath%20stroke='%23ccc'%20fill='none'%20d='M33.5,50,0,63,33.5,75,67,63,33.5,50m-33.5-50,67,25m-0.5,0,0,75m-66.5-75,67-25m-33.5,75,0,25m0-100,0,50'/%3e%3c/svg%3e\") repeat;-webkit-user-select:none;-moz-user-select:none;-o-user-select:none;user-select:none;outline:0;line-height:1.4;contain:content;touch-action:none}.pnlm-container *{box-sizing:content-box}.pnlm-ui{position:absolute;width:100%;height:100%;z-index:1}.pnlm-grab{cursor:grab;cursor:url(\"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='26'%20width='26'%3e%3cpath%20stroke='%23000'%20stroke-width='1px'%20fill='%23fff'%20d='m15.3%2020.5s6.38-6.73%204.64-8.24-3.47%201.01-3.47%201.01%203.61-5.72%201.41-6.49c-2.2-0.769-3.33%204.36-3.33%204.36s0.873-5.76-1.06-5.76-1.58%205.39-1.58%205.39-0.574-4.59-2.18-4.12c-1.61%200.468-0.572%205.51-0.572%205.51s-1.58-4.89-2.93-3.79c-1.35%201.11%200.258%205.25%200.572%206.62%200.836%202.43%202.03%202.94%202.17%205.55'/%3e%3c/svg%3e\") 12 8,default}.pnlm-grabbing{cursor:grabbing;cursor:url(\"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='26'%20width='26'%3e%3cpath%20stroke='%23000'%20stroke-width='1px'%20fill='%23fff'%20d='m15.3%2020.5s5.07-5.29%203.77-6.74c-1.31-1.45-2.53%200.14-2.53%200.14s2.74-3.29%200.535-4.06c-2.2-0.769-2.52%201.3-2.52%201.3s0.81-2.13-1.12-2.13-1.52%201.77-1.52%201.77-0.261-1.59-1.87-1.12c-1.61%200.468-0.874%202.17-0.874%202.17s-0.651-1.55-2-0.445c-1.35%201.11-0.68%202.25-0.365%203.62%200.836%202.43%202.03%202.94%202.17%205.55'/%3e%3c/svg%3e\") 12 8,default}.pnlm-sprite{background-image:url(\"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='26'%20height='208'%3e%3ccircle%20fill-opacity='.78'%20cy='117'%20cx='13'%20r='11'%20fill='%23fff'/%3e%3ccircle%20fill-opacity='.78'%20cy='143'%20cx='13'%20r='11'%20fill='%23fff'/%3e%3ccircle%20cy='169'%20cx='13'%20r='7'%20fill='none'%20stroke='%23000'%20stroke-width='2'/%3e%3ccircle%20cy='195'%20cx='13'%20r='7'%20fill='none'%20stroke='%23000'%20stroke-width='2'/%3e%3ccircle%20cx='13'%20cy='195'%20r='2.5'/%3e%3cpath%20d='m5%2083v6h2v-4h4v-2zm10%200v2h4v4h2v-6zm-5%205v6h6v-6zm-5%205v6h6v-2h-4v-4zm14%200v4h-4v2h6v-6z'/%3e%3cpath%20d='m13%20110a7%207%200%200%200%20-7%207%207%207%200%200%200%207%207%207%207%200%200%200%207%20-7%207%207%200%200%200%20-7%20-7zm-1%203h2v2h-2zm0%203h2v5h-2z'/%3e%3cpath%20d='m5%2057v6h2v-4h4v-2zm10%200v2h4v4h2v-6zm-10%2010v6h6v-2h-4v-4zm14%200v4h-4v2h6v-6z'/%3e%3cpath%20d='m17%2038v2h-8v-2z'/%3e%3cpath%20d='m12%209v3h-3v2h3v3h2v-3h3v-2h-3v-3z'/%3e%3cpath%20d='m13%20136-6.125%206.125h4.375v7.875h3.5v-7.875h4.375z'/%3e%3cpath%20d='m10.428%20173.33v-5.77l5-2.89v5.77zm1-1.73%203-1.73-3.001-1.74z'/%3e%3c/svg%3e\")}.pnlm-container:fullscreen{height:100%!important;width:100%!important;position:static!important}.pnlm-render-container{cursor:inherit;position:absolute;height:100%;width:100%}.pnlm-controls{margin-top:4px;background-color:#fff;border:1px solid #999;border-color:#0006;border-radius:3px;cursor:pointer;z-index:2;transform:translateZ(9999px)}.pnlm-control:hover{background-color:#f8f8f8}.pnlm-controls-container{position:absolute;top:0;left:4px;z-index:1}.pnlm-zoom-controls{width:26px;height:52px}.pnlm-zoom-in{width:100%;height:50%;position:absolute;top:0;border-radius:3px 3px 0 0}.pnlm-zoom-out{width:100%;height:50%;position:absolute;bottom:0;background-position:0 -26px;border-top:1px solid #ddd;border-top-color:#0000001a;border-radius:0 0 3px 3px}.pnlm-fullscreen-toggle-button,.pnlm-orientation-button,.pnlm-hot-spot-debug-indicator{width:26px;height:26px}.pnlm-hot-spot-debug-indicator{position:absolute;top:50%;left:50%;width:26px;height:26px;margin:-13px 0 0 -13px;background-color:#ffffff80;border-radius:13px;display:none}.pnlm-orientation-button-inactive{background-position:0 -156px}.pnlm-orientation-button-active{background-position:0 -182px}.pnlm-fullscreen-toggle-button-inactive{background-position:0 -52px}.pnlm-fullscreen-toggle-button-active{background-position:0 -78px}.pnlm-panorama-info{position:absolute;bottom:4px;background-color:#000000b3;border-radius:0 3px 3px 0;padding-right:10px;color:#fff;text-align:left;display:none;z-index:2;transform:translateZ(9999px)}.pnlm-title-box{position:relative;font-size:20px;display:table;padding-left:5px;margin-bottom:3px}.pnlm-author-box{position:relative;font-size:12px;display:table;padding-left:5px}.pnlm-load-box{position:absolute;top:50%;left:50%;width:200px;height:150px;margin:-75px 0 0 -100px;background-color:#000000b3;border-radius:3px;text-align:center;font-size:20px;display:none;color:#fff}.pnlm-load-box p{margin:20px 0}.pnlm-lbox{position:absolute;top:50%;left:50%;width:20px;height:20px;margin:-10px 0 0 -10px;display:none}.pnlm-loading{animation-duration:1.5s;-webkit-animation-duration:1.5s;animation-name:pnlm-mv;-webkit-animation-name:pnlm-mv;animation-iteration-count:infinite;-webkit-animation-iteration-count:infinite;animation-timing-function:linear;-webkit-animation-timing-function:linear;height:10px;width:10px;background-color:#fff;position:relative}@keyframes pnlm-mv{0%{left:0;top:0}25%{left:10px;top:0}50%{left:10px;top:10px}75%{left:0;top:10px}to{left:0;top:0}}.pnlm-load-button{position:absolute;top:50%;left:50%;width:200px;height:100px;margin:-50px 0 0 -100px;background-color:#000000b3;border-radius:3px;text-align:center;font-size:20px;display:table;color:#fff;cursor:pointer}.pnlm-load-button:hover{background-color:#000c}.pnlm-load-button p{display:table-cell;vertical-align:middle}.pnlm-info-box{font-size:15px;position:absolute;top:50%;left:50%;width:200px;height:150px;margin:-75px 0 0 -100px;background-color:#000;border-radius:3px;display:table;text-align:center;color:#fff;table-layout:fixed}.pnlm-info-box a{color:#fff;word-wrap:break-word;overflow-wrap:break-word}.pnlm-info-box p{display:table-cell;vertical-align:middle;padding:0 5px}.pnlm-error-msg{display:none}.pnlm-about-msg{font-size:11px;line-height:11px;color:#fff;padding:5px 8px;background:#000000b3;border-radius:3px;position:absolute;top:50px;left:50px;display:none;opacity:0;transition:opacity .3s ease-in-out;z-index:1}.pnlm-about-msg a:link,.pnlm-about-msg a:visited{color:#fff}.pnlm-about-msg a:hover,.pnlm-about-msg a:active{color:#eee}.pnlm-hotspot-base{position:absolute;visibility:hidden;cursor:default;vertical-align:middle;top:0;z-index:1}.pnlm-hotspot{height:26px;width:26px;border-radius:13px}.pnlm-hotspot:hover{background-color:#fff3}.pnlm-hotspot.pnlm-info{background-position:0 -104px}.pnlm-hotspot.pnlm-scene{background-position:0 -130px}div.pnlm-tooltip span{visibility:hidden;position:absolute;border-radius:3px;background-color:#000000b3;color:#fff;text-align:center;max-width:200px;padding:5px 10px;margin-left:-220px;cursor:default}div.pnlm-tooltip:hover span{visibility:visible}div.pnlm-tooltip:hover span:after{content:\"\";position:absolute;width:0;height:0;border-width:10px;border-style:solid;border-color:rgba(0,0,0,.7) transparent transparent transparent;bottom:-20px;left:-10px;margin:0 50%}.pnlm-compass{position:absolute;width:50px;height:50px;right:4px;bottom:4px;border-radius:25px;background-image:url(\"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='50'%20width='50'%3e%3cpath%20d='m24.5078%206-3.2578%2018h7.5l-3.25781-18h-0.984376zm-3.2578%2020%203.2578%2018h0.9844l3.2578-18h-7.5zm1.19531%200.9941h5.10938l-2.5547%2014.1075-2.5547-14.1075z'/%3e%3c/svg%3e\");cursor:default;display:none}.pnlm-world{position:absolute;left:50%;top:50%}.pnlm-face{position:absolute;transform-origin:0 0 0}.pnlm-dragfix,.pnlm-preview-img{position:absolute;height:100%;width:100%}.pnlm-preview-img{background-size:cover;background-position:center}.pnlm-lbar{width:150px;margin:0 auto;border:#fff 1px solid;height:6px}.pnlm-lbar-fill{background:#fff;height:100%;width:0}.pnlm-lmsg{font-size:12px}.pnlm-fade-img{position:absolute;top:0;left:0}.pnlm-pointer{cursor:pointer}#textInfo .tooltip-content{font-size:1.6em;position:absolute;left:-70px;bottom:80px;width:200px;pointer-events:none;background-color:#333;color:#fff;line-height:1.2em;padding:.8em;opacity:0;transform-origin:50% calc(100% + 6em);transform:rotate3d(0,0,1,15deg);transition:opacity .5s,transform .5s;transition-timing-function:ease,cubic-bezier(.17,.67,.4,1.39)}#textInfo:hover{z-index:3}#textInfo:hover .tooltip-content{opacity:1;pointer-events:all;transform:translateZ(0) rotate3d(0,0,0,0)}#textInfo .hotspot{cursor:pointer;box-sizing:border-box}#textInfo .hotspot .out:before{speak:none;font-size:48px;line-height:90px;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;display:block;-webkit-font-smoothing:antialiased}#textInfo .hotspot .out{width:60px;height:60px;border-radius:50%;border:5px solid rgba(255,255,255,.8);transition:transform ease-out .1s,border .2s;box-sizing:border-box}#textInfo .hotspot .in{width:40px;height:40px;position:absolute;top:10px;left:10px;background-color:#fffc;border-radius:50%;transition:transform ease-out .1s,background .2s}#textInfo .hotspot .out:after{top:0;left:0;padding:0;z-index:-1;box-shadow:0 0 0 2px #ffffff1a;opacity:0;pointer-events:none;position:absolute;width:100%;height:100%;border-radius:50%;content:\"\";box-sizing:content-box;transform:scale(.9)}#textInfo .hotspot:hover .out{border:5px solid rgba(255,255,255,1);transform:scale(.9);color:#fff}#textInfo .hotspot:hover .in{background-color:#fff;transform:scale(.8)}#textInfo .hotspot:hover .out:after{animation:sonarEffect 1.2s ease-out}@keyframes sonarEffect{0%{opacity:.5}20%{opacity:.8;box-shadow:0 0 0 2px #ffffff1a,0 0 10px 10px #25aae1cc,0 0 0 10px #ffffff80}to{box-shadow:0 0 0 2px #ffffff1a,0 0 10px 10px #25aae1cc,0 0 0 10px #ffffff80;transform:scale(1.5);opacity:0}}"}),o.jsx(bt,{...e})]}),t.checkCustomElementsDefinition=function(){return!!customElements.get(a)&&!!customElements.get(i)&&!!customElements.get(s)},t.generateCompositionUrl=function(e,t){return`https://cdn.car-cutter.com/gallery/${e}/${t}/composition_v3.json`}}}]);