"use strict";(self.webpackChunk_car_cutter_webplayer_docs=self.webpackChunk_car_cutter_webplayer_docs||[]).push([[349],{6809:function(e,n,i){i.r(n),i.d(n,{assets:function(){return t},contentTitle:function(){return l},default:function(){return a},frontMatter:function(){return d},metadata:function(){return o},toc:function(){return c}});var s=i(1085),r=i(1184);const d={sidebar_position:3},l="Events",o={id:"events",title:"Events",description:"Handling with WebPlayer component",source:"@site/docs/events.md",sourceDirName:".",slug:"/events",permalink:"/cars-webplayer-js/docs/events",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Customisation",permalink:"/cars-webplayer-js/docs/customisation"}},t={},c=[{value:"Handling with WebPlayer component",id:"handling-with-webplayer-component",level:2},{value:"Available Callbacks",id:"available-callbacks",level:3},{value:"Example Usage with React",id:"example-usage-with-react",level:3},{value:"Event Handling Directly with Listeners",id:"event-handling-directly-with-listeners",level:2},{value:"Available Events",id:"available-events",level:3},{value:"Example Usage with JavaScript",id:"example-usage-with-javascript",level:3}];function h(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"events",children:"Events"})}),"\n",(0,s.jsx)(n.h2,{id:"handling-with-webplayer-component",children:"Handling with WebPlayer component"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"WebPlayer"})," component provides several callback functions that can be used to handle various events. These callbacks can be passed as props to the ",(0,s.jsx)(n.code,{children:"WebPlayer"})," component."]}),"\n",(0,s.jsx)(n.h3,{id:"available-callbacks",children:"Available Callbacks"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"onCompositionLoading: (url: string) => void;"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Triggered when the composition is loading."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"onCompositionLoaded: (composition: Composition) => void;"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Triggered when the composition has successfully loaded."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"onCompositionLoadError: (error: unknown) => void;"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Triggered when there is an error loading the composition."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"onItemChange: (props: { index: number; item: Item }) => void;"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Triggered when there is on a carrousel focus changed."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"onExtendModeOn: () => void;"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Triggered when the extend mode is turned on."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"onExtendModeOff: () => void;"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Triggered when the extend mode is turned off."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"onHotspotsOn: () => void;"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Triggered when hotspots are turned on."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"onHotspotsOff: () => void;"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Triggered when hotspots are turned off."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"onGalleryOpen: () => void;"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Triggered when the gallery is opened."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"onGalleryClose: () => void;"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Triggered when the gallery is closed."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"example-usage-with-react",children:"Example Usage with React"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'import WebPlayer from "./WebPlayer";\n\nconst App = () => {\n  const handleCompositionLoaded = () => {\n    console.log("Composition loaded");\n  };\n\n  const handleCompositionLoadError = () => {\n    console.error("Error loading composition");\n  };\n\n  return (\n    <WebPlayer\n      compositionUrl="..."\n      onCompositionLoaded={handleCompositionLoaded}\n      onCompositionLoadError={handleCompositionLoadError}\n      // Add other event handlers as needed\n    />\n  );\n};\n\nexport default App;\n'})}),"\n",(0,s.jsx)(n.h2,{id:"event-handling-directly-with-listeners",children:"Event Handling Directly with Listeners"}),"\n",(0,s.jsx)(n.p,{children:"In addition to using the provided callback functions, you can also handle events directly by adding event listeners."}),"\n",(0,s.jsxs)(n.admonition,{type:"info",children:[(0,s.jsxs)(n.p,{children:["The default prefix for all WebPlayer events is ",(0,s.jsx)(n.code,{children:'"cc-webplayer:"'}),". This prefix helps to avoid potential conflicts with other events in your application."]}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["If you do not want to hardcode the prefix, you can access it through the constant ",(0,s.jsx)(n.code,{children:"DEFAULT_EVENT_PREFIX"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["You can customize the event prefix by setting the property ",(0,s.jsx)(n.code,{children:"eventPrefix"}),"."]}),"\n"]})]}),"\n",(0,s.jsx)(n.h3,{id:"available-events",children:"Available Events"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Event"}),(0,s.jsx)(n.th,{children:"Constant"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'"composition-loading"'})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"EVENT_COMPOSITION_LOADING"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'"composition-loaded"'})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"EVENT_COMPOSITION_LOADED"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'"composition-load-error"'})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"EVENT_COMPOSITION_LOAD_ERROR"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'"item-change"'})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"EVENT_ITEM_CHANGE"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'"extend-mode-on"'})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"EVENT_EXTEND_MODE_ON"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'"extend-mode-off"'})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"EVENT_EXTEND_MODE_OFF"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'"hotspots-on"'})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"EVENT_HOTSPOTS_ON"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'"hotspots-off"'})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"EVENT_HOTSPOTS_OFF"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'"gallery-open"'})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"EVENT_GALLERY_OPEN"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'"gallery-close"'})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"EVENT_GALLERY_CLOSE"})})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"example-usage-with-javascript",children:"Example Usage with JavaScript"}),"\n",(0,s.jsx)(n.p,{children:"Here's how you can add event listeners for these events:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'import {\n  DEFAULT_EVENT_PREFIX,\n  EVENT_COMPOSITION_LOADED,\n} from "@car-cutter/core-wc";\n\ndocument.addEventListener(\n  DEFAULT_EVENT_PREFIX + EVENT_COMPOSITION_LOADED,\n  function (event) {\n    console.log("WebPlayer Composition is loading");\n  }\n);\n\ndocument.addEventListener("cc-webplayer:gallery-open", function (event) {\n  console.log("WebPlayer Gallery opened");\n});\n'})})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},1184:function(e,n,i){i.d(n,{R:()=>l,x:()=>o});var s=i(4041);const r={},d=s.createContext(r);function l(e){const n=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);