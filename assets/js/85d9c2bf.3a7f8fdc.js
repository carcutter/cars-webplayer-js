"use strict";(self.webpackChunk_car_cutter_webplayer_docs=self.webpackChunk_car_cutter_webplayer_docs||[]).push([[600],{5969:function(e,i,n){n.r(i),n.d(i,{assets:function(){return d},contentTitle:function(){return o},default:function(){return h},frontMatter:function(){return r},metadata:function(){return s},toc:function(){return l}});var t=n(1085),a=n(1184);const r={sidebar_position:6},o="Optimization",s={id:"optimization",title:"Optimization",description:"To ensure the WebPlayer loads quickly and efficiently, you can use several techniques to optimize the initial load and defer loading of additional media until later. This guide will walk you through the available options.",source:"@site/docs/optimization.md",sourceDirName:".",slug:"/optimization",permalink:"/cars-webplayer-js/docs/optimization",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"Iconography",permalink:"/cars-webplayer-js/docs/advanced_customisation/icons"}},d={},l=[{value:"Available props",id:"available-props",level:2},{value:"Media Load Strategy",id:"media-load-strategy",level:3},{value:"Media Width Limits",id:"media-width-limits",level:3},{value:"Preload Range",id:"preload-range",level:3},{value:"Fasten First Load before User Interaction",id:"fasten-first-load-before-user-interaction",level:2},{value:"Complete Optimization Example",id:"complete-optimization-example",level:3}];function c(e){const i={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"optimization",children:"Optimization"})}),"\n",(0,t.jsx)(i.p,{children:"To ensure the WebPlayer loads quickly and efficiently, you can use several techniques to optimize the initial load and defer loading of additional media until later. This guide will walk you through the available options."}),"\n",(0,t.jsx)(i.h2,{id:"available-props",children:"Available props"}),"\n",(0,t.jsx)(i.h3,{id:"media-load-strategy",children:"Media Load Strategy"}),"\n",(0,t.jsxs)(i.p,{children:["The ",(0,t.jsx)(i.code,{children:"mediaLoadStrategy"})," prop allows you to control how medias are loaded. You can choose between three strategies:"]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:'"quality"'}),": Prioritizes loading high-quality media."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:'"balanced"'}),": Balances between quality and speed."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:'"speed"'}),": Prioritizes loading speed over quality."]}),"\n"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-tsx",children:'<WebPlayer ... mediaLoadStrategy="speed" />\n'})}),"\n",(0,t.jsx)(i.h3,{id:"media-width-limits",children:"Media Width Limits"}),"\n",(0,t.jsxs)(i.p,{children:["CarCutter provides several medias resolution to optimize the user experience by providing the right size for each media.\nIf you do not want your medias to go below/over a certain width, you can use the ",(0,t.jsx)(i.code,{children:"minMediaWidth"})," and ",(0,t.jsx)(i.code,{children:"maxMediaWidth"})," props."]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-tsx",children:"<WebPlayer\n  ...\n  minMediaWidth={300}\n  maxMediaWidth={800}\n/>\n"})}),"\n",(0,t.jsx)(i.h3,{id:"preload-range",children:"Preload Range"}),"\n",(0,t.jsxs)(i.p,{children:["The ",(0,t.jsx)(i.code,{children:"preloadRange"})," prop specifies how many media items to preload on either side of the current media. This helps in controlling when preloading should occur."]}),"\n",(0,t.jsx)(i.p,{children:"For instance, the following code will load 5 medias at the same time (the current media + 2 on left + 2 on the right)"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-tsx",children:"<WebPlayer ... preloadRange={2} />\n"})}),"\n",(0,t.jsx)(i.admonition,{type:"tip",children:(0,t.jsxs)(i.p,{children:["You can set ",(0,t.jsx)(i.code,{children:"preloadRange"})," to 0 if you want to lead only the displayed media, but it will feel very buggy to the user.\nWhat you can do is to increase the value as soon as the user can interact with your page. See more on the ",(0,t.jsx)(i.strong,{children:(0,t.jsx)(i.a,{href:"#fasten-first-load-before-user-interaction",children:"corresponding section"})}),"."]})}),"\n",(0,t.jsx)(i.h2,{id:"fasten-first-load-before-user-interaction",children:"Fasten First Load before User Interaction"}),"\n",(0,t.jsxs)(i.p,{children:["You can defer loading higher quality media until the user interacts with the WebPlayer. For example, you can set a lower ",(0,t.jsx)(i.code,{children:"maxMediaWidth"})," initially and increase it after user interaction."]}),"\n",(0,t.jsx)(i.h3,{id:"complete-optimization-example",children:"Complete Optimization Example"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-tsx",metastring:'title="OptimizedWebPlayer.tsx"',children:'import { useState, useEffect } from "react";\nimport { WebPlayer } from "@car-cutter/react-webplayer";\n\nconst OptimizedWebPlayer = () => {\n  const [userInteracted, setUserInteracted] = useState(false);\n\n  useEffect(() => {\n    const handleUserInteraction = () => setUserInteracted(true);\n    window.addEventListener("click", handleUserInteraction);\n    return () => window.removeEventListener("click", handleUserInteraction);\n  }, []);\n\n  return (\n    <WebPlayer\n      ...\n      mediaLoadStrategy={!userInteracted ? "speed" : "quality"}\n      maxMediaWidth={!userInteracted ? 500 : Infinity}\n      preloadRange={!userInteracted ? 0 : 2}\n    />\n  );\n};\n\nexport default OptimizedWebPlayer;\n'})}),"\n",(0,t.jsx)(i.admonition,{type:"tip",children:(0,t.jsx)(i.p,{children:"In this example, we are waiting for the user to click before loading the higher definition medias...\nBut, in fact, you could use any event/condition you want !"})}),"\n",(0,t.jsx)(i.p,{children:"By using these techniques, you can ensure that the WebPlayer loads quickly initially and then loads additional media as needed, providing a smooth user experience."})]})}function h(e={}){const{wrapper:i}={...(0,a.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},1184:function(e,i,n){n.d(i,{R:function(){return o},x:function(){return s}});var t=n(4041);const a={},r=t.createContext(a);function o(e){const i=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function s(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),t.createElement(r.Provider,{value:i},e.children)}}}]);